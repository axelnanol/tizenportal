var TizenPortal=function(){"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function e(t,e,r,n,o,i,a){try{var s=t[i](a),l=s.value}catch(t){return void r(t)}s.done?e(l):Promise.resolve(l).then(n,o)}function r(t){return function(){var r=this,n=arguments;return new Promise(function(o,i){var a=t.apply(r,n);function s(t){e(a,o,i,s,l,"next",t)}function l(t){e(a,o,i,s,l,"throw",t)}s(void 0)})}}function n(e,r){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,r){if(e){if("string"==typeof e)return t(e,r);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}}(e))||r){n&&(e=n);var o=0,i=function(){};return{s:i,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}function o(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */
var t,e,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function s(r,n,o,a){var s=n&&n.prototype instanceof c?n:c,u=Object.create(s.prototype);return i(u,"_invoke",function(r,n,o){var i,a,s,c=0,u=o||[],d=!1,p={p:0,n:0,v:t,a:f,f:f.bind(t,4),d:function(e,r){return i=e,a=0,s=t,p.n=r,l}};function f(r,n){for(a=r,s=n,e=0;!d&&c&&!o&&e<u.length;e++){var o,i=u[e],f=p.p,g=i[2];r>3?(o=g===n)&&(s=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=t):i[0]<=f&&((o=r<2&&f<i[1])?(a=0,p.v=n,p.n=i[1]):f<g&&(o=r<3||i[0]>n||n>g)&&(i[4]=r,i[5]=n,p.n=g,a=0))}if(o||r>1)return l;throw d=!0,n}return function(o,u,g){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,g),a=u,s=g;(e=a<2?t:s)||!d;){i||(a?a<3?(a>1&&(p.n=-1),f(a,s)):p.n=s:p.v=s);try{if(c=2,i){if(a||(o="next"),e=i[o]){if(!(e=e.call(i,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,a<2&&(a=0)}else 1===a&&(e=i.return)&&e.call(i),a<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=t}else if((e=(d=p.n<0)?s:r.call(n,p))!==l)break}catch(e){i=t,a=1,s=e}finally{c=1}}return{value:e,done:d}}}(r,o,a),!0),u}var l={};function c(){}function u(){}function d(){}e=Object.getPrototypeOf;var p=[][n]?e(e([][n]())):(i(e={},n,function(){return this}),e),f=d.prototype=c.prototype=Object.create(p);function g(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,i(t,a,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=d,i(f,"constructor",d),i(d,"constructor",u),u.displayName="GeneratorFunction",i(d,a,"GeneratorFunction"),i(f),i(f,a,"Generator"),i(f,n,function(){return this}),i(f,"toString",function(){return"[object Generator]"}),(o=function(){return{w:s,m:g}})()}function i(t,e,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}i=function(t,e,r,n){function a(e,r){i(t,e,function(t){return this._invoke(e,r,t)})}e?o?o(t,e,{value:r,enumerable:!n,configurable:!n,writable:!n}):t[e]=r:(a("next",0),a("throw",1),a("return",2))},i(t,e,r,n)}function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},l=function(t){return t&&t.Math===Math&&t},c=l("object"==typeof globalThis&&globalThis)||l("object"==typeof window&&window)||l("object"==typeof self&&self)||l("object"==typeof s&&s)||l("object"==typeof s&&s)||function(){return this}()||Function("return this")(),u={},d=function(t){try{return!!t()}catch(t){return!0}},p=!d(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}),f=!d(function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}),g=f,h=Function.prototype.call,m=g?h.bind(h):function(){return h.apply(h,arguments)},v={},y={}.propertyIsEnumerable,b=Object.getOwnPropertyDescriptor,w=b&&!y.call({1:2},1);v.f=w?function(t){var e=b(this,t);return!!e&&e.enumerable}:y;var x,T,P=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},k=f,S=Function.prototype,E=S.call,A=k&&S.bind.bind(E,E),C=k?A:function(t){return function(){return E.apply(t,arguments)}},O=C,I=O({}.toString),z=O("".slice),R=function(t){return z(I(t),8,-1)},M=d,N=R,B=Object,L=C("".split),_=M(function(){return!B("z").propertyIsEnumerable(0)})?function(t){return"String"===N(t)?L(t,""):B(t)}:B,D=function(t){return null==t},F=D,U=TypeError,j=function(t){if(F(t))throw new U("Can't call method on "+t);return t},H=_,q=j,V=function(t){return H(q(t))},G="object"==typeof document&&document.all,W=void 0===G&&void 0!==G?function(t){return"function"==typeof t||t===G}:function(t){return"function"==typeof t},Y=W,X=function(t){return"object"==typeof t?null!==t:Y(t)},K=c,J=W,$=function(t,e){return arguments.length<2?(r=K[t],J(r)?r:void 0):K[t]&&K[t][e];var r},Z=C({}.isPrototypeOf),Q=c.navigator,tt=Q&&Q.userAgent,et=tt?String(tt):"",rt=c,nt=et,ot=rt.process,it=rt.Deno,at=ot&&ot.versions||it&&it.version,st=at&&at.v8;st&&(T=(x=st.split("."))[0]>0&&x[0]<4?1:+(x[0]+x[1])),!T&&nt&&(!(x=nt.match(/Edge\/(\d+)/))||x[1]>=74)&&(x=nt.match(/Chrome\/(\d+)/))&&(T=+x[1]);var lt=T,ct=lt,ut=d,dt=c.String,pt=!!Object.getOwnPropertySymbols&&!ut(function(){var t=Symbol("symbol detection");return!dt(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&ct&&ct<41}),ft=pt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,gt=$,ht=W,mt=Z,vt=Object,yt=ft?function(t){return"symbol"==typeof t}:function(t){var e=gt("Symbol");return ht(e)&&mt(e.prototype,vt(t))},bt=String,wt=function(t){try{return bt(t)}catch(t){return"Object"}},xt=W,Tt=wt,Pt=TypeError,kt=function(t){if(xt(t))return t;throw new Pt(Tt(t)+" is not a function")},St=kt,Et=D,At=function(t,e){var r=t[e];return Et(r)?void 0:St(r)},Ct=m,Ot=W,It=X,zt=TypeError,Rt=function(t,e){var r,n;if("string"===e&&Ot(r=t.toString)&&!It(n=Ct(r,t)))return n;if(Ot(r=t.valueOf)&&!It(n=Ct(r,t)))return n;if("string"!==e&&Ot(r=t.toString)&&!It(n=Ct(r,t)))return n;throw new zt("Can't convert object to primitive value")},Mt={exports:{}},Nt=c,Bt=Object.defineProperty,Lt=function(t,e){try{Bt(Nt,t,{value:e,configurable:!0,writable:!0})}catch(r){Nt[t]=e}return e},_t=c,Dt=Lt,Ft="__core-js_shared__",Ut=Mt.exports=_t[Ft]||Dt(Ft,{});(Ut.versions||(Ut.versions=[])).push({version:"3.47.0",mode:"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru), 2025 CoreJS Company (core-js.io)",license:"https://github.com/zloirock/core-js/blob/v3.47.0/LICENSE",source:"https://github.com/zloirock/core-js"});var jt=Mt.exports,Ht=jt,qt=function(t,e){return Ht[t]||(Ht[t]=e||{})},Vt=j,Gt=Object,Wt=function(t){return Gt(Vt(t))},Yt=Wt,Xt=C({}.hasOwnProperty),Kt=Object.hasOwn||function(t,e){return Xt(Yt(t),e)},Jt=C,$t=0,Zt=Math.random(),Qt=Jt(1.1.toString),te=function(t){return"Symbol("+(void 0===t?"":t)+")_"+Qt(++$t+Zt,36)},ee=qt,re=Kt,ne=te,oe=pt,ie=ft,ae=c.Symbol,se=ee("wks"),le=ie?ae.for||ae:ae&&ae.withoutSetter||ne,ce=function(t){return re(se,t)||(se[t]=oe&&re(ae,t)?ae[t]:le("Symbol."+t)),se[t]},ue=m,de=X,pe=yt,fe=At,ge=Rt,he=TypeError,me=ce("toPrimitive"),ve=function(t,e){if(!de(t)||pe(t))return t;var r,n=fe(t,me);if(n){if(void 0===e&&(e="default"),r=ue(n,t,e),!de(r)||pe(r))return r;throw new he("Can't convert object to primitive value")}return void 0===e&&(e="number"),ge(t,e)},ye=ve,be=yt,we=function(t){var e=ye(t,"string");return be(e)?e:e+""},xe=X,Te=c.document,Pe=xe(Te)&&xe(Te.createElement),ke=function(t){return Pe?Te.createElement(t):{}},Se=ke,Ee=!p&&!d(function(){return 7!==Object.defineProperty(Se("div"),"a",{get:function(){return 7}}).a}),Ae=p,Ce=m,Oe=v,Ie=P,ze=V,Re=we,Me=Kt,Ne=Ee,Be=Object.getOwnPropertyDescriptor;u.f=Ae?Be:function(t,e){if(t=ze(t),e=Re(e),Ne)try{return Be(t,e)}catch(t){}if(Me(t,e))return Ie(!Ce(Oe.f,t,e),t[e])};var Le={},_e=p&&d(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype}),De=X,Fe=String,Ue=TypeError,je=function(t){if(De(t))return t;throw new Ue(Fe(t)+" is not an object")},He=p,qe=Ee,Ve=_e,Ge=je,We=we,Ye=TypeError,Xe=Object.defineProperty,Ke=Object.getOwnPropertyDescriptor,Je="enumerable",$e="configurable",Ze="writable";Le.f=He?Ve?function(t,e,r){if(Ge(t),e=We(e),Ge(r),"function"==typeof t&&"prototype"===e&&"value"in r&&Ze in r&&!r[Ze]){var n=Ke(t,e);n&&n[Ze]&&(t[e]=r.value,r={configurable:$e in r?r[$e]:n[$e],enumerable:Je in r?r[Je]:n[Je],writable:!1})}return Xe(t,e,r)}:Xe:function(t,e,r){if(Ge(t),e=We(e),Ge(r),qe)try{return Xe(t,e,r)}catch(t){}if("get"in r||"set"in r)throw new Ye("Accessors not supported");return"value"in r&&(t[e]=r.value),t};var Qe=Le,tr=P,er=p?function(t,e,r){return Qe.f(t,e,tr(1,r))}:function(t,e,r){return t[e]=r,t},rr={exports:{}},nr=p,or=Kt,ir=Function.prototype,ar=nr&&Object.getOwnPropertyDescriptor,sr=or(ir,"name"),lr={EXISTS:sr,PROPER:sr&&"something"===function(){}.name,CONFIGURABLE:sr&&(!nr||nr&&ar(ir,"name").configurable)},cr=W,ur=jt,dr=C(Function.toString);cr(ur.inspectSource)||(ur.inspectSource=function(t){return dr(t)});var pr,fr,gr,hr=ur.inspectSource,mr=W,vr=c.WeakMap,yr=mr(vr)&&/native code/.test(String(vr)),br=te,wr=qt("keys"),xr=function(t){return wr[t]||(wr[t]=br(t))},Tr={},Pr=yr,kr=c,Sr=X,Er=er,Ar=Kt,Cr=jt,Or=xr,Ir=Tr,zr="Object already initialized",Rr=kr.TypeError,Mr=kr.WeakMap;if(Pr||Cr.state){var Nr=Cr.state||(Cr.state=new Mr);Nr.get=Nr.get,Nr.has=Nr.has,Nr.set=Nr.set,pr=function(t,e){if(Nr.has(t))throw new Rr(zr);return e.facade=t,Nr.set(t,e),e},fr=function(t){return Nr.get(t)||{}},gr=function(t){return Nr.has(t)}}else{var Br=Or("state");Ir[Br]=!0,pr=function(t,e){if(Ar(t,Br))throw new Rr(zr);return e.facade=t,Er(t,Br,e),e},fr=function(t){return Ar(t,Br)?t[Br]:{}},gr=function(t){return Ar(t,Br)}}var Lr={set:pr,get:fr,has:gr,enforce:function(t){return gr(t)?fr(t):pr(t,{})},getterFor:function(t){return function(e){var r;if(!Sr(e)||(r=fr(e)).type!==t)throw new Rr("Incompatible receiver, "+t+" required");return r}}},_r=C,Dr=d,Fr=W,Ur=Kt,jr=p,Hr=lr.CONFIGURABLE,qr=hr,Vr=Lr.enforce,Gr=Lr.get,Wr=String,Yr=Object.defineProperty,Xr=_r("".slice),Kr=_r("".replace),Jr=_r([].join),$r=jr&&!Dr(function(){return 8!==Yr(function(){},"length",{value:8}).length}),Zr=String(String).split("String"),Qr=rr.exports=function(t,e,r){"Symbol("===Xr(Wr(e),0,7)&&(e="["+Kr(Wr(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!Ur(t,"name")||Hr&&t.name!==e)&&(jr?Yr(t,"name",{value:e,configurable:!0}):t.name=e),$r&&r&&Ur(r,"arity")&&t.length!==r.arity&&Yr(t,"length",{value:r.arity});try{r&&Ur(r,"constructor")&&r.constructor?jr&&Yr(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var n=Vr(t);return Ur(n,"source")||(n.source=Jr(Zr,"string"==typeof e?e:"")),t};Function.prototype.toString=Qr(function(){return Fr(this)&&Gr(this).source||qr(this)},"toString");var tn=rr.exports,en=W,rn=Le,nn=tn,on=Lt,an=function(t,e,r,n){n||(n={});var o=n.enumerable,i=void 0!==n.name?n.name:e;if(en(r)&&nn(r,i,n),n.global)o?t[e]=r:on(e,r);else{try{n.unsafe?t[e]&&(o=!0):delete t[e]}catch(t){}o?t[e]=r:rn.f(t,e,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return t},sn={},ln=Math.ceil,cn=Math.floor,un=Math.trunc||function(t){var e=+t;return(e>0?cn:ln)(e)},dn=un,pn=function(t){var e=+t;return e!=e||0===e?0:dn(e)},fn=pn,gn=Math.max,hn=Math.min,mn=function(t,e){var r=fn(t);return r<0?gn(r+e,0):hn(r,e)},vn=pn,yn=Math.min,bn=function(t){var e=vn(t);return e>0?yn(e,9007199254740991):0},wn=bn,xn=function(t){return wn(t.length)},Tn=V,Pn=mn,kn=xn,Sn=function(t){return function(e,r,n){var o=Tn(e),i=kn(o);if(0===i)return!t&&-1;var a,s=Pn(n,i);if(t&&r!=r){for(;i>s;)if((a=o[s++])!=a)return!0}else for(;i>s;s++)if((t||s in o)&&o[s]===r)return t||s||0;return!t&&-1}},En={includes:Sn(!0),indexOf:Sn(!1)},An=Kt,Cn=V,On=En.indexOf,In=Tr,zn=C([].push),Rn=function(t,e){var r,n=Cn(t),o=0,i=[];for(r in n)!An(In,r)&&An(n,r)&&zn(i,r);for(;e.length>o;)An(n,r=e[o++])&&(~On(i,r)||zn(i,r));return i},Mn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Nn=Rn,Bn=Mn.concat("length","prototype");sn.f=Object.getOwnPropertyNames||function(t){return Nn(t,Bn)};var Ln={};Ln.f=Object.getOwnPropertySymbols;var _n=$,Dn=sn,Fn=Ln,Un=je,jn=C([].concat),Hn=_n("Reflect","ownKeys")||function(t){var e=Dn.f(Un(t)),r=Fn.f;return r?jn(e,r(t)):e},qn=Kt,Vn=Hn,Gn=u,Wn=Le,Yn=function(t,e,r){for(var n=Vn(e),o=Wn.f,i=Gn.f,a=0;a<n.length;a++){var s=n[a];qn(t,s)||r&&qn(r,s)||o(t,s,i(e,s))}},Xn=d,Kn=W,Jn=/#|\.prototype\./,$n=function(t,e){var r=Qn[Zn(t)];return r===eo||r!==to&&(Kn(e)?Xn(e):!!e)},Zn=$n.normalize=function(t){return String(t).replace(Jn,".").toLowerCase()},Qn=$n.data={},to=$n.NATIVE="N",eo=$n.POLYFILL="P",ro=$n,no=c,oo=u.f,io=er,ao=an,so=Lt,lo=Yn,co=ro,uo=function(t,e){var r,n,o,i,a,s=t.target,l=t.global,c=t.stat;if(r=l?no:c?no[s]||so(s,{}):no[s]&&no[s].prototype)for(n in e){if(i=e[n],o=t.dontCallGetSet?(a=oo(r,n))&&a.value:r[n],!co(l?n:s+(c?".":"#")+n,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;lo(i,o)}(t.sham||o&&o.sham)&&io(i,"sham",!0),ao(r,n,i,t)}},po={};po[ce("toStringTag")]="z";var fo="[object z]"===String(po),go=fo,ho=W,mo=R,vo=ce("toStringTag"),yo=Object,bo="Arguments"===mo(function(){return arguments}()),wo=go?mo:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=yo(t),vo))?r:bo?mo(e):"Object"===(n=mo(e))&&ho(e.callee)?"Arguments":n},xo=wo,To=String,Po=function(t){if("Symbol"===xo(t))throw new TypeError("Cannot convert a Symbol value to a string");return To(t)},ko={},So=Rn,Eo=Mn,Ao=Object.keys||function(t){return So(t,Eo)},Co=p,Oo=_e,Io=Le,zo=je,Ro=V,Mo=Ao;ko.f=Co&&!Oo?Object.defineProperties:function(t,e){zo(t);for(var r,n=Ro(e),o=Mo(e),i=o.length,a=0;i>a;)Io.f(t,r=o[a++],n[r]);return t};var No,Bo=$("document","documentElement"),Lo=je,_o=ko,Do=Mn,Fo=Tr,Uo=Bo,jo=ke,Ho="prototype",qo="script",Vo=xr("IE_PROTO"),Go=function(){},Wo=function(t){return"<"+qo+">"+t+"</"+qo+">"},Yo=function(t){t.write(Wo("")),t.close();var e=t.parentWindow.Object;return t=null,e},Xo=function(){try{No=new ActiveXObject("htmlfile")}catch(t){}var t,e,r;Xo="undefined"!=typeof document?document.domain&&No?Yo(No):(e=jo("iframe"),r="java"+qo+":",e.style.display="none",Uo.appendChild(e),e.src=String(r),(t=e.contentWindow.document).open(),t.write(Wo("document.F=Object")),t.close(),t.F):Yo(No);for(var n=Do.length;n--;)delete Xo[Ho][Do[n]];return Xo()};Fo[Vo]=!0;var Ko=Object.create||function(t,e){var r;return null!==t?(Go[Ho]=Lo(t),r=new Go,Go[Ho]=null,r[Vo]=t):r=Xo(),void 0===e?r:_o.f(r,e)},Jo={},$o=C([].slice),Zo=R,Qo=V,ti=sn.f,ei=$o,ri="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Jo.f=function(t){return ri&&"Window"===Zo(t)?function(t){try{return ti(t)}catch(t){return ei(ri)}}(t):ti(Qo(t))};var ni=tn,oi=Le,ii=function(t,e,r){return r.get&&ni(r.get,e,{getter:!0}),r.set&&ni(r.set,e,{setter:!0}),oi.f(t,e,r)},ai={},si=ce;ai.f=si;var li=c,ci=li,ui=Kt,di=ai,pi=Le.f,fi=function(t){var e=ci.Symbol||(ci.Symbol={});ui(e,t)||pi(e,t,{value:di.f(t)})},gi=m,hi=$,mi=ce,vi=an,yi=function(){var t=hi("Symbol"),e=t&&t.prototype,r=e&&e.valueOf,n=mi("toPrimitive");e&&!e[n]&&vi(e,n,function(t){return gi(r,this)},{arity:1})},bi=Le.f,wi=Kt,xi=ce("toStringTag"),Ti=function(t,e,r){t&&!r&&(t=t.prototype),t&&!wi(t,xi)&&bi(t,xi,{configurable:!0,value:e})},Pi=R,ki=C,Si=function(t){if("Function"===Pi(t))return ki(t)},Ei=kt,Ai=f,Ci=Si(Si.bind),Oi=function(t,e){return Ei(t),void 0===e?t:Ai?Ci(t,e):function(){return t.apply(e,arguments)}},Ii=R,zi=Array.isArray||function(t){return"Array"===Ii(t)},Ri=C,Mi=d,Ni=W,Bi=wo,Li=hr,_i=function(){},Di=$("Reflect","construct"),Fi=/^\s*(?:class|function)\b/,Ui=Ri(Fi.exec),ji=!Fi.test(_i),Hi=function(t){if(!Ni(t))return!1;try{return Di(_i,[],t),!0}catch(t){return!1}},qi=function(t){if(!Ni(t))return!1;switch(Bi(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return ji||!!Ui(Fi,Li(t))}catch(t){return!0}};qi.sham=!0;var Vi=!Di||Mi(function(){var t;return Hi(Hi.call)||!Hi(Object)||!Hi(function(){t=!0})||t})?qi:Hi,Gi=zi,Wi=Vi,Yi=X,Xi=ce("species"),Ki=Array,Ji=function(t){var e;return Gi(t)&&(e=t.constructor,(Wi(e)&&(e===Ki||Gi(e.prototype))||Yi(e)&&null===(e=e[Xi]))&&(e=void 0)),void 0===e?Ki:e},$i=function(t,e){return new(Ji(t))(0===e?0:e)},Zi=Oi,Qi=_,ta=Wt,ea=xn,ra=$i,na=C([].push),oa=function(t){var e=1===t,r=2===t,n=3===t,o=4===t,i=6===t,a=7===t,s=5===t||i;return function(l,c,u,d){for(var p,f,g=ta(l),h=Qi(g),m=ea(h),v=Zi(c,u),y=0,b=d||ra,w=e?b(l,m):r||a?b(l,0):void 0;m>y;y++)if((s||y in h)&&(f=v(p=h[y],y,g),t))if(e)w[y]=f;else if(f)switch(t){case 3:return!0;case 5:return p;case 6:return y;case 2:na(w,p)}else switch(t){case 4:return!1;case 7:na(w,p)}return i?-1:n||o?o:w}},ia={forEach:oa(0),map:oa(1),filter:oa(2),some:oa(3),every:oa(4),find:oa(5),findIndex:oa(6)},aa=uo,sa=c,la=m,ca=C,ua=p,da=pt,pa=d,fa=Kt,ga=Z,ha=je,ma=V,va=we,ya=Po,ba=P,wa=Ko,xa=Ao,Ta=sn,Pa=Jo,ka=Ln,Sa=u,Ea=Le,Aa=ko,Ca=v,Oa=an,Ia=ii,za=qt,Ra=Tr,Ma=te,Na=ce,Ba=ai,La=fi,_a=yi,Da=Ti,Fa=Lr,Ua=ia.forEach,ja=xr("hidden"),Ha="Symbol",qa="prototype",Va=Fa.set,Ga=Fa.getterFor(Ha),Wa=Object[qa],Ya=sa.Symbol,Xa=Ya&&Ya[qa],Ka=sa.RangeError,Ja=sa.TypeError,$a=sa.QObject,Za=Sa.f,Qa=Ea.f,ts=Pa.f,es=Ca.f,rs=ca([].push),ns=za("symbols"),os=za("op-symbols"),is=za("wks"),as=!$a||!$a[qa]||!$a[qa].findChild,ss=function(t,e,r){var n=Za(Wa,e);n&&delete Wa[e],Qa(t,e,r),n&&t!==Wa&&Qa(Wa,e,n)},ls=ua&&pa(function(){return 7!==wa(Qa({},"a",{get:function(){return Qa(this,"a",{value:7}).a}})).a})?ss:Qa,cs=function(t,e){var r=ns[t]=wa(Xa);return Va(r,{type:Ha,tag:t,description:e}),ua||(r.description=e),r},us=function(t,e,r){t===Wa&&us(os,e,r),ha(t);var n=va(e);return ha(r),fa(ns,n)?(r.enumerable?(fa(t,ja)&&t[ja][n]&&(t[ja][n]=!1),r=wa(r,{enumerable:ba(0,!1)})):(fa(t,ja)||Qa(t,ja,ba(1,wa(null))),t[ja][n]=!0),ls(t,n,r)):Qa(t,n,r)},ds=function(t,e){ha(t);var r=ma(e),n=xa(r).concat(hs(r));return Ua(n,function(e){ua&&!la(ps,r,e)||us(t,e,r[e])}),t},ps=function(t){var e=va(t),r=la(es,this,e);return!(this===Wa&&fa(ns,e)&&!fa(os,e))&&(!(r||!fa(this,e)||!fa(ns,e)||fa(this,ja)&&this[ja][e])||r)},fs=function(t,e){var r=ma(t),n=va(e);if(r!==Wa||!fa(ns,n)||fa(os,n)){var o=Za(r,n);return!o||!fa(ns,n)||fa(r,ja)&&r[ja][n]||(o.enumerable=!0),o}},gs=function(t){var e=ts(ma(t)),r=[];return Ua(e,function(t){fa(ns,t)||fa(Ra,t)||rs(r,t)}),r},hs=function(t){var e=t===Wa,r=ts(e?os:ma(t)),n=[];return Ua(r,function(t){!fa(ns,t)||e&&!fa(Wa,t)||rs(n,ns[t])}),n};da||(Ya=function(){if(ga(Xa,this))throw new Ja("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?ya(arguments[0]):void 0,e=Ma(t),r=function(t){var n=void 0===this?sa:this;n===Wa&&la(r,os,t),fa(n,ja)&&fa(n[ja],e)&&(n[ja][e]=!1);var o=ba(1,t);try{ls(n,e,o)}catch(t){if(!(t instanceof Ka))throw t;ss(n,e,o)}};return ua&&as&&ls(Wa,e,{configurable:!0,set:r}),cs(e,t)},Oa(Xa=Ya[qa],"toString",function(){return Ga(this).tag}),Oa(Ya,"withoutSetter",function(t){return cs(Ma(t),t)}),Ca.f=ps,Ea.f=us,Aa.f=ds,Sa.f=fs,Ta.f=Pa.f=gs,ka.f=hs,Ba.f=function(t){return cs(Na(t),t)},ua&&(Ia(Xa,"description",{configurable:!0,get:function(){return Ga(this).description}}),Oa(Wa,"propertyIsEnumerable",ps,{unsafe:!0}))),aa({global:!0,constructor:!0,wrap:!0,forced:!da,sham:!da},{Symbol:Ya}),Ua(xa(is),function(t){La(t)}),aa({target:Ha,stat:!0,forced:!da},{useSetter:function(){as=!0},useSimple:function(){as=!1}}),aa({target:"Object",stat:!0,forced:!da,sham:!ua},{create:function(t,e){return void 0===e?wa(t):ds(wa(t),e)},defineProperty:us,defineProperties:ds,getOwnPropertyDescriptor:fs}),aa({target:"Object",stat:!0,forced:!da},{getOwnPropertyNames:gs}),_a(),Da(Ya,Ha),Ra[ja]=!0;var ms=pt&&!!Symbol.for&&!!Symbol.keyFor,vs=uo,ys=$,bs=Kt,ws=Po,xs=qt,Ts=ms,Ps=xs("string-to-symbol-registry"),ks=xs("symbol-to-string-registry");vs({target:"Symbol",stat:!0,forced:!Ts},{for:function(t){var e=ws(t);if(bs(Ps,e))return Ps[e];var r=ys("Symbol")(e);return Ps[e]=r,ks[r]=e,r}});var Ss=uo,Es=Kt,As=yt,Cs=wt,Os=ms,Is=qt("symbol-to-string-registry");Ss({target:"Symbol",stat:!0,forced:!Os},{keyFor:function(t){if(!As(t))throw new TypeError(Cs(t)+" is not a symbol");if(Es(Is,t))return Is[t]}});var zs=f,Rs=Function.prototype,Ms=Rs.apply,Ns=Rs.call,Bs="object"==typeof Reflect&&Reflect.apply||(zs?Ns.bind(Ms):function(){return Ns.apply(Ms,arguments)}),Ls=X,_s=Lr.get,Ds=function(t){if(!Ls(t))return!1;var e=_s(t);return!!e&&"RawJSON"===e.type},Fs=C,Us=Kt,js=SyntaxError,Hs=parseInt,qs=String.fromCharCode,Vs=Fs("".charAt),Gs=Fs("".slice),Ws=Fs(/./.exec),Ys={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":"\n","\\r":"\r","\\t":"\t"},Xs=/^[\da-f]{4}$/i,Ks=/^[\u0000-\u001F]$/,Js=function(t,e){for(var r=!0,n="";e<t.length;){var o=Vs(t,e);if("\\"===o){var i=Gs(t,e,e+2);if(Us(Ys,i))n+=Ys[i],e+=2;else{if("\\u"!==i)throw new js('Unknown escape sequence: "'+i+'"');var a=Gs(t,e+=2,e+4);if(!Ws(Xs,a))throw new js("Bad Unicode escape at: "+e);n+=qs(Hs(a,16)),e+=4}}else{if('"'===o){r=!1,e++;break}if(Ws(Ks,o))throw new js("Bad control character in string literal at: "+e);n+=o,e++}}if(r)throw new js("Unterminated string at: "+e);return{value:n,end:e}},$s=!d(function(){var t="9007199254740993",e=JSON.rawJSON(t);return!JSON.isRawJSON(e)||JSON.stringify(e)!==t}),Zs=uo,Qs=$,tl=Bs,el=m,rl=C,nl=d,ol=zi,il=W,al=Ds,sl=yt,ll=R,cl=Po,ul=$o,dl=Js,pl=te,fl=pt,gl=$s,hl=String,ml=Qs("JSON","stringify"),vl=rl(/./.exec),yl=rl("".charAt),bl=rl("".charCodeAt),wl=rl("".replace),xl=rl("".slice),Tl=rl([].push),Pl=rl(1.1.toString),kl=/[\uD800-\uDFFF]/g,Sl=/^[\uD800-\uDBFF]$/,El=/^[\uDC00-\uDFFF]$/,Al=pl(),Cl=Al.length,Ol=!fl||nl(function(){var t=Qs("Symbol")("stringify detection");return"[null]"!==ml([t])||"{}"!==ml({a:t})||"{}"!==ml(Object(t))}),Il=nl(function(){return'"\\udf06\\ud834"'!==ml("\udf06\ud834")||'"\\udead"'!==ml("\udead")}),zl=Ol?function(t,e){var r=ul(arguments),n=Ml(e);if(il(n)||void 0!==t&&!sl(t))return r[1]=function(t,e){if(il(n)&&(e=el(n,this,hl(t),e)),!sl(e))return e},tl(ml,null,r)}:ml,Rl=function(t,e,r){var n=yl(r,e-1),o=yl(r,e+1);return vl(Sl,t)&&!vl(El,o)||vl(El,t)&&!vl(Sl,n)?"\\u"+Pl(bl(t,0),16):t},Ml=function(t){if(il(t))return t;if(ol(t)){for(var e=t.length,r=[],n=0;n<e;n++){var o=t[n];"string"==typeof o?Tl(r,o):"number"!=typeof o&&"Number"!==ll(o)&&"String"!==ll(o)||Tl(r,cl(o))}var i=r.length,a=!0;return function(t,e){if(a)return a=!1,e;if(ol(this))return e;for(var n=0;n<i;n++)if(r[n]===t)return e}}};ml&&Zs({target:"JSON",stat:!0,arity:3,forced:Ol||Il||!gl},{stringify:function(t,e,r){var n=Ml(e),o=[],i=zl(t,function(t,e){var r=il(n)?el(n,this,hl(t),e):e;return!gl&&al(r)?Al+(Tl(o,r.rawJSON)-1):r},r);if("string"!=typeof i)return i;if(Il&&(i=wl(i,kl,Rl)),gl)return i;for(var a="",s=i.length,l=0;l<s;l++){var c=yl(i,l);if('"'===c){var u=dl(i,++l).end-1,d=xl(i,l,u);a+=xl(d,0,Cl)===Al?o[xl(d,Cl)]:'"'+d+'"',l=u}else a+=c}return a}});var Nl=Ln,Bl=Wt;uo({target:"Object",stat:!0,forced:!pt||d(function(){Nl.f(1)})},{getOwnPropertySymbols:function(t){var e=Nl.f;return e?e(Bl(t)):[]}});var Ll=uo,_l=p,Dl=C,Fl=Kt,Ul=W,jl=Z,Hl=Po,ql=ii,Vl=Yn,Gl=c.Symbol,Wl=Gl&&Gl.prototype;if(_l&&Ul(Gl)&&(!("description"in Wl)||void 0!==Gl().description)){var Yl={},Xl=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:Hl(arguments[0]),e=jl(Wl,this)?new Gl(t):void 0===t?Gl():Gl(t);return""===t&&(Yl[e]=!0),e};Vl(Xl,Gl),Xl.prototype=Wl,Wl.constructor=Xl;var Kl="Symbol(description detection)"===String(Gl("description detection")),Jl=Dl(Wl.valueOf),$l=Dl(Wl.toString),Zl=/^Symbol\((.*)\)[^)]+$/,Ql=Dl("".replace),tc=Dl("".slice);ql(Wl,"description",{configurable:!0,get:function(){var t=Jl(this);if(Fl(Yl,t))return"";var e=$l(t),r=Kl?tc(e,7,-1):Ql(e,Zl,"$1");return""===r?void 0:r}}),Ll({global:!0,constructor:!0,forced:!0},{Symbol:Xl})}var ec=c,rc=fi,nc=Le.f,oc=u.f,ic=ec.Symbol;if(rc("asyncDispose"),ic){var ac=oc(ic,"asyncDispose");ac.enumerable&&ac.configurable&&ac.writable&&nc(ic,"asyncDispose",{value:ac.value,enumerable:!1,configurable:!1,writable:!1})}fi("asyncIterator");var sc=c,lc=fi,cc=Le.f,uc=u.f,dc=sc.Symbol;if(lc("dispose"),dc){var pc=uc(dc,"dispose");pc.enumerable&&pc.configurable&&pc.writable&&cc(dc,"dispose",{value:pc.value,enumerable:!1,configurable:!1,writable:!1})}fi("hasInstance"),fi("isConcatSpreadable"),fi("iterator"),fi("match"),fi("matchAll"),fi("replace"),fi("search"),fi("species"),fi("split");var fc=yi;fi("toPrimitive"),fc();var gc=$,hc=Ti;fi("toStringTag"),hc(gc("Symbol"),"Symbol"),fi("unscopables");var mc=C,vc=kt,yc=function(t,e,r){try{return mc(vc(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(t){}},bc=X,wc=function(t){return bc(t)||null===t},xc=wc,Tc=String,Pc=TypeError,kc=function(t){if(xc(t))return t;throw new Pc("Can't set "+Tc(t)+" as a prototype")},Sc=yc,Ec=X,Ac=j,Cc=kc,Oc=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Sc(Object.prototype,"__proto__","set"))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return Ac(r),Cc(n),Ec(r)?(e?t(r,n):r.__proto__=n,r):r}}():void 0),Ic=Le.f,zc=function(t,e,r){r in t||Ic(t,r,{configurable:!0,get:function(){return e[r]},set:function(t){e[r]=t}})},Rc=W,Mc=X,Nc=Oc,Bc=function(t,e,r){var n,o;return Nc&&Rc(n=e.constructor)&&n!==r&&Mc(o=n.prototype)&&o!==r.prototype&&Nc(t,o),t},Lc=Po,_c=function(t,e){return void 0===t?arguments.length<2?"":e:Lc(t)},Dc=X,Fc=er,Uc=function(t,e){Dc(e)&&"cause"in e&&Fc(t,"cause",e.cause)},jc=Error,Hc=C("".replace),qc=String(new jc("zxcasd").stack),Vc=/\n\s*at [^:]*:[^\n]*/,Gc=Vc.test(qc),Wc=function(t,e){if(Gc&&"string"==typeof t&&!jc.prepareStackTrace)for(;e--;)t=Hc(t,Vc,"");return t},Yc=P,Xc=!d(function(){var t=new Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",Yc(1,7)),7!==t.stack)}),Kc=er,Jc=Wc,$c=Xc,Zc=Error.captureStackTrace,Qc=function(t,e,r,n){$c&&(Zc?Zc(t,e):Kc(t,"stack",Jc(r,n)))},tu=$,eu=Kt,ru=er,nu=Z,ou=Oc,iu=Yn,au=zc,su=Bc,lu=_c,cu=Uc,uu=Qc,du=p,pu=function(t,e,r,n){var o="stackTraceLimit",i=n?2:1,a=t.split("."),s=a[a.length-1],l=tu.apply(null,a);if(l){var c=l.prototype;if(eu(c,"cause")&&delete c.cause,!r)return l;var u=tu("Error"),d=e(function(t,e){var r=lu(n?e:t,void 0),o=n?new l(t):new l;return void 0!==r&&ru(o,"message",r),uu(o,d,o.stack,2),this&&nu(c,this)&&su(o,this,d),arguments.length>i&&cu(o,arguments[i]),o});d.prototype=c,"Error"!==s?ou?ou(d,u):iu(d,u,{name:!0}):du&&o in l&&(au(d,l,o),au(d,l,"prepareStackTrace")),iu(d,l);try{c.name!==s&&ru(c,"name",s),c.constructor=d}catch(t){}return d}},fu=uo,gu=Bs,hu=pu,mu="WebAssembly",vu=c[mu],yu=7!==new Error("e",{cause:7}).cause,bu=function(t,e){var r={};r[t]=hu(t,e,yu),fu({global:!0,constructor:!0,arity:1,forced:yu},r)},wu=function(t,e){if(vu&&vu[t]){var r={};r[t]=hu(mu+"."+t,e,yu),fu({target:mu,stat:!0,constructor:!0,arity:1,forced:yu},r)}};bu("Error",function(t){return function(e){return gu(t,this,arguments)}}),bu("EvalError",function(t){return function(e){return gu(t,this,arguments)}}),bu("RangeError",function(t){return function(e){return gu(t,this,arguments)}}),bu("ReferenceError",function(t){return function(e){return gu(t,this,arguments)}}),bu("SyntaxError",function(t){return function(e){return gu(t,this,arguments)}}),bu("TypeError",function(t){return function(e){return gu(t,this,arguments)}}),bu("URIError",function(t){return function(e){return gu(t,this,arguments)}}),wu("CompileError",function(t){return function(e){return gu(t,this,arguments)}}),wu("LinkError",function(t){return function(e){return gu(t,this,arguments)}}),wu("RuntimeError",function(t){return function(e){return gu(t,this,arguments)}});var xu=uo,Tu=$,Pu=X,ku=wo,Su=d,Eu="Error",Au="DOMException",Cu=Object.setPrototypeOf||{}.__proto__,Ou=Tu(Au),Iu=Error,zu=Iu.isError;xu({target:"Error",stat:!0,sham:!0,forced:!zu||!Cu||Su(function(){return Ou&&!zu(new Ou(Au))||!zu(new Iu(Eu,{cause:function(){}}))||zu(Tu("Object","create")(Iu.prototype))})},{isError:function(t){if(!Pu(t))return!1;var e=ku(t);return e===Eu||e===Au}});var Ru=p,Mu=d,Nu=je,Bu=_c,Lu=Error.prototype.toString,_u=Mu(function(){if(Ru){var t=Object.create(Object.defineProperty({},"name",{get:function(){return this===t}}));if("true"!==Lu.call(t))return!0}return"2: 1"!==Lu.call({message:1,name:2})||"Error"!==Lu.call({})})?function(){var t=Nu(this),e=Bu(t.name,"Error"),r=Bu(t.message);return e?r?e+": "+r:e:r}:Lu,Du=an,Fu=_u,Uu=Error.prototype;Uu.toString!==Fu&&Du(Uu,"toString",Fu);var ju=!d(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}),Hu=Kt,qu=W,Vu=Wt,Gu=ju,Wu=xr("IE_PROTO"),Yu=Object,Xu=Yu.prototype,Ku=Gu?Yu.getPrototypeOf:function(t){var e=Vu(t);if(Hu(e,Wu))return e[Wu];var r=e.constructor;return qu(r)&&e instanceof r?r.prototype:e instanceof Yu?Xu:null},Ju={},$u=Ju,Zu=ce("iterator"),Qu=Array.prototype,td=function(t){return void 0!==t&&($u.Array===t||Qu[Zu]===t)},ed=wo,rd=At,nd=D,od=Ju,id=ce("iterator"),ad=function(t){if(!nd(t))return rd(t,id)||rd(t,"@@iterator")||od[ed(t)]},sd=m,ld=kt,cd=je,ud=wt,dd=ad,pd=TypeError,fd=function(t,e){var r=arguments.length<2?dd(t):e;if(ld(r))return cd(sd(r,t));throw new pd(ud(t)+" is not iterable")},gd=m,hd=je,md=At,vd=function(t,e,r){var n,o;hd(t);try{if(!(n=md(t,"return"))){if("throw"===e)throw r;return r}n=gd(n,t)}catch(t){o=!0,n=t}if("throw"===e)throw r;if(o)throw n;return hd(n),r},yd=Oi,bd=m,wd=je,xd=wt,Td=td,Pd=xn,kd=Z,Sd=fd,Ed=ad,Ad=vd,Cd=TypeError,Od=function(t,e){this.stopped=t,this.result=e},Id=Od.prototype,zd=function(t,e,r){var n,o,i,a,s,l,c,u=r&&r.that,d=!(!r||!r.AS_ENTRIES),p=!(!r||!r.IS_RECORD),f=!(!r||!r.IS_ITERATOR),g=!(!r||!r.INTERRUPTED),h=yd(e,u),m=function(t){return n&&Ad(n,"normal"),new Od(!0,t)},v=function(t){return d?(wd(t),g?h(t[0],t[1],m):h(t[0],t[1])):g?h(t,m):h(t)};if(p)n=t.iterator;else if(f)n=t;else{if(!(o=Ed(t)))throw new Cd(xd(t)+" is not iterable");if(Td(o)){for(i=0,a=Pd(t);a>i;i++)if((s=v(t[i]))&&kd(Id,s))return s;return new Od(!1)}n=Sd(t,o)}for(l=p?t.next:n.next;!(c=bd(l,n)).done;){try{s=v(c.value)}catch(t){Ad(n,"throw",t)}if("object"==typeof s&&s&&kd(Id,s))return s}return new Od(!1)},Rd=uo,Md=Z,Nd=Ku,Bd=Oc,Ld=Yn,_d=Ko,Dd=er,Fd=P,Ud=Uc,jd=Qc,Hd=zd,qd=_c,Vd=ce("toStringTag"),Gd=Error,Wd=[].push,Yd=function(t,e){var r,n=Md(Xd,this);Bd?r=Bd(new Gd,n?Nd(this):Xd):(r=n?this:_d(Xd),Dd(r,Vd,"Error")),void 0!==e&&Dd(r,"message",qd(e)),jd(r,Yd,r.stack,1),arguments.length>2&&Ud(r,arguments[2]);var o=[];return Hd(t,Wd,{that:o}),Dd(r,"errors",o),r};Bd?Bd(Yd,Gd):Ld(Yd,Gd,{name:!0});var Xd=Yd.prototype=_d(Gd.prototype,{constructor:Fd(1,Yd),message:Fd(1,""),name:Fd(1,"AggregateError")});Rd({global:!0,constructor:!0,arity:2},{AggregateError:Yd});var Kd=uo,Jd=Bs,$d=d,Zd=pu,Qd="AggregateError",tp=$(Qd),ep=!$d(function(){return 1!==tp([1]).errors[0]})&&$d(function(){return 7!==tp([1],Qd,{cause:7}).cause});Kd({global:!0,constructor:!0,arity:2,forced:ep},{AggregateError:Zd(Qd,function(t){return function(e,r){return Jd(t,this,arguments)}},ep,!0)});var rp=uo,np=Z,op=Ku,ip=Oc,ap=Yn,sp=Ko,lp=er,cp=P,up=Qc,dp=_c,pp=ce,fp=d,gp=c.SuppressedError,hp=pp("toStringTag"),mp=Error,vp=!!gp&&3!==gp.length,yp=!!gp&&fp(function(){return 4===new gp(1,2,3,{cause:4}).cause}),bp=vp||yp,wp=function(t,e,r){var n,o=np(xp,this);return ip?n=!bp||o&&op(this)!==xp?ip(new mp,o?op(this):xp):new gp:(n=o?this:sp(xp),lp(n,hp,"Error")),void 0!==r&&lp(n,"message",dp(r)),up(n,wp,n.stack,1),lp(n,"error",t),lp(n,"suppressed",e),n};ip?ip(wp,mp):ap(wp,mp,{name:!0});var xp=wp.prototype=bp?gp.prototype:sp(mp.prototype,{constructor:cp(1,wp),message:cp(1,""),name:cp(1,"SuppressedError")});bp&&(xp.constructor=wp),rp({global:!0,constructor:!0,arity:3,forced:bp},{SuppressedError:wp});var Tp=ce,Pp=Ko,kp=Le.f,Sp=Tp("unscopables"),Ep=Array.prototype;void 0===Ep[Sp]&&kp(Ep,Sp,{configurable:!0,value:Pp(null)});var Ap=function(t){Ep[Sp][t]=!0},Cp=Wt,Op=xn,Ip=pn,zp=Ap;uo({target:"Array",proto:!0},{at:function(t){var e=Cp(this),r=Op(e),n=Ip(t),o=n>=0?n:r+n;return o<0||o>=r?void 0:e[o]}}),zp("at");var Rp=TypeError,Mp=function(t){if(t>9007199254740991)throw Rp("Maximum allowed index exceeded");return t},Np=p,Bp=Le,Lp=P,_p=function(t,e,r){Np?Bp.f(t,e,Lp(0,r)):t[e]=r},Dp=d,Fp=lt,Up=ce("species"),jp=function(t){return Fp>=51||!Dp(function(){var e=[];return(e.constructor={})[Up]=function(){return{foo:1}},1!==e[t](Boolean).foo})},Hp=uo,qp=d,Vp=zi,Gp=X,Wp=Wt,Yp=xn,Xp=Mp,Kp=_p,Jp=$i,$p=jp,Zp=lt,Qp=ce("isConcatSpreadable"),tf=Zp>=51||!qp(function(){var t=[];return t[Qp]=!1,t.concat()[0]!==t}),ef=function(t){if(!Gp(t))return!1;var e=t[Qp];return void 0!==e?!!e:Vp(t)};Hp({target:"Array",proto:!0,arity:1,forced:!tf||!$p("concat")},{concat:function(t){var e,r,n,o,i,a=Wp(this),s=Jp(a,0),l=0;for(e=-1,n=arguments.length;e<n;e++)if(ef(i=-1===e?a:arguments[e]))for(o=Yp(i),Xp(l+o),r=0;r<o;r++,l++)r in i&&Kp(s,l,i[r]);else Xp(l+1),Kp(s,l++,i);return s.length=l,s}});var rf=wt,nf=TypeError,of=function(t,e){if(!delete t[e])throw new nf("Cannot delete property "+rf(e)+" of "+rf(t))},af=Wt,sf=mn,lf=xn,cf=of,uf=Math.min,df=[].copyWithin||function(t,e){var r=af(this),n=lf(r),o=sf(t,n),i=sf(e,n),a=arguments.length>2?arguments[2]:void 0,s=uf((void 0===a?n:sf(a,n))-i,n-o),l=1;for(i<o&&o<i+s&&(l=-1,i+=s-1,o+=s-1);s-- >0;)i in r?r[o]=r[i]:cf(r,o),o+=l,i+=l;return r},pf=Ap;uo({target:"Array",proto:!0},{copyWithin:df}),pf("copyWithin");var ff=d,gf=function(t,e){var r=[][t];return!!r&&ff(function(){r.call(null,e||function(){return 1},1)})},hf=ia.every;uo({target:"Array",proto:!0,forced:!gf("every")},{every:function(t){return hf(this,t,arguments.length>1?arguments[1]:void 0)}});var mf=Wt,vf=mn,yf=xn,bf=function(t){for(var e=mf(this),r=yf(e),n=arguments.length,o=vf(n>1?arguments[1]:void 0,r),i=n>2?arguments[2]:void 0,a=void 0===i?r:vf(i,r);a>o;)e[o++]=t;return e},wf=Ap;uo({target:"Array",proto:!0},{fill:bf}),wf("fill");var xf=ia.filter;uo({target:"Array",proto:!0,forced:!jp("filter")},{filter:function(t){return xf(this,t,arguments.length>1?arguments[1]:void 0)}});var Tf=uo,Pf=ia.find,kf=Ap,Sf="find",Ef=!0;Sf in[]&&Array(1)[Sf](function(){Ef=!1}),Tf({target:"Array",proto:!0,forced:Ef},{find:function(t){return Pf(this,t,arguments.length>1?arguments[1]:void 0)}}),kf(Sf);var Af=uo,Cf=ia.findIndex,Of=Ap,If="findIndex",zf=!0;If in[]&&Array(1)[If](function(){zf=!1}),Af({target:"Array",proto:!0,forced:zf},{findIndex:function(t){return Cf(this,t,arguments.length>1?arguments[1]:void 0)}}),Of(If);var Rf=Oi,Mf=_,Nf=Wt,Bf=xn,Lf=function(t){var e=1===t;return function(r,n,o){for(var i,a=Nf(r),s=Mf(a),l=Bf(s),c=Rf(n,o);l-- >0;)if(c(i=s[l],l,a))switch(t){case 0:return i;case 1:return l}return e?-1:void 0}},_f={findLast:Lf(0),findLastIndex:Lf(1)},Df=_f.findLast,Ff=Ap;uo({target:"Array",proto:!0},{findLast:function(t){return Df(this,t,arguments.length>1?arguments[1]:void 0)}}),Ff("findLast");var Uf=_f.findLastIndex,jf=Ap;uo({target:"Array",proto:!0},{findLastIndex:function(t){return Uf(this,t,arguments.length>1?arguments[1]:void 0)}}),jf("findLastIndex");var Hf=zi,qf=xn,Vf=Mp,Gf=Oi,Wf=function(t,e,r,n,o,i,a,s){for(var l,c,u=o,d=0,p=!!a&&Gf(a,s);d<n;)d in r&&(l=p?p(r[d],d,e):r[d],i>0&&Hf(l)?(c=qf(l),u=Wf(t,e,l,c,u,i-1)-1):(Vf(u+1),t[u]=l),u++),d++;return u},Yf=Wf,Xf=Yf,Kf=Wt,Jf=xn,$f=pn,Zf=$i;uo({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=Kf(this),r=Jf(e),n=Zf(e,0);return n.length=Xf(n,e,e,r,0,void 0===t?1:$f(t)),n}});var Qf=Yf,tg=kt,eg=Wt,rg=xn,ng=$i;uo({target:"Array",proto:!0},{flatMap:function(t){var e,r=eg(this),n=rg(r);return tg(t),(e=ng(r,0)).length=Qf(e,r,r,n,0,1,t,arguments.length>1?arguments[1]:void 0),e}});var og=ia.forEach,ig=gf("forEach")?[].forEach:function(t){return og(this,t,arguments.length>1?arguments[1]:void 0)};uo({target:"Array",proto:!0,forced:[].forEach!==ig},{forEach:ig});var ag=je,sg=vd,lg=function(t,e,r,n){try{return n?e(ag(r)[0],r[1]):e(r)}catch(e){sg(t,"throw",e)}},cg=Oi,ug=m,dg=Wt,pg=lg,fg=td,gg=Vi,hg=xn,mg=_p,vg=fd,yg=ad,bg=Array,wg=function(t){var e=dg(t),r=gg(this),n=arguments.length,o=n>1?arguments[1]:void 0,i=void 0!==o;i&&(o=cg(o,n>2?arguments[2]:void 0));var a,s,l,c,u,d,p=yg(e),f=0;if(!p||this===bg&&fg(p))for(a=hg(e),s=r?new this(a):bg(a);a>f;f++)d=i?o(e[f],f):e[f],mg(s,f,d);else for(s=r?new this:[],u=(c=vg(e,p)).next;!(l=ug(u,c)).done;f++)d=i?pg(c,o,[l.value,f],!0):l.value,mg(s,f,d);return s.length=f,s},xg=ce("iterator"),Tg=!1;try{var Pg=0,kg={next:function(){return{done:!!Pg++}},return:function(){Tg=!0}};kg[xg]=function(){return this},Array.from(kg,function(){throw 2})}catch(Yot){}var Sg=function(t,e){try{if(!e&&!Tg)return!1}catch(t){return!1}var r=!1;try{var n={};n[xg]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(t){}return r},Eg=wg;uo({target:"Array",stat:!0,forced:!Sg(function(t){Array.from(t)})},{from:Eg});var Ag=En.includes,Cg=Ap;uo({target:"Array",proto:!0,forced:d(function(){return!Array(1).includes()})},{includes:function(t){return Ag(this,t,arguments.length>1?arguments[1]:void 0)}}),Cg("includes");var Og=uo,Ig=En.indexOf,zg=gf,Rg=Si([].indexOf),Mg=!!Rg&&1/Rg([1],1,-0)<0;Og({target:"Array",proto:!0,forced:Mg||!zg("indexOf")},{indexOf:function(t){var e=arguments.length>1?arguments[1]:void 0;return Mg?Rg(this,t,e)||0:Ig(this,t,e)}}),uo({target:"Array",stat:!0},{isArray:zi});var Ng,Bg,Lg,_g=d,Dg=W,Fg=X,Ug=Ku,jg=an,Hg=ce("iterator"),qg=!1;[].keys&&("next"in(Lg=[].keys())?(Bg=Ug(Ug(Lg)))!==Object.prototype&&(Ng=Bg):qg=!0);var Vg=!Fg(Ng)||_g(function(){var t={};return Ng[Hg].call(t)!==t});Vg&&(Ng={}),Dg(Ng[Hg])||jg(Ng,Hg,function(){return this});var Gg={IteratorPrototype:Ng,BUGGY_SAFARI_ITERATORS:qg},Wg=Gg.IteratorPrototype,Yg=Ko,Xg=P,Kg=Ti,Jg=Ju,$g=function(){return this},Zg=function(t,e,r,n){var o=e+" Iterator";return t.prototype=Yg(Wg,{next:Xg(+!n,r)}),Kg(t,o,!1),Jg[o]=$g,t},Qg=uo,th=m,eh=W,rh=Zg,nh=Ku,oh=Oc,ih=Ti,ah=er,sh=an,lh=Ju,ch=lr.PROPER,uh=lr.CONFIGURABLE,dh=Gg.IteratorPrototype,ph=Gg.BUGGY_SAFARI_ITERATORS,fh=ce("iterator"),gh="keys",hh="values",mh="entries",vh=function(){return this},yh=function(t,e,r,n,o,i,a){rh(r,e,n);var s,l,c,u=function(t){if(t===o&&h)return h;if(!ph&&t&&t in f)return f[t];switch(t){case gh:case hh:case mh:return function(){return new r(this,t)}}return function(){return new r(this)}},d=e+" Iterator",p=!1,f=t.prototype,g=f[fh]||f["@@iterator"]||o&&f[o],h=!ph&&g||u(o),m="Array"===e&&f.entries||g;if(m&&(s=nh(m.call(new t)))!==Object.prototype&&s.next&&(nh(s)!==dh&&(oh?oh(s,dh):eh(s[fh])||sh(s,fh,vh)),ih(s,d,!0)),ch&&o===hh&&g&&g.name!==hh&&(uh?ah(f,"name",hh):(p=!0,h=function(){return th(g,this)})),o)if(l={values:u(hh),keys:i?h:u(gh),entries:u(mh)},a)for(c in l)(ph||p||!(c in f))&&sh(f,c,l[c]);else Qg({target:e,proto:!0,forced:ph||p},l);return f[fh]!==h&&sh(f,fh,h,{name:o}),lh[e]=h,l},bh=function(t,e){return{value:t,done:e}},wh=V,xh=Ap,Th=Ju,Ph=Lr,kh=Le.f,Sh=yh,Eh=bh,Ah=p,Ch="Array Iterator",Oh=Ph.set,Ih=Ph.getterFor(Ch),zh=Sh(Array,"Array",function(t,e){Oh(this,{type:Ch,target:wh(t),index:0,kind:e})},function(){var t=Ih(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=null,Eh(void 0,!0);switch(t.kind){case"keys":return Eh(r,!1);case"values":return Eh(e[r],!1)}return Eh([r,e[r]],!1)},"values"),Rh=Th.Arguments=Th.Array;if(xh("keys"),xh("values"),xh("entries"),Ah&&"values"!==Rh.name)try{kh(Rh,"name",{value:"values"})}catch(Yot){}var Mh=uo,Nh=_,Bh=V,Lh=gf,_h=C([].join);Mh({target:"Array",proto:!0,forced:Nh!==Object||!Lh("join",",")},{join:function(t){return _h(Bh(this),void 0===t?",":t)}});var Dh=Bs,Fh=V,Uh=pn,jh=xn,Hh=gf,qh=Math.min,Vh=[].lastIndexOf,Gh=!!Vh&&1/[1].lastIndexOf(1,-0)<0,Wh=Hh("lastIndexOf"),Yh=Gh||!Wh?function(t){if(Gh)return Dh(Vh,this,arguments)||0;var e=Fh(this),r=jh(e);if(0===r)return-1;var n=r-1;for(arguments.length>1&&(n=qh(n,Uh(arguments[1]))),n<0&&(n=r+n);n>=0;n--)if(n in e&&e[n]===t)return n||0;return-1}:Vh;uo({target:"Array",proto:!0,forced:Yh!==[].lastIndexOf},{lastIndexOf:Yh});var Xh=ia.map;uo({target:"Array",proto:!0,forced:!jp("map")},{map:function(t){return Xh(this,t,arguments.length>1?arguments[1]:void 0)}});var Kh=Vi,Jh=_p,$h=Array;uo({target:"Array",stat:!0,forced:d(function(){function t(){}return!($h.of.call(t)instanceof t)})},{of:function(){for(var t=0,e=arguments.length,r=new(Kh(this)?this:$h)(e);e>t;)Jh(r,t,arguments[t++]);return r.length=e,r}});var Zh=p,Qh=zi,tm=TypeError,em=Object.getOwnPropertyDescriptor,rm=Zh&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}(),nm=rm?function(t,e){if(Qh(t)&&!em(t,"length").writable)throw new tm("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},om=uo,im=Wt,am=xn,sm=nm,lm=Mp,cm=d(function(){return 4294967297!==[].push.call({length:4294967296},1)})||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}();om({target:"Array",proto:!0,arity:1,forced:cm},{push:function(t){var e=im(this),r=am(e),n=arguments.length;lm(r+n);for(var o=0;o<n;o++)e[r]=arguments[o],r++;return sm(e,r),r}});var um=kt,dm=Wt,pm=_,fm=xn,gm=TypeError,hm="Reduce of empty array with no initial value",mm=function(t){return function(e,r,n,o){var i=dm(e),a=pm(i),s=fm(i);if(um(r),0===s&&n<2)throw new gm(hm);var l=t?s-1:0,c=t?-1:1;if(n<2)for(;;){if(l in a){o=a[l],l+=c;break}if(l+=c,t?l<0:s<=l)throw new gm(hm)}for(;t?l>=0:s>l;l+=c)l in a&&(o=r(o,a[l],l,i));return o}},vm={left:mm(!1),right:mm(!0)},ym=c,bm=et,wm=R,xm=function(t){return bm.slice(0,t.length)===t},Tm=xm("Bun/")?"BUN":xm("Cloudflare-Workers")?"CLOUDFLARE":xm("Deno/")?"DENO":xm("Node.js/")?"NODE":ym.Bun&&"string"==typeof Bun.version?"BUN":ym.Deno&&"object"==typeof Deno.version?"DENO":"process"===wm(ym.process)?"NODE":ym.window&&ym.document?"BROWSER":"REST",Pm="NODE"===Tm,km=vm.left;uo({target:"Array",proto:!0,forced:!Pm&&lt>79&&lt<83||!gf("reduce")},{reduce:function(t){var e=arguments.length;return km(this,t,e,e>1?arguments[1]:void 0)}});var Sm=vm.right;uo({target:"Array",proto:!0,forced:!Pm&&lt>79&&lt<83||!gf("reduceRight")},{reduceRight:function(t){return Sm(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var Em=uo,Am=zi,Cm=C([].reverse),Om=[1,2];Em({target:"Array",proto:!0,forced:String(Om)===String(Om.reverse())},{reverse:function(){return Am(this)&&(this.length=this.length),Cm(this)}});var Im=uo,zm=zi,Rm=Vi,Mm=X,Nm=mn,Bm=xn,Lm=V,_m=_p,Dm=ce,Fm=$o,Um=jp("slice"),jm=Dm("species"),Hm=Array,qm=Math.max;Im({target:"Array",proto:!0,forced:!Um},{slice:function(t,e){var r,n,o,i=Lm(this),a=Bm(i),s=Nm(t,a),l=Nm(void 0===e?a:e,a);if(zm(i)&&(r=i.constructor,(Rm(r)&&(r===Hm||zm(r.prototype))||Mm(r)&&null===(r=r[jm]))&&(r=void 0),r===Hm||void 0===r))return Fm(i,s,l);for(n=new(void 0===r?Hm:r)(qm(l-s,0)),o=0;s<l;s++,o++)s in i&&_m(n,o,i[s]);return n.length=o,n}});var Vm=ia.some;uo({target:"Array",proto:!0,forced:!gf("some")},{some:function(t){return Vm(this,t,arguments.length>1?arguments[1]:void 0)}});var Gm=$o,Wm=Math.floor,Ym=function(t,e){var r=t.length;if(r<8)for(var n,o,i=1;i<r;){for(o=i,n=t[i];o&&e(t[o-1],n)>0;)t[o]=t[--o];o!==i++&&(t[o]=n)}else for(var a=Wm(r/2),s=Ym(Gm(t,0,a),e),l=Ym(Gm(t,a),e),c=s.length,u=l.length,d=0,p=0;d<c||p<u;)t[d+p]=d<c&&p<u?e(s[d],l[p])<=0?s[d++]:l[p++]:d<c?s[d++]:l[p++];return t},Xm=Ym,Km=et.match(/firefox\/(\d+)/i),Jm=!!Km&&+Km[1],$m=/MSIE|Trident/.test(et),Zm=et.match(/AppleWebKit\/(\d+)\./),Qm=!!Zm&&+Zm[1],tv=uo,ev=C,rv=kt,nv=Wt,ov=xn,iv=of,av=Po,sv=d,lv=Xm,cv=gf,uv=Jm,dv=$m,pv=lt,fv=Qm,gv=[],hv=ev(gv.sort),mv=ev(gv.push),vv=sv(function(){gv.sort(void 0)}),yv=sv(function(){gv.sort(null)}),bv=cv("sort"),wv=!sv(function(){if(pv)return pv<70;if(!(uv&&uv>3)){if(dv)return!0;if(fv)return fv<603;var t,e,r,n,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)gv.push({k:e+n,v:r})}for(gv.sort(function(t,e){return e.v-t.v}),n=0;n<gv.length;n++)e=gv[n].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}});tv({target:"Array",proto:!0,forced:vv||!yv||!bv||!wv},{sort:function(t){void 0!==t&&rv(t);var e=nv(this);if(wv)return void 0===t?hv(e):hv(e,t);var r,n,o=[],i=ov(e);for(n=0;n<i;n++)n in e&&mv(o,e[n]);for(lv(o,function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:av(e)>av(r)?1:-1}}(t)),r=ov(o),n=0;n<r;)e[n]=o[n++];for(;n<i;)iv(e,n++);return e}});var xv=$,Tv=ii,Pv=p,kv=ce("species"),Sv=function(t){var e=xv(t);Pv&&e&&!e[kv]&&Tv(e,kv,{configurable:!0,get:function(){return this}})};Sv("Array");var Ev=uo,Av=Wt,Cv=mn,Ov=pn,Iv=xn,zv=nm,Rv=Mp,Mv=$i,Nv=_p,Bv=of,Lv=jp("splice"),_v=Math.max,Dv=Math.min;Ev({target:"Array",proto:!0,forced:!Lv},{splice:function(t,e){var r,n,o,i,a,s,l=Av(this),c=Iv(l),u=Cv(t,c),d=arguments.length;for(0===d?r=n=0:1===d?(r=0,n=c-u):(r=d-2,n=Dv(_v(Ov(e),0),c-u)),Rv(c+r-n),o=Mv(l,n),i=0;i<n;i++)(a=u+i)in l&&Nv(o,i,l[a]);if(o.length=n,r<n){for(i=u;i<c-n;i++)s=i+r,(a=i+n)in l?l[s]=l[a]:Bv(l,s);for(i=c;i>c-n+r;i--)Bv(l,i-1)}else if(r>n)for(i=c-n;i>u;i--)s=i+r-1,(a=i+n-1)in l?l[s]=l[a]:Bv(l,s);for(i=0;i<r;i++)l[i+u]=arguments[i+2];return zv(l,c-n+r),o}});var Fv=xn,Uv=function(t,e){for(var r=Fv(t),n=new e(r),o=0;o<r;o++)n[o]=t[r-o-1];return n},jv=Uv,Hv=V,qv=Ap,Vv=Array;uo({target:"Array",proto:!0},{toReversed:function(){return jv(Hv(this),Vv)}}),qv("toReversed");var Gv=xn,Wv=function(t,e,r){for(var n=0,o=arguments.length>2?r:Gv(e),i=new t(o);o>n;)i[n]=e[n++];return i},Yv=c,Xv=function(t,e){var r=Yv[t],n=r&&r.prototype;return n&&n[e]},Kv=uo,Jv=kt,$v=V,Zv=Wv,Qv=Ap,ty=Array,ey=C(Xv("Array","sort"));Kv({target:"Array",proto:!0},{toSorted:function(t){void 0!==t&&Jv(t);var e=$v(this),r=Zv(ty,e);return ey(r,t)}}),Qv("toSorted");var ry=uo,ny=Ap,oy=Mp,iy=xn,ay=mn,sy=V,ly=pn,cy=Array,uy=Math.max,dy=Math.min;ry({target:"Array",proto:!0},{toSpliced:function(t,e){var r,n,o,i,a=sy(this),s=iy(a),l=ay(t,s),c=arguments.length,u=0;for(0===c?r=n=0:1===c?(r=0,n=s-l):(r=c-2,n=dy(uy(ly(e),0),s-l)),o=oy(s+r-n),i=cy(o);u<l;u++)i[u]=a[u];for(;u<l+r;u++)i[u]=arguments[u-l+2];for(;u<o;u++)i[u]=a[u+n-r];return i}}),ny("toSpliced"),Ap("flat"),Ap("flatMap");var py=uo,fy=Wt,gy=xn,hy=nm,my=of,vy=Mp,yy=1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}}();py({target:"Array",proto:!0,arity:1,forced:yy},{unshift:function(t){var e=fy(this),r=gy(e),n=arguments.length;if(n){vy(r+n);for(var o=r;o--;){var i=o+n;o in e?e[i]=e[o]:my(e,i)}for(var a=0;a<n;a++)e[a]=arguments[a]}return hy(e,r+n)}});var by=xn,wy=pn,xy=RangeError,Ty=function(t,e,r,n){var o=by(t),i=wy(r),a=i<0?o+i:i;if(a>=o||a<0)throw new xy("Incorrect index");for(var s=new e(o),l=0;l<o;l++)s[l]=l===a?n:t[l];return s},Py=uo,ky=Ty,Sy=V,Ey=Array,Ay=function(){try{[].with({valueOf:function(){throw 4}},null)}catch(t){return 4!==t}}();Py({target:"Array",proto:!0,forced:Ay},{with:function(t,e){return ky(Sy(this),Ey,t,e)}});var Cy="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Oy=an,Iy=function(t,e,r){for(var n in e)Oy(t,n,e[n],r);return t},zy=Z,Ry=TypeError,My=function(t,e){if(zy(e,t))return t;throw new Ry("Incorrect invocation")},Ny=pn,By=bn,Ly=RangeError,_y=function(t){if(void 0===t)return 0;var e=Ny(t),r=By(e);if(e!==r)throw new Ly("Wrong length or index");return r},Dy=Math.sign||function(t){var e=+t;return 0===e||e!=e?e:e<0?-1:1},Fy=4503599627370496,Uy=function(t){return t+Fy-Fy},jy=Dy,Hy=Uy,qy=Math.abs,Vy=function(t,e,r,n){var o=+t,i=qy(o),a=jy(o);if(i<n)return a*Hy(i/n/e)*n*e;var s=(1+e/2220446049250313e-31)*i,l=s-(s-i);return l>r||l!=l?a*(1/0):a*l},Gy=Vy,Wy=Math.fround||function(t){return Gy(t,1.1920928955078125e-7,34028234663852886e22,11754943508222875e-54)},Yy=Array,Xy=Math.abs,Ky=Math.pow,Jy=Math.floor,$y=Math.log,Zy=Math.LN2,Qy={pack:function(t,e,r){var n,o,i,a=Yy(r),s=8*r-e-1,l=(1<<s)-1,c=l>>1,u=23===e?Ky(2,-24)-Ky(2,-77):0,d=t<0||0===t&&1/t<0?1:0,p=0;for((t=Xy(t))!=t||t===1/0?(o=t!=t?1:0,n=l):(n=Jy($y(t)/Zy),t*(i=Ky(2,-n))<1&&(n--,i*=2),(t+=n+c>=1?u/i:u*Ky(2,1-c))*i>=2&&(n++,i/=2),n+c>=l?(o=0,n=l):n+c>=1?(o=(t*i-1)*Ky(2,e),n+=c):(o=t*Ky(2,c-1)*Ky(2,e),n=0));e>=8;)a[p++]=255&o,o/=256,e-=8;for(n=n<<e|o,s+=e;s>0;)a[p++]=255&n,n/=256,s-=8;return a[p-1]|=128*d,a},unpack:function(t,e){var r,n=t.length,o=8*n-e-1,i=(1<<o)-1,a=i>>1,s=o-7,l=n-1,c=t[l--],u=127&c;for(c>>=7;s>0;)u=256*u+t[l--],s-=8;for(r=u&(1<<-s)-1,u>>=-s,s+=e;s>0;)r=256*r+t[l--],s-=8;if(0===u)u=1-a;else{if(u===i)return r?NaN:c?-1/0:1/0;r+=Ky(2,e),u-=a}return(c?-1:1)*r*Ky(2,u-e)}},tb=c,eb=C,rb=p,nb=Cy,ob=er,ib=ii,ab=Iy,sb=d,lb=My,cb=pn,ub=bn,db=_y,pb=Wy,fb=Qy,gb=Ku,hb=Oc,mb=bf,vb=$o,yb=Bc,bb=Yn,wb=Ti,xb=Lr,Tb=lr.PROPER,Pb=lr.CONFIGURABLE,kb="ArrayBuffer",Sb="DataView",Eb="prototype",Ab="Wrong index",Cb=xb.getterFor(kb),Ob=xb.getterFor(Sb),Ib=xb.set,zb=tb[kb],Rb=zb,Mb=Rb&&Rb[Eb],Nb=tb[Sb],Bb=Nb&&Nb[Eb],Lb=Object.prototype,_b=tb.Array,Db=tb.RangeError,Fb=eb(mb),Ub=eb([].reverse),jb=fb.pack,Hb=fb.unpack,qb=function(t){return[255&t]},Vb=function(t){return[255&t,t>>8&255]},Gb=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},Wb=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},Yb=function(t){return jb(pb(t),23,4)},Xb=function(t){return jb(t,52,8)},Kb=function(t,e,r){ib(t[Eb],e,{configurable:!0,get:function(){return r(this)[e]}})},Jb=function(t,e,r,n){var o=Ob(t),i=db(r),a=!!n;if(i+e>o.byteLength)throw new Db(Ab);var s=o.bytes,l=i+o.byteOffset,c=vb(s,l,l+e);return a?c:Ub(c)},$b=function(t,e,r,n,o,i){var a=Ob(t),s=db(r),l=n(+o),c=!!i;if(s+e>a.byteLength)throw new Db(Ab);for(var u=a.bytes,d=s+a.byteOffset,p=0;p<e;p++)u[d+p]=l[c?p:e-p-1]};if(nb){var Zb=Tb&&zb.name!==kb;sb(function(){zb(1)})&&sb(function(){new zb(-1)})&&!sb(function(){return new zb,new zb(1.5),new zb(NaN),1!==zb.length||Zb&&!Pb})?Zb&&Pb&&ob(zb,"name",kb):((Rb=function(t){return lb(this,Mb),yb(new zb(db(t)),this,Rb)})[Eb]=Mb,Mb.constructor=Rb,bb(Rb,zb)),hb&&gb(Bb)!==Lb&&hb(Bb,Lb);var Qb=new Nb(new Rb(2)),tw=eb(Bb.setInt8);Qb.setInt8(0,2147483648),Qb.setInt8(1,2147483649),!Qb.getInt8(0)&&Qb.getInt8(1)||ab(Bb,{setInt8:function(t,e){tw(this,t,e<<24>>24)},setUint8:function(t,e){tw(this,t,e<<24>>24)}},{unsafe:!0})}else Mb=(Rb=function(t){lb(this,Mb);var e=db(t);Ib(this,{type:kb,bytes:Fb(_b(e),0),byteLength:e}),rb||(this.byteLength=e,this.detached=!1)})[Eb],Nb=function(t,e,r){lb(this,Bb),lb(t,Mb);var n=Cb(t),o=n.byteLength,i=cb(e);if(i<0||i>o)throw new Db("Wrong offset");if(i+(r=void 0===r?o-i:ub(r))>o)throw new Db("Wrong length");Ib(this,{type:Sb,buffer:t,byteLength:r,byteOffset:i,bytes:n.bytes}),rb||(this.buffer=t,this.byteLength=r,this.byteOffset=i)},Bb=Nb[Eb],rb&&(Kb(Rb,"byteLength",Cb),Kb(Nb,"buffer",Ob),Kb(Nb,"byteLength",Ob),Kb(Nb,"byteOffset",Ob)),ab(Bb,{getInt8:function(t){return Jb(this,1,t)[0]<<24>>24},getUint8:function(t){return Jb(this,1,t)[0]},getInt16:function(t){var e=Jb(this,2,t,arguments.length>1&&arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=Jb(this,2,t,arguments.length>1&&arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return Wb(Jb(this,4,t,arguments.length>1&&arguments[1]))},getUint32:function(t){return Wb(Jb(this,4,t,arguments.length>1&&arguments[1]))>>>0},getFloat32:function(t){return Hb(Jb(this,4,t,arguments.length>1&&arguments[1]),23)},getFloat64:function(t){return Hb(Jb(this,8,t,arguments.length>1&&arguments[1]),52)},setInt8:function(t,e){$b(this,1,t,qb,e)},setUint8:function(t,e){$b(this,1,t,qb,e)},setInt16:function(t,e){$b(this,2,t,Vb,e,arguments.length>2&&arguments[2])},setUint16:function(t,e){$b(this,2,t,Vb,e,arguments.length>2&&arguments[2])},setInt32:function(t,e){$b(this,4,t,Gb,e,arguments.length>2&&arguments[2])},setUint32:function(t,e){$b(this,4,t,Gb,e,arguments.length>2&&arguments[2])},setFloat32:function(t,e){$b(this,4,t,Yb,e,arguments.length>2&&arguments[2])},setFloat64:function(t,e){$b(this,8,t,Xb,e,arguments.length>2&&arguments[2])}});wb(Rb,kb),wb(Nb,Sb);var ew={ArrayBuffer:Rb,DataView:Nb},rw=Sv,nw="ArrayBuffer",ow=ew[nw];uo({global:!0,constructor:!0,forced:c[nw]!==ow},{ArrayBuffer:ow}),rw(nw);var iw,aw,sw,lw=Cy,cw=p,uw=c,dw=W,pw=X,fw=Kt,gw=wo,hw=wt,mw=er,vw=an,yw=ii,bw=Z,ww=Ku,xw=Oc,Tw=ce,Pw=te,kw=Lr.enforce,Sw=Lr.get,Ew=uw.Int8Array,Aw=Ew&&Ew.prototype,Cw=uw.Uint8ClampedArray,Ow=Cw&&Cw.prototype,Iw=Ew&&ww(Ew),zw=Aw&&ww(Aw),Rw=Object.prototype,Mw=uw.TypeError,Nw=Tw("toStringTag"),Bw=Pw("TYPED_ARRAY_TAG"),Lw="TypedArrayConstructor",_w=lw&&!!xw&&"Opera"!==gw(uw.opera),Dw=!1,Fw={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Uw={BigInt64Array:8,BigUint64Array:8},jw=function(t){var e=ww(t);if(pw(e)){var r=Sw(e);return r&&fw(r,Lw)?r[Lw]:jw(e)}},Hw=function(t){if(!pw(t))return!1;var e=gw(t);return fw(Fw,e)||fw(Uw,e)};for(iw in Fw)(sw=(aw=uw[iw])&&aw.prototype)?kw(sw)[Lw]=aw:_w=!1;for(iw in Uw)(sw=(aw=uw[iw])&&aw.prototype)&&(kw(sw)[Lw]=aw);if((!_w||!dw(Iw)||Iw===Function.prototype)&&(Iw=function(){throw new Mw("Incorrect invocation")},_w))for(iw in Fw)uw[iw]&&xw(uw[iw],Iw);if((!_w||!zw||zw===Rw)&&(zw=Iw.prototype,_w))for(iw in Fw)uw[iw]&&xw(uw[iw].prototype,zw);if(_w&&ww(Ow)!==zw&&xw(Ow,zw),cw&&!fw(zw,Nw))for(iw in Dw=!0,yw(zw,Nw,{configurable:!0,get:function(){return pw(this)?this[Bw]:void 0}}),Fw)uw[iw]&&mw(uw[iw],Bw,iw);var qw={NATIVE_ARRAY_BUFFER_VIEWS:_w,TYPED_ARRAY_TAG:Dw&&Bw,aTypedArray:function(t){if(Hw(t))return t;throw new Mw("Target is not a typed array")},aTypedArrayConstructor:function(t){if(dw(t)&&(!xw||bw(Iw,t)))return t;throw new Mw(hw(t)+" is not a typed array constructor")},exportTypedArrayMethod:function(t,e,r,n){if(cw){if(r)for(var o in Fw){var i=uw[o];if(i&&fw(i.prototype,t))try{delete i.prototype[t]}catch(r){try{i.prototype[t]=e}catch(t){}}}zw[t]&&!r||vw(zw,t,r?e:_w&&Aw[t]||e,n)}},exportTypedArrayStaticMethod:function(t,e,r){var n,o;if(cw){if(xw){if(r)for(n in Fw)if((o=uw[n])&&fw(o,t))try{delete o[t]}catch(t){}if(Iw[t]&&!r)return;try{return vw(Iw,t,r?e:_w&&Iw[t]||e)}catch(t){}}for(n in Fw)!(o=uw[n])||o[t]&&!r||vw(o,t,e)}},getTypedArrayConstructor:jw,isView:function(t){if(!pw(t))return!1;var e=gw(t);return"DataView"===e||fw(Fw,e)||fw(Uw,e)},isTypedArray:Hw,TypedArray:Iw,TypedArrayPrototype:zw};uo({target:"ArrayBuffer",stat:!0,forced:!qw.NATIVE_ARRAY_BUFFER_VIEWS},{isView:qw.isView});var Vw=uo,Gw=Si,Ww=d,Yw=je,Xw=mn,Kw=bn,Jw=ew.ArrayBuffer,$w=ew.DataView,Zw=$w.prototype,Qw=Gw(Jw.prototype.slice),tx=Gw(Zw.getUint8),ex=Gw(Zw.setUint8);Vw({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:Ww(function(){return!new Jw(2).slice(1,void 0).byteLength})},{slice:function(t,e){if(Qw&&void 0===e)return Qw(Yw(this),t);for(var r=Yw(this).byteLength,n=Xw(t,r),o=Xw(void 0===e?r:e,r),i=new Jw(Kw(o-n)),a=new $w(this),s=new $w(i),l=0;n<o;)ex(s,l++,tx(a,n++));return i}}),uo({global:!0,constructor:!0,forced:!Cy},{DataView:ew.DataView});var rx=uo,nx=C,ox=Math.pow,ix=ox(2,-24),ax=.0009765625,sx=nx(DataView.prototype.getUint16);rx({target:"DataView",proto:!0},{getFloat16:function(t){return function(t){var e=t>>>15,r=t>>>10&31,n=1023&t;return 31===r?0===n?0===e?1/0:-1/0:NaN:0===r?n*(0===e?ix:-ix):ox(2,r-15)*(0===e?1+n*ax:-1-n*ax)}(sx(this,t,arguments.length>1&&arguments[1]))}});var lx=wo,cx=TypeError,ux=Math.log,dx=Math.LN2,px=Math.log2||function(t){return ux(t)/dx},fx=uo,gx=C,hx=function(t){if("DataView"===lx(t))return t;throw new cx("Argument is not a DataView")},mx=_y,vx=px,yx=Uy,bx=Math.pow,wx=1024,xx=gx(DataView.prototype.setUint16);fx({target:"DataView",proto:!0},{setFloat16:function(t,e){xx(hx(this),mx(t),function(t){if(t!=t)return 32256;if(0===t)return(1/t==-1/0)<<15;var e=t<0;if(e&&(t=-t),t>=65520)return e<<15|31744;if(t<61005353927612305e-21)return e<<15|yx(16777216*t);var r=0|vx(t);if(-15===r)return e<<15|wx;var n=yx((t*bx(2,-r)-1)*wx);return n===wx?e<<15|r+16<<10:e<<15|r+15<<10|n}(+e),arguments.length>2&&arguments[2])}});var Tx=c,Px=yc,kx=R,Sx=Tx.ArrayBuffer,Ex=Tx.TypeError,Ax=Sx&&Px(Sx.prototype,"byteLength","get")||function(t){if("ArrayBuffer"!==kx(t))throw new Ex("ArrayBuffer expected");return t.byteLength},Cx=Cy,Ox=Ax,Ix=c.DataView,zx=function(t){if(!Cx||0!==Ox(t))return!1;try{return new Ix(t),!1}catch(t){return!0}},Rx=p,Mx=ii,Nx=zx,Bx=ArrayBuffer.prototype;Rx&&!("detached"in Bx)&&Mx(Bx,"detached",{configurable:!0,get:function(){return Nx(this)}});var Lx,_x,Dx,Fx,Ux=zx,jx=TypeError,Hx=function(t){if(Ux(t))throw new jx("ArrayBuffer is detached");return t},qx=c,Vx=Pm,Gx=function(t){if(Vx){try{return qx.process.getBuiltinModule(t)}catch(t){}try{return Function('return require("'+t+'")')()}catch(t){}}},Wx=d,Yx=lt,Xx=Tm,Kx=c.structuredClone,Jx=!!Kx&&!Wx(function(){if("DENO"===Xx&&Yx>92||"NODE"===Xx&&Yx>94||"BROWSER"===Xx&&Yx>97)return!1;var t=new ArrayBuffer(8),e=Kx(t,{transfer:[t]});return 0!==t.byteLength||8!==e.byteLength}),$x=c,Zx=Gx,Qx=Jx,tT=$x.structuredClone,eT=$x.ArrayBuffer,rT=$x.MessageChannel,nT=!1;if(Qx)nT=function(t){tT(t,{transfer:[t]})};else if(eT)try{rT||(Lx=Zx("worker_threads"))&&(rT=Lx.MessageChannel),rT&&(_x=new rT,Dx=new eT(2),Fx=function(t){_x.port1.postMessage(null,[t])},2===Dx.byteLength&&(Fx(Dx),0===Dx.byteLength&&(nT=Fx)))}catch(Yot){}var oT=nT,iT=c,aT=C,sT=yc,lT=_y,cT=Hx,uT=Ax,dT=oT,pT=Jx,fT=iT.structuredClone,gT=iT.ArrayBuffer,hT=iT.DataView,mT=Math.min,vT=gT.prototype,yT=hT.prototype,bT=aT(vT.slice),wT=sT(vT,"resizable","get"),xT=sT(vT,"maxByteLength","get"),TT=aT(yT.getInt8),PT=aT(yT.setInt8),kT=(pT||dT)&&function(t,e,r){var n,o=uT(t),i=void 0===e?o:lT(e),a=!wT||!wT(t);if(cT(t),pT&&(t=fT(t,{transfer:[t]}),o===i&&(r||a)))return t;if(o>=i&&(!r||a))n=bT(t,0,i);else{var s=r&&!a&&xT?{maxByteLength:xT(t)}:void 0;n=new gT(i,s);for(var l=new hT(t),c=new hT(n),u=mT(i,o),d=0;d<u;d++)PT(c,d,TT(l,d))}return pT||dT(t),n},ST=kT;ST&&uo({target:"ArrayBuffer",proto:!0},{transfer:function(){return ST(this,arguments.length?arguments[0]:void 0,!0)}});var ET=kT;ET&&uo({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return ET(this,arguments.length?arguments[0]:void 0,!1)}});var AT=uo,CT=C,OT=d(function(){return 120!==new Date(16e11).getYear()}),IT=CT(Date.prototype.getFullYear);AT({target:"Date",proto:!0,forced:OT},{getYear:function(){return IT(this)-1900}});var zT=uo,RT=Date,MT=C(RT.prototype.getTime);zT({target:"Date",stat:!0},{now:function(){return MT(new RT)}});var NT=uo,BT=C,LT=pn,_T=Date.prototype,DT=BT(_T.getTime),FT=BT(_T.setFullYear);NT({target:"Date",proto:!0},{setYear:function(t){DT(this);var e=LT(t);return FT(this,e>=0&&e<=99?e+1900:e)}}),uo({target:"Date",proto:!0},{toGMTString:Date.prototype.toUTCString});var UT=pn,jT=Po,HT=j,qT=RangeError,VT=function(t){var e=jT(HT(this)),r="",n=UT(t);if(n<0||n===1/0)throw new qT("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(e+=e))1&n&&(r+=e);return r},GT=C,WT=bn,YT=Po,XT=j,KT=GT(VT),JT=GT("".slice),$T=Math.ceil,ZT=function(t){return function(e,r,n){var o,i,a=YT(XT(e)),s=WT(r),l=a.length,c=void 0===n?" ":YT(n);return s<=l||""===c?a:((i=KT(c,$T((o=s-l)/c.length))).length>o&&(i=JT(i,0,o)),t?a+i:i+a)}},QT={start:ZT(!1),end:ZT(!0)},tP=C,eP=d,rP=QT.start,nP=RangeError,oP=isFinite,iP=Math.abs,aP=Date.prototype,sP=aP.toISOString,lP=tP(aP.getTime),cP=tP(aP.getUTCDate),uP=tP(aP.getUTCFullYear),dP=tP(aP.getUTCHours),pP=tP(aP.getUTCMilliseconds),fP=tP(aP.getUTCMinutes),gP=tP(aP.getUTCMonth),hP=tP(aP.getUTCSeconds),mP=eP(function(){return"0385-07-25T07:06:39.999Z"!==sP.call(new Date(-50000000000001))})||!eP(function(){sP.call(new Date(NaN))})?function(){if(!oP(lP(this)))throw new nP("Invalid time value");var t=this,e=uP(t),r=pP(t),n=e<0?"-":e>9999?"+":"";return n+rP(iP(e),n?6:4,0)+"-"+rP(gP(t)+1,2,0)+"-"+rP(cP(t),2,0)+"T"+rP(dP(t),2,0)+":"+rP(fP(t),2,0)+":"+rP(hP(t),2,0)+"."+rP(r,3,0)+"Z"}:sP,vP=mP;uo({target:"Date",proto:!0,forced:Date.prototype.toISOString!==vP},{toISOString:vP});var yP=Wt,bP=ve;uo({target:"Date",proto:!0,arity:1,forced:d(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})},{toJSON:function(t){var e=yP(this),r=bP(e,"number");return"number"!=typeof r||isFinite(r)?e.toISOString():null}});var wP=je,xP=Rt,TP=TypeError,PP=Kt,kP=an,SP=function(t){if(wP(this),"string"===t||"default"===t)t="string";else if("number"!==t)throw new TP("Incorrect hint");return xP(this,t)},EP=ce("toPrimitive"),AP=Date.prototype;PP(AP,EP)||kP(AP,EP,SP);var CP=C,OP=an,IP=Date.prototype,zP="Invalid Date",RP="toString",MP=CP(IP[RP]),NP=CP(IP.getTime);String(new Date(NaN))!==zP&&OP(IP,RP,function(){var t=NP(this);return t==t?MP(this):zP});var BP=$,LP=m,_P=C,DP=Oi,FP=je,UP=kt,jP=D,HP=At,qP=ce,VP=qP("asyncDispose"),GP=qP("dispose"),WP=_P([].push),YP=function(t,e,r){return arguments.length<3&&!jP(t)&&(r=UP(function(t,e){if("async-dispose"===e){var r=HP(t,VP);return void 0!==r||void 0===(r=HP(t,GP))?r:function(){var t=this;return new(BP("Promise"))(function(e){LP(r,t),e(void 0)})}}return HP(t,GP)}(FP(t),e))),void 0===r?function(){}:DP(r,t)},XP=function(t,e,r,n){var o;if(arguments.length<4){if(jP(e)&&"sync-dispose"===r)return;o=YP(e,r)}else o=YP(void 0,r,n);WP(t.stack,o)},KP=uo,JP=p,$P=kt,ZP=My,QP=an,tk=Iy,ek=ii,rk=ce,nk=Lr,ok=XP,ik=$("SuppressedError"),ak=ReferenceError,sk=rk("dispose"),lk=rk("toStringTag"),ck="DisposableStack",uk=nk.set,dk=nk.getterFor(ck),pk="sync-dispose",fk="disposed",gk=function(t){var e=dk(t);if(e.state===fk)throw new ak(ck+" already disposed");return e},hk=function(){uk(ZP(this,mk),{type:ck,state:"pending",stack:[]}),JP||(this.disposed=!1)},mk=hk.prototype;tk(mk,{dispose:function(){var t=dk(this);if(t.state!==fk){t.state=fk,JP||(this.disposed=!0);for(var e,r=t.stack,n=r.length,o=!1;n;){var i=r[--n];r[n]=null;try{i()}catch(t){o?e=new ik(t,e):(o=!0,e=t)}}if(t.stack=null,o)throw e}},use:function(t){return ok(gk(this),t,pk),t},adopt:function(t,e){var r=gk(this);return $P(e),ok(r,void 0,pk,function(){e(t)}),t},defer:function(t){var e=gk(this);$P(t),ok(e,void 0,pk,t)},move:function(){var t=gk(this),e=new hk;return dk(e).stack=t.stack,t.stack=[],t.state=fk,JP||(this.disposed=!0),e}}),JP&&ek(mk,"disposed",{configurable:!0,get:function(){return dk(this).state===fk}}),QP(mk,sk,mk.dispose,{name:"dispose"}),QP(mk,lk,ck,{nonWritable:!0}),KP({global:!0,constructor:!0},{DisposableStack:hk});var vk=uo,yk=C,bk=Po,wk=yk("".charAt),xk=yk("".charCodeAt),Tk=yk(/./.exec),Pk=yk(1.1.toString),kk=yk("".toUpperCase),Sk=/[\w*+\-./@]/,Ek=function(t,e){for(var r=Pk(t,16);r.length<e;)r="0"+r;return r};vk({global:!0},{escape:function(t){for(var e,r,n=bk(t),o="",i=n.length,a=0;a<i;)e=wk(n,a++),Tk(Sk,e)?o+=e:o+=(r=xk(e,0))<256?"%"+Ek(r,2):"%u"+kk(Ek(r,4));return o}});var Ak=C,Ck=kt,Ok=X,Ik=Kt,zk=$o,Rk=f,Mk=Function,Nk=Ak([].concat),Bk=Ak([].join),Lk={},_k=Rk?Mk.bind:function(t){var e=Ck(this),r=e.prototype,n=zk(arguments,1),o=function(){var r=Nk(n,zk(arguments));return this instanceof o?function(t,e,r){if(!Ik(Lk,e)){for(var n=[],o=0;o<e;o++)n[o]="a["+o+"]";Lk[e]=Mk("C,a","return new C("+Bk(n,",")+")")}return Lk[e](t,r)}(e,r.length,r):e.apply(t,r)};return Ok(r)&&(o.prototype=r),o},Dk=_k;uo({target:"Function",proto:!0,forced:Function.bind!==Dk},{bind:Dk});var Fk=W,Uk=X,jk=Le,Hk=Z,qk=tn,Vk=ce("hasInstance"),Gk=Function.prototype;Vk in Gk||jk.f(Gk,Vk,{value:qk(function(t){if(!Fk(this)||!Uk(t))return!1;var e=this.prototype;return Uk(e)?Hk(e,t):t instanceof this},Vk)});var Wk=p,Yk=lr.EXISTS,Xk=C,Kk=ii,Jk=Function.prototype,$k=Xk(Jk.toString),Zk=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,Qk=Xk(Zk.exec);Wk&&!Yk&&Kk(Jk,"name",{configurable:!0,get:function(){try{return Qk(Zk,$k(this))[1]}catch(t){return""}}});var tS=c;uo({global:!0,forced:tS.globalThis!==tS},{globalThis:tS});var eS=uo,rS=c,nS=My,oS=je,iS=W,aS=Ku,sS=ii,lS=_p,cS=d,uS=Kt,dS=Gg.IteratorPrototype,pS=p,fS="constructor",gS="Iterator",hS=ce("toStringTag"),mS=TypeError,vS=rS[gS],yS=!iS(vS)||vS.prototype!==dS||!cS(function(){vS({})}),bS=function(){if(nS(this,dS),aS(this)===dS)throw new mS("Abstract class Iterator not directly constructable")},wS=function(t,e){pS?sS(dS,t,{configurable:!0,get:function(){return e},set:function(e){if(oS(this),this===dS)throw new mS("You can't redefine this property");uS(this,t)?this[t]=e:lS(this,t,e)}}):dS[t]=e};uS(dS,hS)||wS(hS,gS),!yS&&uS(dS,fS)&&dS[fS]!==Object||wS(fS,bS),bS.prototype=dS,eS({global:!0,constructor:!0,forced:yS},{Iterator:bS});var xS=vd,TS=m,PS=Ko,kS=er,SS=Iy,ES=Lr,AS=At,CS=Gg.IteratorPrototype,OS=bh,IS=vd,zS=function(t,e,r){for(var n=t.length-1;n>=0;n--)if(void 0!==t[n])try{r=xS(t[n].iterator,e,r)}catch(t){e="throw",r=t}if("throw"===e)throw r;return r},RS=ce("toStringTag"),MS="IteratorHelper",NS="WrapForValidIterator",BS="normal",LS="throw",_S=ES.set,DS=function(t){var e=ES.getterFor(t?NS:MS);return SS(PS(CS),{next:function(){var r=e(this);if(t)return r.nextHandler();if(r.done)return OS(void 0,!0);try{var n=r.nextHandler();return r.returnHandlerResult?n:OS(n,r.done)}catch(t){throw r.done=!0,t}},return:function(){var r=e(this),n=r.iterator;if(r.done=!0,t){var o=AS(n,"return");return o?TS(o,n):OS(void 0,!0)}if(r.inner)try{IS(r.inner.iterator,BS)}catch(t){return IS(n,LS,t)}if(r.openIters)try{zS(r.openIters,BS)}catch(t){return IS(n,LS,t)}return n&&IS(n,BS),OS(void 0,!0)}})},FS=DS(!0),US=DS(!1);kS(US,RS,"Iterator Helper");var jS=function(t,e,r){var n=function(n,o){o?(o.iterator=n.iterator,o.next=n.next):o=n,o.type=e?NS:MS,o.returnHandlerResult=!!r,o.nextHandler=t,o.counter=0,o.done=!1,_S(this,o)};return n.prototype=e?FS:US,n},HS=uo,qS=m,VS=kt,GS=je,WS=ad,YS=Array,XS=jS(function(){for(;;){var t=this.iterator;if(!t){var e=this.nextIterableIndex++,r=this.iterables;if(e>=r.length)return void(this.done=!0);var n=r[e];this.iterables[e]=null,t=this.iterator=qS(n.method,n.iterable),this.next=t.next}var o=GS(qS(this.next,t));if(!o.done)return o.value;this.iterator=null,this.next=null}});HS({target:"Iterator",stat:!0},{concat:function(){for(var t=arguments.length,e=YS(t),r=0;r<t;r++){var n=GS(arguments[r]);e[r]={iterable:n,method:VS(WS(n))}}return new XS({iterables:e,nextIterableIndex:0,iterator:null,next:null})}});var KS=m,JS=an,$S=At,ZS=Kt,QS=Gg.IteratorPrototype,tE=ce("dispose");ZS(QS,tE)||JS(QS,tE,function(){var t=$S(this,"return");t&&KS(t,this)});var eE=function(t){return{iterator:t,next:t.next,done:!1}},rE=RangeError,nE=function(t){if(t==t)return t;throw new rE("NaN is not allowed")},oE=pn,iE=RangeError,aE=function(t){var e=oE(t);if(e<0)throw new iE("The argument can't be less than 0");return e},sE=function(t,e){var r="function"==typeof Iterator&&Iterator.prototype[t];if(r)try{r.call({next:null},e).next()}catch(t){return!0}},lE=c,cE=function(t,e){var r=lE.Iterator,n=r&&r.prototype,o=n&&n[t],i=!1;if(o)try{o.call({next:function(){return{done:!0}},return:function(){i=!0}},-1)}catch(t){t instanceof e||(i=!1)}if(!i)return o},uE=uo,dE=m,pE=je,fE=eE,gE=nE,hE=aE,mE=vd,vE=jS,yE=cE,bE=!sE("drop",0),wE=!bE&&yE("drop",RangeError),xE=bE||wE,TE=vE(function(){for(var t,e=this.iterator,r=this.next;this.remaining;)if(this.remaining--,t=pE(dE(r,e)),this.done=!!t.done)return;if(t=pE(dE(r,e)),!(this.done=!!t.done))return t.value});uE({target:"Iterator",proto:!0,real:!0,forced:xE},{drop:function(t){var e;pE(this);try{e=hE(gE(+t))}catch(t){mE(this,"throw",t)}return wE?dE(wE,this,e):new TE(fE(this),{remaining:e})}});var PE=uo,kE=m,SE=zd,EE=kt,AE=je,CE=eE,OE=vd,IE=cE("every",TypeError);PE({target:"Iterator",proto:!0,real:!0,forced:IE},{every:function(t){AE(this);try{EE(t)}catch(t){OE(this,"throw",t)}if(IE)return kE(IE,this,t);var e=CE(this),r=0;return!SE(e,function(e,n){if(!t(e,r++))return n()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}});var zE=uo,RE=m,ME=kt,NE=je,BE=eE,LE=jS,_E=lg,DE=vd,FE=cE,UE=!sE("filter",function(){}),jE=!UE&&FE("filter",TypeError),HE=UE||jE,qE=LE(function(){for(var t,e,r=this.iterator,n=this.predicate,o=this.next;;){if(t=NE(RE(o,r)),this.done=!!t.done)return;if(e=t.value,_E(r,n,[e,this.counter++],!0))return e}});zE({target:"Iterator",proto:!0,real:!0,forced:HE},{filter:function(t){NE(this);try{ME(t)}catch(t){DE(this,"throw",t)}return jE?RE(jE,this,t):new qE(BE(this),{predicate:t})}});var VE=uo,GE=m,WE=zd,YE=kt,XE=je,KE=eE,JE=vd,$E=cE("find",TypeError);VE({target:"Iterator",proto:!0,real:!0,forced:$E},{find:function(t){XE(this);try{YE(t)}catch(t){JE(this,"throw",t)}if($E)return GE($E,this,t);var e=KE(this),r=0;return WE(e,function(e,n){if(t(e,r++))return n(e)},{IS_RECORD:!0,INTERRUPTED:!0}).result}});var ZE=m,QE=je,tA=eE,eA=ad,rA=function(t,e){e&&"string"==typeof t||QE(t);var r=eA(t);return tA(QE(void 0!==r?ZE(r,t):t))},nA=uo,oA=m,iA=kt,aA=je,sA=eE,lA=rA,cA=jS,uA=vd,dA=cE,pA=!sE("flatMap",function(){}),fA=!pA&&dA("flatMap",TypeError),gA=pA||fA,hA=cA(function(){for(var t,e,r=this.iterator,n=this.mapper;;){if(e=this.inner)try{if(!(t=aA(oA(e.next,e.iterator))).done)return t.value;this.inner=null}catch(t){uA(r,"throw",t)}if(t=aA(oA(this.next,r)),this.done=!!t.done)return;try{this.inner=lA(n(t.value,this.counter++),!1)}catch(t){uA(r,"throw",t)}}});nA({target:"Iterator",proto:!0,real:!0,forced:gA},{flatMap:function(t){aA(this);try{iA(t)}catch(t){uA(this,"throw",t)}return fA?oA(fA,this,t):new hA(sA(this),{mapper:t,inner:null})}});var mA=uo,vA=m,yA=zd,bA=kt,wA=je,xA=eE,TA=vd,PA=cE("forEach",TypeError);mA({target:"Iterator",proto:!0,real:!0,forced:PA},{forEach:function(t){wA(this);try{bA(t)}catch(t){TA(this,"throw",t)}if(PA)return vA(PA,this,t);var e=xA(this),r=0;yA(e,function(e){t(e,r++)},{IS_RECORD:!0})}});var kA=uo,SA=m,EA=Wt,AA=Z,CA=Gg.IteratorPrototype,OA=jS,IA=rA,zA=function(){try{Iterator.from({return:null}).return()}catch(t){return!0}}(),RA=OA(function(){return SA(this.next,this.iterator)},!0);kA({target:"Iterator",stat:!0,forced:zA},{from:function(t){var e=IA("string"==typeof t?EA(t):t,!0);return AA(CA,e.iterator)?e.iterator:new RA(e)}});var MA=uo,NA=m,BA=kt,LA=je,_A=eE,DA=jS,FA=lg,UA=vd,jA=cE,HA=!sE("map",function(){}),qA=!HA&&jA("map",TypeError),VA=HA||qA,GA=DA(function(){var t=this.iterator,e=LA(NA(this.next,t));if(!(this.done=!!e.done))return FA(t,this.mapper,[e.value,this.counter++],!0)});MA({target:"Iterator",proto:!0,real:!0,forced:VA},{map:function(t){LA(this);try{BA(t)}catch(t){UA(this,"throw",t)}return qA?NA(qA,this,t):new GA(_A(this),{mapper:t})}});var WA=uo,YA=zd,XA=kt,KA=je,JA=eE,$A=vd,ZA=cE,QA=Bs,tC=TypeError,eC=d(function(){[].keys().reduce(function(){},void 0)}),rC=!eC&&ZA("reduce",tC);WA({target:"Iterator",proto:!0,real:!0,forced:eC||rC},{reduce:function(t){KA(this);try{XA(t)}catch(t){$A(this,"throw",t)}var e=arguments.length<2,r=e?void 0:arguments[1];if(rC)return QA(rC,this,e?[t]:[t,r]);var n=JA(this),o=0;if(YA(n,function(n){e?(e=!1,r=n):r=t(r,n,o),o++},{IS_RECORD:!0}),e)throw new tC("Reduce of empty iterator with no initial value");return r}});var nC=uo,oC=m,iC=zd,aC=kt,sC=je,lC=eE,cC=vd,uC=cE("some",TypeError);nC({target:"Iterator",proto:!0,real:!0,forced:uC},{some:function(t){sC(this);try{aC(t)}catch(t){cC(this,"throw",t)}if(uC)return oC(uC,this,t);var e=lC(this),r=0;return iC(e,function(e,n){if(t(e,r++))return n()},{IS_RECORD:!0,INTERRUPTED:!0}).stopped}});var dC=uo,pC=m,fC=je,gC=eE,hC=nE,mC=aE,vC=jS,yC=vd,bC=cE("take",RangeError),wC=vC(function(){var t=this.iterator;if(!this.remaining--)return this.done=!0,yC(t,"normal",void 0);var e=fC(pC(this.next,t));return(this.done=!!e.done)?void 0:e.value});dC({target:"Iterator",proto:!0,real:!0,forced:bC},{take:function(t){var e;fC(this);try{e=mC(hC(+t))}catch(t){yC(this,"throw",t)}return bC?pC(bC,this,e):new wC(gC(this),{remaining:e})}});var xC=je,TC=zd,PC=eE,kC=[].push;uo({target:"Iterator",proto:!0,real:!0},{toArray:function(){var t=[];return TC(PC(xC(this)),kC,{that:t,IS_RECORD:!0}),t}}),uo({target:"JSON",stat:!0,forced:!$s},{isRawJSON:Ds});var SC=uo,EC=p,AC=c,CC=$,OC=C,IC=m,zC=W,RC=X,MC=zi,NC=Kt,BC=Po,LC=xn,_C=_p,DC=d,FC=Js,UC=pt,jC=AC.JSON,HC=AC.Number,qC=AC.SyntaxError,VC=jC&&jC.parse,GC=CC("Object","keys"),WC=Object.getOwnPropertyDescriptor,YC=OC("".charAt),XC=OC("".slice),KC=OC(/./.exec),JC=OC([].push),$C=/^\d$/,ZC=/^[1-9]$/,QC=/^[\d-]$/,tO=/^[\t\n\r ]$/,eO=function(t,e,r,n){var o,i,a,s,l,c=t[e],u=n&&c===n.value,d=u&&"string"==typeof n.source?{source:n.source}:{};if(RC(c)){var p=MC(c),f=u?n.nodes:p?[]:{};if(p)for(o=f.length,a=LC(c),s=0;s<a;s++)rO(c,s,eO(c,""+s,r,s<o?f[s]:void 0));else for(i=GC(c),a=LC(i),s=0;s<a;s++)l=i[s],rO(c,l,eO(c,l,r,NC(f,l)?f[l]:void 0))}return IC(r,t,e,c,d)},rO=function(t,e,r){if(EC){var n=WC(t,e);if(n&&!n.configurable)return}void 0===r?delete t[e]:_C(t,e,r)},nO=function(t,e,r,n){this.value=t,this.end=e,this.source=r,this.nodes=n},oO=function(t,e){this.source=t,this.index=e};oO.prototype={fork:function(t){return new oO(this.source,t)},parse:function(){var t=this.source,e=this.skip(tO,this.index),r=this.fork(e),n=YC(t,e);if(KC(QC,n))return r.number();switch(n){case"{":return r.object();case"[":return r.array();case'"':return r.string();case"t":return r.keyword(!0);case"f":return r.keyword(!1);case"n":return r.keyword(null)}throw new qC('Unexpected character: "'+n+'" at: '+e)},node:function(t,e,r,n,o){return new nO(e,n,t?null:XC(this.source,r,n),o)},object:function(){for(var t=this.source,e=this.index+1,r=!1,n={},o={};e<t.length;){if(e=this.until(['"',"}"],e),"}"===YC(t,e)&&!r){e++;break}var i=this.fork(e).string(),a=i.value;e=i.end,e=this.until([":"],e)+1,e=this.skip(tO,e),i=this.fork(e).parse(),_C(o,a,i),_C(n,a,i.value),e=this.until([",","}"],i.end);var s=YC(t,e);if(","===s)r=!0,e++;else if("}"===s){e++;break}}return this.node(1,n,this.index,e,o)},array:function(){for(var t=this.source,e=this.index+1,r=!1,n=[],o=[];e<t.length;){if(e=this.skip(tO,e),"]"===YC(t,e)&&!r){e++;break}var i=this.fork(e).parse();if(JC(o,i),JC(n,i.value),e=this.until([",","]"],i.end),","===YC(t,e))r=!0,e++;else if("]"===YC(t,e)){e++;break}}return this.node(1,n,this.index,e,o)},string:function(){var t=this.index,e=FC(this.source,this.index+1);return this.node(0,e.value,t,e.end)},number:function(){var t=this.source,e=this.index,r=e;if("-"===YC(t,r)&&r++,"0"===YC(t,r))r++;else{if(!KC(ZC,YC(t,r)))throw new qC("Failed to parse number at: "+r);r=this.skip($C,r+1)}if(("."===YC(t,r)&&(r=this.skip($C,r+1)),"e"===YC(t,r)||"E"===YC(t,r))&&(r++,"+"!==YC(t,r)&&"-"!==YC(t,r)||r++,r===(r=this.skip($C,r))))throw new qC("Failed to parse number's exponent value at: "+r);return this.node(0,HC(XC(t,e,r)),e,r)},keyword:function(t){var e=""+t,r=this.index,n=r+e.length;if(XC(this.source,r,n)!==e)throw new qC("Failed to parse value at: "+r);return this.node(0,t,r,n)},skip:function(t,e){for(var r=this.source;e<r.length&&KC(t,YC(r,e));e++);return e},until:function(t,e){e=this.skip(tO,e);for(var r=YC(this.source,e),n=0;n<t.length;n++)if(t[n]===r)return e;throw new qC('Unexpected character: "'+r+'" at: '+e)}};var iO=DC(function(){var t,e="9007199254740993";return VC(e,function(e,r,n){t=n.source}),t!==e}),aO=UC&&!DC(function(){return 1/VC("-0 \t")!=-1/0});SC({target:"JSON",stat:!0,forced:iO},{parse:function(t,e){return aO&&!zC(e)?VC(t):function(t,e){t=BC(t);var r=new oO(t,0),n=r.parse(),o=n.value,i=r.skip(tO,n.end);if(i<t.length)throw new qC('Unexpected extra character: "'+YC(t,i)+'" after the parsed data at: '+i);return zC(e)?eO({"":o},"",e,n):o}(t,e)}});var sO=!d(function(){return Object.isExtensible(Object.preventExtensions({}))}),lO=uo,cO=sO,uO=$s,dO=$,pO=C,fO=Po,gO=_p,hO=Lr.set,mO=SyntaxError,vO=dO("JSON","parse"),yO=dO("Object","create"),bO=dO("Object","freeze"),wO=pO("".charAt),xO="Unacceptable as raw JSON",TO=function(t){return" "===t||"\t"===t||"\n"===t||"\r"===t};lO({target:"JSON",stat:!0,forced:!uO},{rawJSON:function(t){var e=fO(t);if(""===e||TO(wO(e,0))||TO(wO(e,e.length-1)))throw new mO(xO);var r=vO(e);if("object"==typeof r&&null!==r)throw new mO(xO);var n=yO(null);return hO(n,{type:"RawJSON"}),gO(n,"rawJSON",e),cO?bO(n):n}}),Ti(c.JSON,"JSON",!0);var PO={exports:{}},kO=d(function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}),SO=d,EO=X,AO=R,CO=kO,OO=Object.isExtensible,IO=SO(function(){OO(1)})||CO?function(t){return!!EO(t)&&((!CO||"ArrayBuffer"!==AO(t))&&(!OO||OO(t)))}:OO,zO=uo,RO=C,MO=Tr,NO=X,BO=Kt,LO=Le.f,_O=sn,DO=Jo,FO=IO,UO=sO,jO=!1,HO=te("meta"),qO=0,VO=function(t){LO(t,HO,{value:{objectID:"O"+qO++,weakData:{}}})},GO=PO.exports={enable:function(){GO.enable=function(){},jO=!0;var t=_O.f,e=RO([].splice),r={};r[HO]=1,t(r).length&&(_O.f=function(r){for(var n=t(r),o=0,i=n.length;o<i;o++)if(n[o]===HO){e(n,o,1);break}return n},zO({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:DO.f}))},fastKey:function(t,e){if(!NO(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!BO(t,HO)){if(!FO(t))return"F";if(!e)return"E";VO(t)}return t[HO].objectID},getWeakData:function(t,e){if(!BO(t,HO)){if(!FO(t))return!0;if(!e)return!1;VO(t)}return t[HO].weakData},onFreeze:function(t){return UO&&jO&&FO(t)&&!BO(t,HO)&&VO(t),t}};MO[HO]=!0;var WO=PO.exports,YO=uo,XO=c,KO=C,JO=ro,$O=an,ZO=WO,QO=zd,tI=My,eI=W,rI=D,nI=X,oI=d,iI=Sg,aI=Ti,sI=Bc,lI=function(t,e,r){var n=-1!==t.indexOf("Map"),o=-1!==t.indexOf("Weak"),i=n?"set":"add",a=XO[t],s=a&&a.prototype,l=a,c={},u=function(t){var e=KO(s[t]);$O(s,t,"add"===t?function(t){return e(this,0===t?0:t),this}:"delete"===t?function(t){return!(o&&!nI(t))&&e(this,0===t?0:t)}:"get"===t?function(t){return o&&!nI(t)?void 0:e(this,0===t?0:t)}:"has"===t?function(t){return!(o&&!nI(t))&&e(this,0===t?0:t)}:function(t,r){return e(this,0===t?0:t,r),this})};if(JO(t,!eI(a)||!(o||s.forEach&&!oI(function(){(new a).entries().next()}))))l=r.getConstructor(e,t,n,i),ZO.enable();else if(JO(t,!0)){var d=new l,p=d[i](o?{}:-0,1)!==d,f=oI(function(){d.has(1)}),g=iI(function(t){new a(t)}),h=!o&&oI(function(){for(var t=new a,e=5;e--;)t[i](e,e);return!t.has(-0)});g||((l=e(function(t,e){tI(t,s);var r=sI(new a,t,l);return rI(e)||QO(e,r[i],{that:r,AS_ENTRIES:n}),r})).prototype=s,s.constructor=l),(f||h)&&(u("delete"),u("has"),n&&u("get")),(h||p)&&u(i),o&&s.clear&&delete s.clear}return c[t]=l,YO({global:!0,constructor:!0,forced:l!==a},c),aI(l,t),o||r.setStrong(l,t,n),l},cI=Ko,uI=ii,dI=Iy,pI=Oi,fI=My,gI=D,hI=zd,mI=yh,vI=bh,yI=Sv,bI=p,wI=WO.fastKey,xI=Lr.set,TI=Lr.getterFor,PI={getConstructor:function(t,e,r,n){var o=t(function(t,o){fI(t,i),xI(t,{type:e,index:cI(null),first:null,last:null,size:0}),bI||(t.size=0),gI(o)||hI(o,t[n],{that:t,AS_ENTRIES:r})}),i=o.prototype,a=TI(e),s=function(t,e,r){var n,o,i=a(t),s=l(t,e);return s?s.value=r:(i.last=s={index:o=wI(e,!0),key:e,value:r,previous:n=i.last,next:null,removed:!1},i.first||(i.first=s),n&&(n.next=s),bI?i.size++:t.size++,"F"!==o&&(i.index[o]=s)),t},l=function(t,e){var r,n=a(t),o=wI(e);if("F"!==o)return n.index[o];for(r=n.first;r;r=r.next)if(r.key===e)return r};return dI(i,{clear:function(){for(var t=a(this),e=t.first;e;)e.removed=!0,e.previous&&(e.previous=e.previous.next=null),e=e.next;t.first=t.last=null,t.index=cI(null),bI?t.size=0:this.size=0},delete:function(t){var e=this,r=a(e),n=l(e,t);if(n){var o=n.next,i=n.previous;delete r.index[n.index],n.removed=!0,i&&(i.next=o),o&&(o.previous=i),r.first===n&&(r.first=o),r.last===n&&(r.last=i),bI?r.size--:e.size--}return!!n},forEach:function(t){for(var e,r=a(this),n=pI(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:r.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!l(this,t)}}),dI(i,r?{get:function(t){var e=l(this,t);return e&&e.value},set:function(t,e){return s(this,0===t?0:t,e)}}:{add:function(t){return s(this,t=0===t?0:t,t)}}),bI&&uI(i,"size",{configurable:!0,get:function(){return a(this).size}}),o},setStrong:function(t,e,r){var n=e+" Iterator",o=TI(e),i=TI(n);mI(t,e,function(t,e){xI(this,{type:n,target:t,state:o(t),kind:e,last:null})},function(){for(var t=i(this),e=t.kind,r=t.last;r&&r.removed;)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?vI("keys"===e?r.key:"values"===e?r.value:[r.key,r.value],!1):(t.target=null,vI(void 0,!0))},r?"entries":"values",!r,!0),yI(e)}};lI("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},PI);var kI=C,SI=Map.prototype,EI={Map:Map,set:kI(SI.set),get:kI(SI.get),has:kI(SI.has),remove:kI(SI.delete)},AI=uo,CI=kt,OI=j,II=zd,zI=d,RI=EI.Map,MI=EI.has,NI=EI.get,BI=EI.set,LI=C([].push);AI({target:"Map",stat:!0,forced:zI(function(){return 1!==RI.groupBy("ab",function(t){return t}).get("a").length})},{groupBy:function(t,e){OI(t),CI(e);var r=new RI,n=0;return II(t,function(t){var o=e(t,n++);MI(r,o)?LI(NI(r,o),t):BI(r,o,[t])}),r}});var _I=Math.log,DI=Math.log1p||function(t){var e=+t;return e>-1e-8&&e<1e-8?e-e*e/2:_I(1+e)},FI=uo,UI=DI,jI=Math.acosh,HI=Math.log,qI=Math.sqrt,VI=Math.LN2;FI({target:"Math",stat:!0,forced:!jI||710!==Math.floor(jI(Number.MAX_VALUE))||jI(1/0)!==1/0},{acosh:function(t){var e=+t;return e<1?NaN:e>94906265.62425156?HI(e)+VI:UI(e-1+qI(e-1)*qI(e+1))}});var GI=uo,WI=Math.asinh,YI=Math.log,XI=Math.sqrt;GI({target:"Math",stat:!0,forced:!(WI&&1/WI(0)>0)},{asinh:function t(e){var r=+e;return isFinite(r)&&0!==r?r<0?-t(-r):YI(r+XI(r*r+1)):r}});var KI=uo,JI=Math.atanh,$I=Math.log;KI({target:"Math",stat:!0,forced:!(JI&&1/JI(-0)<0)},{atanh:function(t){var e=+t;return 0===e?e:$I((1+e)/(1-e))/2}});var ZI=uo,QI=Dy,tz=Math.abs,ez=Math.pow;ZI({target:"Math",stat:!0},{cbrt:function(t){var e=+t;return QI(e)*ez(tz(e),1/3)}});var rz=uo,nz=Math.floor,oz=Math.log,iz=Math.LOG2E;rz({target:"Math",stat:!0},{clz32:function(t){var e=t>>>0;return e?31-nz(oz(e+.5)*iz):32}});var az=Math.expm1,sz=Math.exp,lz=!az||az(10)>22025.465794806718||az(10)<22025.465794806718||-2e-17!==az(-2e-17)?function(t){var e=+t;return 0===e?e:e>-1e-6&&e<1e-6?e+e*e/2:sz(e)-1}:az,cz=uo,uz=lz,dz=Math.cosh,pz=Math.abs,fz=Math.E;cz({target:"Math",stat:!0,forced:!dz||dz(710)===1/0},{cosh:function(t){var e=uz(pz(t)-1)+1;return(e+1/(e*fz*fz))*(fz/2)}});var gz=lz;uo({target:"Math",stat:!0,forced:gz!==Math.expm1},{expm1:gz}),uo({target:"Math",stat:!0},{fround:Wy});var hz=Vy;uo({target:"Math",stat:!0},{f16round:function(t){return hz(t,.0009765625,65504,6103515625e-14)}});var mz=uo,vz=Math.hypot,yz=Math.abs,bz=Math.sqrt;mz({target:"Math",stat:!0,arity:2,forced:!!vz&&vz(1/0,NaN)!==1/0},{hypot:function(t,e){for(var r,n,o=0,i=0,a=arguments.length,s=0;i<a;)s<(r=yz(arguments[i++]))?(o=o*(n=s/r)*n+1,s=r):o+=r>0?(n=r/s)*n:r;return s===1/0?1/0:s*bz(o)}});var wz=uo,xz=d,Tz=Math.imul;wz({target:"Math",stat:!0,forced:xz(function(){return-5!==Tz(4294967295,5)||2!==Tz.length})},{imul:function(t,e){var r=65535,n=+t,o=+e,i=r&n,a=r&o;return 0|i*a+((r&n>>>16)*a+i*(r&o>>>16)<<16>>>0)}});var Pz=Math.log,kz=Math.LOG10E,Sz=Math.log10||function(t){return Pz(t)*kz};uo({target:"Math",stat:!0},{log10:Sz}),uo({target:"Math",stat:!0},{log1p:DI}),uo({target:"Math",stat:!0},{log2:px}),uo({target:"Math",stat:!0},{sign:Dy});var Ez=uo,Az=d,Cz=lz,Oz=Math.abs,Iz=Math.exp,zz=Math.E;Ez({target:"Math",stat:!0,forced:Az(function(){return-2e-17!==Math.sinh(-2e-17)})},{sinh:function(t){var e=+t;return Oz(e)<1?(Cz(e)-Cz(-e))/2:(Iz(e-1)-Iz(-e-1))*(zz/2)}});var Rz=uo,Mz=C,Nz=zd,Bz=RangeError,Lz=TypeError,_z=1/0,Dz=Math.abs,Fz=Math.pow,Uz=Mz([].push),jz=Fz(2,1023),Hz=Fz(2,53)-1,qz=Number.MAX_VALUE,Vz=Fz(2,971),Gz={},Wz={},Yz={},Xz={},Kz={},Jz=function(t,e){var r=t+e;return{hi:r,lo:e-(r-t)}};Rz({target:"Math",stat:!0},{sumPrecise:function(t){var e=[],r=0,n=Xz;switch(Nz(t,function(t){if(++r>=Hz)throw new Bz("Maximum allowed index exceeded");if("number"!=typeof t)throw new Lz("Value is not a number");n!==Gz&&(t!=t?n=Gz:t===_z?n=n===Wz?Gz:Yz:t===-1/0?n=n===Yz?Gz:Wz:0===t&&1/t!==_z||n!==Xz&&n!==Kz||(n=Kz,Uz(e,t)))}),n){case Gz:return NaN;case Wz:return-1/0;case Yz:return _z;case Xz:return-0}for(var o,i,a,s,l,c,u=[],d=0,p=0;p<e.length;p++){o=e[p];for(var f=0,g=0;g<u.length;g++){if(i=u[g],Dz(o)<Dz(i)&&(c=o,o=i,i=c),s=(a=Jz(o,i)).hi,l=a.lo,Dz(s)===_z){var h=s===_z?1:-1;d+=h,Dz(o=o-h*jz-h*jz)<Dz(i)&&(c=o,o=i,i=c),s=(a=Jz(o,i)).hi,l=a.lo}0!==l&&(u[f++]=l),o=s}u.length=f,0!==o&&Uz(u,o)}var m=u.length-1;if(s=0,l=0,0!==d){var v=m>=0?u[m]:0;if(m--,Dz(d)>1||d>0&&v>0||d<0&&v<0)return d>0?_z:-1/0;if(s=(a=Jz(d*jz,v/2)).hi,l=a.lo,l*=2,Dz(2*s)===_z)return s>0?s===jz&&l===-Vz/2&&m>=0&&u[m]<0?qz:_z:s===-jz&&l===Vz/2&&m>=0&&u[m]>0?-qz:-1/0;0!==l&&(u[++m]=l,l=0),s*=2}for(;m>=0&&(s=(a=Jz(s,u[m--])).hi,0===(l=a.lo)););return m>=0&&(l<0&&u[m]<0||l>0&&u[m]>0)&&(i=2*l)===(o=s+i)-s&&(s=o),s}});var $z=uo,Zz=lz,Qz=Math.exp;$z({target:"Math",stat:!0},{tanh:function(t){var e=+t,r=Zz(e),n=Zz(-e);return r===1/0?1:n===1/0?-1:(r-n)/(Qz(e)+Qz(-e))}}),Ti(Math,"Math",!0),uo({target:"Math",stat:!0},{trunc:un});var tR=C(1.1.valueOf),eR="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff",rR=j,nR=Po,oR=eR,iR=C("".replace),aR=RegExp("^["+oR+"]+"),sR=RegExp("(^|[^"+oR+"])["+oR+"]+$"),lR=function(t){return function(e){var r=nR(rR(e));return 1&t&&(r=iR(r,aR,"")),2&t&&(r=iR(r,sR,"$1")),r}},cR={start:lR(1),end:lR(2),trim:lR(3)},uR=uo,dR=p,pR=c,fR=li,gR=C,hR=ro,mR=Kt,vR=Bc,yR=Z,bR=yt,wR=ve,xR=d,TR=sn.f,PR=u.f,kR=Le.f,SR=tR,ER=cR.trim,AR="Number",CR=pR[AR];fR[AR];var OR=CR.prototype,IR=pR.TypeError,zR=gR("".slice),RR=gR("".charCodeAt),MR=function(t){var e,r,n,o,i,a,s,l,c=wR(t,"number");if(bR(c))throw new IR("Cannot convert a Symbol value to a number");if("string"==typeof c&&c.length>2)if(c=ER(c),43===(e=RR(c,0))||45===e){if(88===(r=RR(c,2))||120===r)return NaN}else if(48===e){switch(RR(c,1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+c}for(a=(i=zR(c,2)).length,s=0;s<a;s++)if((l=RR(i,s))<48||l>o)return NaN;return parseInt(i,n)}return+c},NR=hR(AR,!CR(" 0o1")||!CR("0b1")||CR("+0x1")),BR=function(t){var e,r=arguments.length<1?0:CR(function(t){var e=wR(t,"number");return"bigint"==typeof e?e:MR(e)}(t));return yR(OR,e=this)&&xR(function(){SR(e)})?vR(Object(r),this,BR):r};BR.prototype=OR,NR&&(OR.constructor=BR),uR({global:!0,constructor:!0,wrap:!0,forced:NR},{Number:BR});NR&&function(t,e){for(var r,n=dR?TR(e):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),o=0;n.length>o;o++)mR(e,r=n[o])&&!mR(t,r)&&kR(t,r,PR(e,r))}(fR[AR],CR),uo({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{EPSILON:Math.pow(2,-52)});var LR=c.isFinite;uo({target:"Number",stat:!0},{isFinite:Number.isFinite||function(t){return"number"==typeof t&&LR(t)}});var _R=X,DR=Math.floor,FR=Number.isInteger||function(t){return!_R(t)&&isFinite(t)&&DR(t)===t};uo({target:"Number",stat:!0},{isInteger:FR}),uo({target:"Number",stat:!0},{isNaN:function(t){return t!=t}});var UR=uo,jR=FR,HR=Math.abs;UR({target:"Number",stat:!0},{isSafeInteger:function(t){return jR(t)&&HR(t)<=9007199254740991}}),uo({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MAX_SAFE_INTEGER:9007199254740991}),uo({target:"Number",stat:!0,nonConfigurable:!0,nonWritable:!0},{MIN_SAFE_INTEGER:-9007199254740991});var qR=c,VR=d,GR=Po,WR=cR.trim,YR=eR,XR=C("".charAt),KR=qR.parseFloat,JR=qR.Symbol,$R=JR&&JR.iterator,ZR=1/KR(YR+"-0")!=-1/0||$R&&!VR(function(){KR(Object($R))})?function(t){var e=WR(GR(t)),r=KR(e);return 0===r&&"-"===XR(e,0)?-0:r}:KR,QR=ZR;uo({target:"Number",stat:!0,forced:Number.parseFloat!==QR},{parseFloat:QR});var tM=c,eM=d,rM=C,nM=Po,oM=cR.trim,iM=eR,aM=tM.parseInt,sM=tM.Symbol,lM=sM&&sM.iterator,cM=/^[+-]?0x/i,uM=rM(cM.exec),dM=8!==aM(iM+"08")||22!==aM(iM+"0x16")||lM&&!eM(function(){aM(Object(lM))})?function(t,e){var r=oM(nM(t));return aM(r,e>>>0||(uM(cM,r)?16:10))}:aM,pM=dM;uo({target:"Number",stat:!0,forced:Number.parseInt!==pM},{parseInt:pM});var fM=uo,gM=C,hM=pn,mM=tR,vM=VT,yM=Sz,bM=d,wM=RangeError,xM=String,TM=isFinite,PM=Math.abs,kM=Math.floor,SM=Math.pow,EM=Math.round,AM=gM(1.1.toExponential),CM=gM(vM),OM=gM("".slice),IM="-6.9000e-11"===AM(-69e-12,4)&&"1.25e+0"===AM(1.255,2)&&"1.235e+4"===AM(12345,3)&&"3e+1"===AM(25,0);fM({target:"Number",proto:!0,forced:!IM||!(bM(function(){AM(1,1/0)})&&bM(function(){AM(1,-1/0)}))||!!bM(function(){AM(1/0,1/0),AM(NaN,1/0)})},{toExponential:function(t){var e=mM(this);if(void 0===t)return AM(e);var r=hM(t);if(!TM(e))return String(e);if(r<0||r>20)throw new wM("Incorrect fraction digits");if(IM)return AM(e,r);var n,o,i,a,s="";if(e<0&&(s="-",e=-e),0===e)o=0,n=CM("0",r+1);else{var l=yM(e);o=kM(l);var c=SM(10,o-r),u=EM(e/c);2*e>=(2*u+1)*c&&(u+=1),u>=SM(10,r+1)&&(u/=10,o+=1),n=xM(u)}return 0!==r&&(n=OM(n,0,1)+"."+OM(n,1)),0===o?(i="+",a="0"):(i=o>0?"+":"-",a=xM(PM(o))),s+(n+="e"+i+a)}});var zM=uo,RM=C,MM=pn,NM=tR,BM=VT,LM=d,_M=RangeError,DM=String,FM=Math.floor,UM=RM(BM),jM=RM("".slice),HM=RM(1.1.toFixed),qM=function(t,e,r){return 0===e?r:e%2==1?qM(t,e-1,r*t):qM(t*t,e/2,r)},VM=function(t,e,r){for(var n=-1,o=r;++n<6;)o+=e*t[n],t[n]=o%1e7,o=FM(o/1e7)},GM=function(t,e){for(var r=6,n=0;--r>=0;)n+=t[r],t[r]=FM(n/e),n=n%e*1e7},WM=function(t){for(var e=6,r="";--e>=0;)if(""!==r||0===e||0!==t[e]){var n=DM(t[e]);r=""===r?n:r+UM("0",7-n.length)+n}return r};zM({target:"Number",proto:!0,forced:LM(function(){return"0.000"!==HM(8e-5,3)||"1"!==HM(.9,0)||"1.25"!==HM(1.255,2)||"1000000000000000128"!==HM(0xde0b6b3a7640080,0)})||!LM(function(){HM({})})},{toFixed:function(t){var e,r,n,o,i=NM(this),a=MM(t),s=[0,0,0,0,0,0],l="",c="0";if(a<0||a>20)throw new _M("Incorrect fraction digits");if(i!=i)return"NaN";if(i<=-1e21||i>=1e21)return DM(i);if(i<0&&(l="-",i=-i),i>1e-21)if(r=(e=function(t){for(var e=0,r=t;r>=4096;)e+=12,r/=4096;for(;r>=2;)e+=1,r/=2;return e}(i*qM(2,69,1))-69)<0?i*qM(2,-e,1):i/qM(2,e,1),r*=4503599627370496,(e=52-e)>0){for(VM(s,0,r),n=a;n>=7;)VM(s,1e7,0),n-=7;for(VM(s,qM(10,n,1),0),n=e-1;n>=23;)GM(s,1<<23),n-=23;GM(s,1<<n),VM(s,1,1),GM(s,2),c=WM(s)}else VM(s,0,r),VM(s,1<<-e,0),c=WM(s)+UM("0",a);return c=a>0?l+((o=c.length)<=a?"0."+UM("0",a-o)+c:jM(c,0,o-a)+"."+jM(c,o-a)):l+c}});var YM=uo,XM=d,KM=tR,JM=C(1.1.toPrecision);YM({target:"Number",proto:!0,forced:XM(function(){return"1"!==JM(1,void 0)})||!XM(function(){JM({})})},{toPrecision:function(t){return void 0===t?JM(KM(this)):JM(KM(this),t)}});var $M=p,ZM=C,QM=m,tN=d,eN=Ao,rN=Ln,nN=v,oN=Wt,iN=_,aN=Object.assign,sN=Object.defineProperty,lN=ZM([].concat),cN=!aN||tN(function(){if($M&&1!==aN({b:1},aN(sN({},"a",{enumerable:!0,get:function(){sN(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol("assign detection"),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach(function(t){e[t]=t}),7!==aN({},t)[r]||eN(aN({},e)).join("")!==n})?function(t,e){for(var r=oN(t),n=arguments.length,o=1,i=rN.f,a=nN.f;n>o;)for(var s,l=iN(arguments[o++]),c=i?lN(eN(l),i(l)):eN(l),u=c.length,d=0;u>d;)s=c[d++],$M&&!QM(a,l,s)||(r[s]=l[s]);return r}:aN,uN=cN;uo({target:"Object",stat:!0,arity:2,forced:Object.assign!==uN},{assign:uN}),uo({target:"Object",stat:!0,sham:!p},{create:Ko});var dN=c,pN=Qm,fN=!d(function(){if(!(pN&&pN<535)){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete dN[t]}}),gN=kt,hN=Wt,mN=Le;p&&uo({target:"Object",proto:!0,forced:fN},{__defineGetter__:function(t,e){mN.f(hN(this),t,{get:gN(e),enumerable:!0,configurable:!0})}});var vN=uo,yN=p,bN=ko.f;vN({target:"Object",stat:!0,forced:Object.defineProperties!==bN,sham:!yN},{defineProperties:bN});var wN=uo,xN=p,TN=Le.f;wN({target:"Object",stat:!0,forced:Object.defineProperty!==TN,sham:!xN},{defineProperty:TN});var PN=kt,kN=Wt,SN=Le;p&&uo({target:"Object",proto:!0,forced:fN},{__defineSetter__:function(t,e){SN.f(kN(this),t,{set:PN(e),enumerable:!0,configurable:!0})}});var EN=p,AN=d,CN=C,ON=Ku,IN=Ao,zN=V,RN=CN(v.f),MN=CN([].push),NN=EN&&AN(function(){var t=Object.create(null);return t[2]=2,!RN(t,2)}),BN=function(t){return function(e){for(var r,n=zN(e),o=IN(n),i=NN&&null===ON(n),a=o.length,s=0,l=[];a>s;)r=o[s++],EN&&!(i?r in n:RN(n,r))||MN(l,t?[r,n[r]]:n[r]);return l}},LN={entries:BN(!0),values:BN(!1)},_N=LN.entries;uo({target:"Object",stat:!0},{entries:function(t){return _N(t)}});var DN=uo,FN=sO,UN=d,jN=X,HN=WO.onFreeze,qN=Object.freeze;DN({target:"Object",stat:!0,forced:UN(function(){qN(1)}),sham:!FN},{freeze:function(t){return qN&&jN(t)?qN(HN(t)):t}});var VN=zd,GN=_p;uo({target:"Object",stat:!0},{fromEntries:function(t){var e={};return VN(t,function(t,r){GN(e,t,r)},{AS_ENTRIES:!0}),e}});var WN=uo,YN=d,XN=V,KN=u.f,JN=p;WN({target:"Object",stat:!0,forced:!JN||YN(function(){KN(1)}),sham:!JN},{getOwnPropertyDescriptor:function(t,e){return KN(XN(t),e)}});var $N=Hn,ZN=V,QN=u,tB=_p;uo({target:"Object",stat:!0,sham:!p},{getOwnPropertyDescriptors:function(t){for(var e,r,n=ZN(t),o=QN.f,i=$N(n),a={},s=0;i.length>s;)void 0!==(r=o(n,e=i[s++]))&&tB(a,e,r);return a}});var eB=uo,rB=d,nB=Jo.f;eB({target:"Object",stat:!0,forced:rB(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:nB});var oB=Wt,iB=Ku,aB=ju;uo({target:"Object",stat:!0,forced:d(function(){iB(1)}),sham:!aB},{getPrototypeOf:function(t){return iB(oB(t))}});var sB=uo,lB=_p,cB=$,uB=C,dB=kt,pB=j,fB=we,gB=zd,hB=d,mB=Object.groupBy,vB=cB("Object","create"),yB=uB([].push);sB({target:"Object",stat:!0,forced:!mB||hB(function(){return 1!==mB("ab",function(t){return t}).a.length})},{groupBy:function(t,e){pB(t),dB(e);var r=vB(null),n=0;return gB(t,function(t){var o=fB(e(t,n++));o in r?yB(r[o],t):lB(r,o,[t])}),r}}),uo({target:"Object",stat:!0},{hasOwn:Kt});var bB=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e};uo({target:"Object",stat:!0},{is:bB});var wB=IO;uo({target:"Object",stat:!0,forced:Object.isExtensible!==wB},{isExtensible:wB});var xB=uo,TB=d,PB=X,kB=R,SB=kO,EB=Object.isFrozen;xB({target:"Object",stat:!0,forced:SB||TB(function(){EB(1)})},{isFrozen:function(t){return!PB(t)||(!(!SB||"ArrayBuffer"!==kB(t))||!!EB&&EB(t))}});var AB=uo,CB=d,OB=X,IB=R,zB=kO,RB=Object.isSealed;AB({target:"Object",stat:!0,forced:zB||CB(function(){RB(1)})},{isSealed:function(t){return!OB(t)||(!(!zB||"ArrayBuffer"!==IB(t))||!!RB&&RB(t))}});var MB=Wt,NB=Ao;uo({target:"Object",stat:!0,forced:d(function(){NB(1)})},{keys:function(t){return NB(MB(t))}});var BB=uo,LB=p,_B=fN,DB=Wt,FB=we,UB=Ku,jB=u.f;LB&&BB({target:"Object",proto:!0,forced:_B},{__lookupGetter__:function(t){var e,r=DB(this),n=FB(t);do{if(e=jB(r,n))return e.get}while(r=UB(r))}});var HB=uo,qB=p,VB=fN,GB=Wt,WB=we,YB=Ku,XB=u.f;qB&&HB({target:"Object",proto:!0,forced:VB},{__lookupSetter__:function(t){var e,r=GB(this),n=WB(t);do{if(e=XB(r,n))return e.set}while(r=YB(r))}});var KB=uo,JB=X,$B=WO.onFreeze,ZB=sO,QB=d,tL=Object.preventExtensions;KB({target:"Object",stat:!0,forced:QB(function(){tL(1)}),sham:!ZB},{preventExtensions:function(t){return tL&&JB(t)?tL($B(t)):t}});var eL=p,rL=ii,nL=X,oL=wc,iL=Wt,aL=j,sL=Object.getPrototypeOf,lL=Object.setPrototypeOf,cL=Object.prototype,uL="__proto__";if(eL&&sL&&lL&&!(uL in cL))try{rL(cL,uL,{configurable:!0,get:function(){return sL(iL(this))},set:function(t){var e=aL(this);oL(t)&&nL(e)&&lL(e,t)}})}catch(Yot){}var dL=uo,pL=X,fL=WO.onFreeze,gL=sO,hL=d,mL=Object.seal;dL({target:"Object",stat:!0,forced:hL(function(){mL(1)}),sham:!gL},{seal:function(t){return mL&&pL(t)?mL(fL(t)):t}}),uo({target:"Object",stat:!0},{setPrototypeOf:Oc});var vL=wo,yL=fo?{}.toString:function(){return"[object "+vL(this)+"]"};fo||an(Object.prototype,"toString",yL,{unsafe:!0});var bL=LN.values;uo({target:"Object",stat:!0},{values:function(t){return bL(t)}});uo({global:!0,forced:parseFloat!==ZR},{parseFloat:ZR});uo({global:!0,forced:parseInt!==dM},{parseInt:dM});var wL,xL,TL,PL,kL=Vi,SL=wt,EL=TypeError,AL=function(t){if(kL(t))return t;throw new EL(SL(t)+" is not a constructor")},CL=je,OL=AL,IL=D,zL=ce("species"),RL=function(t,e){var r,n=CL(t).constructor;return void 0===n||IL(r=CL(n)[zL])?e:OL(r)},ML=TypeError,NL=function(t,e){if(t<e)throw new ML("Not enough arguments");return t},BL=/(?:ipad|iphone|ipod).*applewebkit/i.test(et),LL=c,_L=Bs,DL=Oi,FL=W,UL=Kt,jL=d,HL=Bo,qL=$o,VL=ke,GL=NL,WL=BL,YL=Pm,XL=LL.setImmediate,KL=LL.clearImmediate,JL=LL.process,$L=LL.Dispatch,ZL=LL.Function,QL=LL.MessageChannel,t_=LL.String,e_=0,r_={},n_="onreadystatechange";jL(function(){wL=LL.location});var o_=function(t){if(UL(r_,t)){var e=r_[t];delete r_[t],e()}},i_=function(t){return function(){o_(t)}},a_=function(t){o_(t.data)},s_=function(t){LL.postMessage(t_(t),wL.protocol+"//"+wL.host)};XL&&KL||(XL=function(t){GL(arguments.length,1);var e=FL(t)?t:ZL(t),r=qL(arguments,1);return r_[++e_]=function(){_L(e,void 0,r)},xL(e_),e_},KL=function(t){delete r_[t]},YL?xL=function(t){JL.nextTick(i_(t))}:$L&&$L.now?xL=function(t){$L.now(i_(t))}:QL&&!WL?(PL=(TL=new QL).port2,TL.port1.onmessage=a_,xL=DL(PL.postMessage,PL)):LL.addEventListener&&FL(LL.postMessage)&&!LL.importScripts&&wL&&"file:"!==wL.protocol&&!jL(s_)?(xL=s_,LL.addEventListener("message",a_,!1)):xL=n_ in VL("script")?function(t){HL.appendChild(VL("script"))[n_]=function(){HL.removeChild(this),o_(t)}}:function(t){setTimeout(i_(t),0)});var l_={set:XL,clear:KL},c_=c,u_=p,d_=Object.getOwnPropertyDescriptor,p_=function(t){if(!u_)return c_[t];var e=d_(c_,t);return e&&e.value},f_=function(){this.head=null,this.tail=null};f_.prototype={add:function(t){var e={item:t,next:null},r=this.tail;r?r.next=e:this.head=e,this.tail=e},get:function(){var t=this.head;if(t)return null===(this.head=t.next)&&(this.tail=null),t.item}};var g_,h_,m_,v_,y_,b_=f_,w_=/ipad|iphone|ipod/i.test(et)&&"undefined"!=typeof Pebble,x_=/web0s(?!.*chrome)/i.test(et),T_=c,P_=p_,k_=Oi,S_=l_.set,E_=b_,A_=BL,C_=w_,O_=x_,I_=Pm,z_=T_.MutationObserver||T_.WebKitMutationObserver,R_=T_.document,M_=T_.process,N_=T_.Promise,B_=P_("queueMicrotask");if(!B_){var L_=new E_,__=function(){var t,e;for(I_&&(t=M_.domain)&&t.exit();e=L_.get();)try{e()}catch(t){throw L_.head&&g_(),t}t&&t.enter()};A_||I_||O_||!z_||!R_?!C_&&N_&&N_.resolve?((v_=N_.resolve(void 0)).constructor=N_,y_=k_(v_.then,v_),g_=function(){y_(__)}):I_?g_=function(){M_.nextTick(__)}:(S_=k_(S_,T_),g_=function(){S_(__)}):(h_=!0,m_=R_.createTextNode(""),new z_(__).observe(m_,{characterData:!0}),g_=function(){m_.data=h_=!h_}),B_=function(t){L_.head||g_(),L_.add(t)}}var D_=B_,F_=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}},U_=c.Promise,j_=c,H_=U_,q_=W,V_=ro,G_=hr,W_=ce,Y_=Tm,X_=lt;H_&&H_.prototype;var K_=W_("species"),J_=!1,$_=q_(j_.PromiseRejectionEvent),Z_=V_("Promise",function(){var t=G_(H_),e=t!==String(H_);if(!e&&66===X_)return!0;if(!X_||X_<51||!/native code/.test(t)){var r=new H_(function(t){t(1)}),n=function(t){t(function(){},function(){})};if((r.constructor={})[K_]=n,!(J_=r.then(function(){})instanceof n))return!0}return!(e||"BROWSER"!==Y_&&"DENO"!==Y_||$_)}),Q_={CONSTRUCTOR:Z_,REJECTION_EVENT:$_,SUBCLASSING:J_},tD={},eD=kt,rD=TypeError,nD=function(t){var e,r;this.promise=new t(function(t,n){if(void 0!==e||void 0!==r)throw new rD("Bad Promise constructor");e=t,r=n}),this.resolve=eD(e),this.reject=eD(r)};tD.f=function(t){return new nD(t)};var oD,iD,aD,sD,lD=uo,cD=Pm,uD=c,dD=li,pD=m,fD=an,gD=Oc,hD=Ti,mD=Sv,vD=kt,yD=W,bD=X,wD=My,xD=RL,TD=l_.set,PD=D_,kD=function(t,e){try{1===arguments.length?console.error(t):console.error(t,e)}catch(t){}},SD=F_,ED=b_,AD=Lr,CD=U_,OD=tD,ID="Promise",zD=Q_.CONSTRUCTOR,RD=Q_.REJECTION_EVENT,MD=Q_.SUBCLASSING,ND=AD.getterFor(ID),BD=AD.set,LD=CD&&CD.prototype,_D=CD,DD=LD,FD=uD.TypeError,UD=uD.document,jD=uD.process,HD=OD.f,qD=HD,VD=!!(UD&&UD.createEvent&&uD.dispatchEvent),GD="unhandledrejection",WD=function(t){var e;return!(!bD(t)||!yD(e=t.then))&&e},YD=function(t,e){var r,n,o,i=e.value,a=1===e.state,s=a?t.ok:t.fail,l=t.resolve,c=t.reject,u=t.domain;try{s?(a||(2===e.rejection&&ZD(e),e.rejection=1),!0===s?r=i:(u&&u.enter(),r=s(i),u&&(u.exit(),o=!0)),r===t.promise?c(new FD("Promise-chain cycle")):(n=WD(r))?pD(n,r,l,c):l(r)):c(i)}catch(t){u&&!o&&u.exit(),c(t)}},XD=function(t,e){t.notified||(t.notified=!0,PD(function(){for(var r,n=t.reactions;r=n.get();)YD(r,t);t.notified=!1,e&&!t.rejection&&JD(t)}))},KD=function(t,e,r){var n,o;VD?((n=UD.createEvent("Event")).promise=e,n.reason=r,n.initEvent(t,!1,!0),uD.dispatchEvent(n)):n={promise:e,reason:r},!RD&&(o=uD["on"+t])?o(n):t===GD&&kD("Unhandled promise rejection",r)},JD=function(t){pD(TD,uD,function(){var e,r=t.facade,n=t.value;if($D(t)&&(e=SD(function(){cD?jD.emit("unhandledRejection",n,r):KD(GD,r,n)}),t.rejection=cD||$D(t)?2:1,e.error))throw e.value})},$D=function(t){return 1!==t.rejection&&!t.parent},ZD=function(t){pD(TD,uD,function(){var e=t.facade;cD?jD.emit("rejectionHandled",e):KD("rejectionhandled",e,t.value)})},QD=function(t,e,r){return function(n){t(e,n,r)}},tF=function(t,e,r){t.done||(t.done=!0,r&&(t=r),t.value=e,t.state=2,XD(t,!0))},eF=function(t,e,r){if(!t.done){t.done=!0,r&&(t=r);try{if(t.facade===e)throw new FD("Promise can't be resolved itself");var n=WD(e);n?PD(function(){var r={done:!1};try{pD(n,e,QD(eF,r,t),QD(tF,r,t))}catch(e){tF(r,e,t)}}):(t.value=e,t.state=1,XD(t,!1))}catch(e){tF({done:!1},e,t)}}};if(zD&&(_D=function(t){wD(this,DD),vD(t),pD(oD,this);var e=ND(this);try{t(QD(eF,e),QD(tF,e))}catch(t){tF(e,t)}},DD=_D.prototype,(oD=function(t){BD(this,{type:ID,done:!1,notified:!1,parent:!1,reactions:new ED,rejection:!1,state:0,value:null})}).prototype=fD(DD,"then",function(t,e){var r=ND(this),n=HD(xD(this,_D));return r.parent=!0,n.ok=!yD(t)||t,n.fail=yD(e)&&e,n.domain=cD?jD.domain:void 0,0===r.state?r.reactions.add(n):PD(function(){YD(n,r)}),n.promise}),iD=function(){var t=new oD,e=ND(t);this.promise=t,this.resolve=QD(eF,e),this.reject=QD(tF,e)},OD.f=HD=function(t){return t===_D||t===aD?new iD(t):qD(t)},yD(CD)&&LD!==Object.prototype)){sD=LD.then,MD||fD(LD,"then",function(t,e){var r=this;return new _D(function(t,e){pD(sD,r,t,e)}).then(t,e)},{unsafe:!0});try{delete LD.constructor}catch(Yot){}gD&&gD(LD,DD)}lD({global:!0,constructor:!0,wrap:!0,forced:zD},{Promise:_D}),aD=dD.Promise,hD(_D,ID,!1),mD(ID);var rF=U_,nF=Q_.CONSTRUCTOR||!Sg(function(t){rF.all(t).then(void 0,function(){})}),oF=m,iF=kt,aF=tD,sF=F_,lF=zd;uo({target:"Promise",stat:!0,forced:nF},{all:function(t){var e=this,r=aF.f(e),n=r.resolve,o=r.reject,i=sF(function(){var r=iF(e.resolve),i=[],a=0,s=1;lF(t,function(t){var l=a++,c=!1;s++,oF(r,e,t).then(function(t){c||(c=!0,i[l]=t,--s||n(i))},o)}),--s||n(i)});return i.error&&o(i.value),r.promise}});var cF=uo,uF=Q_.CONSTRUCTOR,dF=U_,pF=$,fF=W,gF=an,hF=dF&&dF.prototype;if(cF({target:"Promise",proto:!0,forced:uF,real:!0},{catch:function(t){return this.then(void 0,t)}}),fF(dF)){var mF=pF("Promise").prototype.catch;hF.catch!==mF&&gF(hF,"catch",mF,{unsafe:!0})}var vF=m,yF=kt,bF=tD,wF=F_,xF=zd;uo({target:"Promise",stat:!0,forced:nF},{race:function(t){var e=this,r=bF.f(e),n=r.reject,o=wF(function(){var o=yF(e.resolve);xF(t,function(t){vF(o,e,t).then(r.resolve,n)})});return o.error&&n(o.value),r.promise}});var TF=tD;uo({target:"Promise",stat:!0,forced:Q_.CONSTRUCTOR},{reject:function(t){var e=TF.f(this);return(0,e.reject)(t),e.promise}});var PF=je,kF=X,SF=tD,EF=function(t,e){if(PF(t),kF(e)&&e.constructor===t)return e;var r=SF.f(t);return(0,r.resolve)(e),r.promise},AF=uo,CF=Q_.CONSTRUCTOR,OF=EF;$("Promise"),AF({target:"Promise",stat:!0,forced:CF},{resolve:function(t){return OF(this,t)}});var IF=m,zF=kt,RF=tD,MF=F_,NF=zd;uo({target:"Promise",stat:!0,forced:nF},{allSettled:function(t){var e=this,r=RF.f(e),n=r.resolve,o=r.reject,i=MF(function(){var r=zF(e.resolve),o=[],i=0,a=1;NF(t,function(t){var s=i++,l=!1;a++,IF(r,e,t).then(function(t){l||(l=!0,o[s]={status:"fulfilled",value:t},--a||n(o))},function(t){l||(l=!0,o[s]={status:"rejected",reason:t},--a||n(o))})}),--a||n(o)});return i.error&&o(i.value),r.promise}});var BF=m,LF=kt,_F=$,DF=tD,FF=F_,UF=zd,jF="No one promise resolved";uo({target:"Promise",stat:!0,forced:nF},{any:function(t){var e=this,r=_F("AggregateError"),n=DF.f(e),o=n.resolve,i=n.reject,a=FF(function(){var n=LF(e.resolve),a=[],s=0,l=1,c=!1;UF(t,function(t){var u=s++,d=!1;l++,BF(n,e,t).then(function(t){d||c||(c=!0,o(t))},function(t){d||c||(d=!0,a[u]=t,--l||i(new r(a,jF)))})}),--l||i(new r(a,jF))});return a.error&&i(a.value),n.promise}});var HF=uo,qF=U_,VF=d,GF=$,WF=W,YF=RL,XF=EF,KF=an,JF=qF&&qF.prototype;if(HF({target:"Promise",proto:!0,real:!0,forced:!!qF&&VF(function(){JF.finally.call({then:function(){}},function(){})})},{finally:function(t){var e=YF(this,GF("Promise")),r=WF(t);return this.then(r?function(r){return XF(e,t()).then(function(){return r})}:t,r?function(r){return XF(e,t()).then(function(){throw r})}:t)}}),WF(qF)){var $F=GF("Promise").prototype.finally;JF.finally!==$F&&KF(JF,"finally",$F,{unsafe:!0})}var ZF=uo,QF=Bs,tU=$o,eU=tD,rU=kt,nU=F_,oU=c.Promise,iU=!1;ZF({target:"Promise",stat:!0,forced:!oU||!oU.try||nU(function(){oU.try(function(t){iU=8===t},8)}).error||!iU},{try:function(t){var e=arguments.length>1?tU(arguments,1):[],r=eU.f(this),n=nU(function(){return QF(rU(t),void 0,e)});return(n.error?r.reject:r.resolve)(n.value),r.promise}});var aU=tD;uo({target:"Promise",stat:!0},{withResolvers:function(){var t=aU.f(this);return{promise:t.promise,resolve:t.resolve,reject:t.reject}}});var sU,lU,cU=c,uU=jt,dU=W,pU=Ku,fU=an,gU="USE_FUNCTION_CONSTRUCTOR",hU=ce("asyncIterator"),mU=cU.AsyncIterator,vU=uU.AsyncIteratorPrototype;if(vU)sU=vU;else if(dU(mU))sU=mU.prototype;else if(uU[gU]||cU[gU])try{lU=pU(pU(pU(Function("return async function*(){}()")()))),pU(lU)===Object.prototype&&(sU=lU)}catch(Yot){}sU||(sU={}),dU(sU[hU])||fU(sU,hU,function(){return this});var yU=sU,bU=m,wU=je,xU=Ko,TU=At,PU=Iy,kU=Lr,SU=vd,EU=yU,AU=bh,CU=$("Promise"),OU="AsyncFromSyncIterator",IU=kU.set,zU=kU.getterFor(OU),RU=function(t,e,r,n,o){var i=t.done;CU.resolve(t.value).then(function(t){e(AU(t,i))},function(t){if(!i&&o)try{SU(n,"throw",t)}catch(e){t=e}r(t)})},MU=function(t){t.type=OU,IU(this,t)};MU.prototype=PU(xU(EU),{next:function(){var t=zU(this);return new CU(function(e,r){var n=wU(bU(t.next,t.iterator));RU(n,e,r,t.iterator,!0)})},return:function(){var t=zU(this).iterator;return new CU(function(e,r){var n=TU(t,"return");if(void 0===n)return e(AU(void 0,!0));var o=wU(bU(n,t));RU(o,e,r,t)})}});var NU,BU,LU,_U,DU,FU=MU,UU=m,jU=FU,HU=je,qU=fd,VU=eE,GU=At,WU=ce("asyncIterator"),YU=m,XU=$,KU=At,JU=m,$U=kt,ZU=je,QU=X,tj=Mp,ej=$,rj=eE,nj=function(t,e,r,n){try{var o=KU(t,"return");if(o)return XU("Promise").resolve(YU(o,t)).then(function(){e(r)},function(t){n(t)})}catch(t){return n(t)}e(r)},oj={toArray:(NU=0,BU=0===NU,LU=1===NU,_U=2===NU,DU=3===NU,function(t,e,r){ZU(t);var n=void 0!==e;!n&&BU||$U(e);var o=rj(t),i=ej("Promise"),a=o.iterator,s=o.next,l=0;return new i(function(t,o){var c=function(t){nj(a,o,t,o)},u=function(){try{if(n)try{tj(l)}catch(t){c(t)}i.resolve(ZU(JU(s,a))).then(function(s){try{if(ZU(s).done)BU?(r.length=l,t(r)):t(!DU&&(_U||void 0));else{var d=s.value;try{if(n){var p=e(d,l),f=function(e){if(LU)u();else if(_U)e?u():nj(a,t,!1,o);else if(BU)try{r[l++]=e,u()}catch(t){c(t)}else e?nj(a,t,DU||d,o):u()};QU(p)?i.resolve(p).then(f,c):f(p)}else r[l++]=d,u()}catch(t){c(t)}}}catch(t){o(t)}},o)}catch(t){o(t)}};u()})})},ij=Oi,aj=C,sj=Wt,lj=Vi,cj=function(t,e){var r=arguments.length<2?GU(t,WU):e;return r?HU(UU(r,t)):new jU(VU(qU(t)))},uj=fd,dj=eE,pj=ad,fj=At,gj=$,hj=Xv,mj=FU,vj=oj.toArray,yj=ce("asyncIterator"),bj=aj(hj("Array","values")),wj=aj(bj([]).next),xj=function(){return new Tj(this)},Tj=function(t){this.iterator=bj(t)};Tj.prototype.next=function(){return wj(this.iterator)};var Pj=uo,kj=function(t){var e=this,r=arguments.length,n=r>1?arguments[1]:void 0,o=r>2?arguments[2]:void 0;return new(gj("Promise"))(function(r){var i=sj(t);void 0!==n&&(n=ij(n,o));var a=fj(i,yj),s=a?void 0:pj(i)||xj,l=lj(e)?new e:[],c=a?cj(i,a):new mj(dj(uj(i,s)));r(vj(c,n,l))})},Sj=d,Ej=Array.fromAsync,Aj=!Ej||Sj(function(){var t=0;return Ej.call(function(){return t++,[]},{length:0}),1!==t});Pj({target:"Array",stat:!0,forced:Aj},{fromAsync:kj});var Cj=uo,Oj=p,Ij=$,zj=kt,Rj=My,Mj=an,Nj=Iy,Bj=ii,Lj=ce,_j=Lr,Dj=XP,Fj=lt,Uj=Ij("Promise"),jj=Ij("SuppressedError"),Hj=ReferenceError,qj=Lj("asyncDispose"),Vj=Lj("toStringTag"),Gj="AsyncDisposableStack",Wj=_j.set,Yj=_j.getterFor(Gj),Xj="async-dispose",Kj="disposed",Jj=function(t){var e=Yj(t);if(e.state===Kj)throw new Hj(Gj+" already disposed");return e},$j=function(){Wj(Rj(this,Zj),{type:Gj,state:"pending",stack:[]}),Oj||(this.disposed=!1)},Zj=$j.prototype;Nj(Zj,{disposeAsync:function(){var t=this;return new Uj(function(e,r){var n=Yj(t);if(n.state===Kj)return e(void 0);n.state=Kj,Oj||(t.disposed=!0);var o,i=n.stack,a=i.length,s=!1,l=function(t){s?o=new jj(t,o):(s=!0,o=t),c()},c=function(){if(a){var t=i[--a];i[a]=null;try{Uj.resolve(t()).then(c,l)}catch(t){l(t)}}else n.stack=null,s?r(o):e(void 0)};c()})},use:function(t){return Dj(Jj(this),t,Xj),t},adopt:function(t,e){var r=Jj(this);return zj(e),Dj(r,void 0,Xj,function(){return e(t)}),t},defer:function(t){var e=Jj(this);zj(t),Dj(e,void 0,Xj,t)},move:function(){var t=Jj(this),e=new $j;return Yj(e).stack=t.stack,t.stack=[],t.state=Kj,Oj||(this.disposed=!0),e}}),Oj&&Bj(Zj,"disposed",{configurable:!0,get:function(){return Yj(this).state===Kj}}),Mj(Zj,qj,Zj.disposeAsync,{name:"disposeAsync"}),Mj(Zj,Vj,Gj,{nonWritable:!0}),Cj({global:!0,constructor:!0,forced:Fj&&Fj<136},{AsyncDisposableStack:$j});var Qj=m,tH=an,eH=$,rH=At,nH=Kt,oH=yU,iH=ce("asyncDispose"),aH=eH("Promise");nH(oH,iH)||tH(oH,iH,function(){var t=this;return new aH(function(e,r){var n=rH(t,"return");n?aH.resolve(Qj(n,t)).then(function(){e(void 0)},r):e(void 0)})});var sH=Bs,lH=kt,cH=je;uo({target:"Reflect",stat:!0,forced:!d(function(){Reflect.apply(function(){})})},{apply:function(t,e,r){return sH(lH(t),e,cH(r))}});var uH=uo,dH=Bs,pH=_k,fH=AL,gH=je,hH=X,mH=Ko,vH=d,yH=$("Reflect","construct"),bH=Object.prototype,wH=[].push,xH=vH(function(){function t(){}return!(yH(function(){},[],t)instanceof t)}),TH=!vH(function(){yH(function(){})}),PH=xH||TH;uH({target:"Reflect",stat:!0,forced:PH,sham:PH},{construct:function(t,e){fH(t),gH(e);var r=arguments.length<3?t:fH(arguments[2]);if(TH&&!xH)return yH(t,e,r);if(t===r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return dH(wH,n,e),new(dH(pH,t,n))}var o=r.prototype,i=mH(hH(o)?o:bH),a=dH(t,i,e);return hH(a)?a:i}});var kH=p,SH=je,EH=we,AH=Le;uo({target:"Reflect",stat:!0,forced:d(function(){Reflect.defineProperty(AH.f({},1,{value:1}),1,{value:2})}),sham:!kH},{defineProperty:function(t,e,r){SH(t);var n=EH(e);SH(r);try{return AH.f(t,n,r),!0}catch(t){return!1}}});var CH=uo,OH=je,IH=u.f;CH({target:"Reflect",stat:!0},{deleteProperty:function(t,e){var r=IH(OH(t),e);return!(r&&!r.configurable)&&delete t[e]}});var zH=Kt,RH=function(t){return void 0!==t&&(zH(t,"value")||zH(t,"writable"))},MH=m,NH=X,BH=je,LH=RH,_H=u,DH=Ku;uo({target:"Reflect",stat:!0},{get:function t(e,r){var n,o,i=arguments.length<3?e:arguments[2];return BH(e)===i?e[r]:(n=_H.f(e,r))?LH(n)?n.value:void 0===n.get?void 0:MH(n.get,i):NH(o=DH(e))?t(o,r,i):void 0}});var FH=je,UH=u;uo({target:"Reflect",stat:!0,sham:!p},{getOwnPropertyDescriptor:function(t,e){return UH.f(FH(t),e)}});var jH=je,HH=Ku;uo({target:"Reflect",stat:!0,sham:!ju},{getPrototypeOf:function(t){return HH(jH(t))}}),uo({target:"Reflect",stat:!0},{has:function(t,e){return e in t}});var qH=je,VH=IO;uo({target:"Reflect",stat:!0},{isExtensible:function(t){return qH(t),VH(t)}}),uo({target:"Reflect",stat:!0},{ownKeys:Hn});var GH=$,WH=je;uo({target:"Reflect",stat:!0,sham:!sO},{preventExtensions:function(t){WH(t);try{var e=GH("Object","preventExtensions");return e&&e(t),!0}catch(t){return!1}}});var YH=uo,XH=m,KH=je,JH=X,$H=RH,ZH=Le,QH=u,tq=Ku,eq=P;var rq=d(function(){var t=function(){},e=ZH.f(new t,"a",{configurable:!0});return!1!==Reflect.set(t.prototype,"a",1,e)});YH({target:"Reflect",stat:!0,forced:rq},{set:function t(e,r,n){var o,i,a,s=arguments.length<4?e:arguments[3],l=QH.f(KH(e),r);if(!l){if(JH(i=tq(e)))return t(i,r,n,s);l=eq(0)}if($H(l)){if(!1===l.writable||!JH(s))return!1;if(o=QH.f(s,r)){if(o.get||o.set||!1===o.writable)return!1;o.value=n,ZH.f(s,r,o)}else ZH.f(s,r,eq(0,n))}else{if(void 0===(a=l.set))return!1;XH(a,s,n)}return!0}});var nq=je,oq=kc,iq=Oc;iq&&uo({target:"Reflect",stat:!0},{setPrototypeOf:function(t,e){nq(t),oq(e);try{return iq(t,e),!0}catch(t){return!1}}});var aq=c,sq=Ti;uo({global:!0},{Reflect:{}}),sq(aq.Reflect,"Reflect",!0);var lq=X,cq=R,uq=ce("match"),dq=function(t){var e;return lq(t)&&(void 0!==(e=t[uq])?!!e:"RegExp"===cq(t))},pq=d,fq=c.RegExp,gq=!pq(function(){var t=!0;try{fq(".","d")}catch(e){t=!1}var e={},r="",n=t?"dgimsy":"gimsy",o=function(t,n){Object.defineProperty(e,t,{get:function(){return r+=n,!0}})},i={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var a in t&&(i.hasIndices="d"),i)o(a,i[a]);return Object.getOwnPropertyDescriptor(fq.prototype,"flags").get.call(e)!==n||r!==n}),hq={correct:gq},mq=je,vq=function(){var t=mq(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},yq=m,bq=Kt,wq=Z,xq=hq,Tq=vq,Pq=RegExp.prototype,kq=xq.correct?function(t){return t.flags}:function(t){return xq.correct||!wq(Pq,t)||bq(t,"flags")?t.flags:yq(Tq,t)},Sq=d,Eq=c.RegExp,Aq=Sq(function(){var t=Eq("a","y");return t.lastIndex=2,null!==t.exec("abcd")}),Cq=Aq||Sq(function(){return!Eq("a","y").sticky}),Oq=Aq||Sq(function(){var t=Eq("^r","gy");return t.lastIndex=2,null!==t.exec("str")}),Iq={BROKEN_CARET:Oq,MISSED_STICKY:Cq,UNSUPPORTED_Y:Aq},zq=d,Rq=c.RegExp,Mq=zq(function(){var t=Rq(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)}),Nq=d,Bq=c.RegExp,Lq=Nq(function(){var t=Bq("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}),_q=p,Dq=c,Fq=C,Uq=ro,jq=Bc,Hq=er,qq=Ko,Vq=sn.f,Gq=Z,Wq=dq,Yq=Po,Xq=kq,Kq=Iq,Jq=zc,$q=an,Zq=d,Qq=Kt,tV=Lr.enforce,eV=Sv,rV=Mq,nV=Lq,oV=ce("match"),iV=Dq.RegExp,aV=iV.prototype,sV=Dq.SyntaxError,lV=Fq(aV.exec),cV=Fq("".charAt),uV=Fq("".replace),dV=Fq("".indexOf),pV=Fq("".slice),fV=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,gV=/a/g,hV=/a/g,mV=new iV(gV)!==gV,vV=Kq.MISSED_STICKY,yV=Kq.UNSUPPORTED_Y,bV=_q&&(!mV||vV||rV||nV||Zq(function(){return hV[oV]=!1,iV(gV)!==gV||iV(hV)===hV||"/a/i"!==String(iV(gV,"i"))}));if(Uq("RegExp",bV)){for(var wV=function(t,e){var r,n,o,i,a,s,l=Gq(aV,this),c=Wq(t),u=void 0===e,d=[],p=t;if(!l&&c&&u&&t.constructor===wV)return t;if((c||Gq(aV,t))&&(t=t.source,u&&(e=Xq(p))),t=void 0===t?"":Yq(t),e=void 0===e?"":Yq(e),p=t,rV&&"dotAll"in gV&&(n=!!e&&dV(e,"s")>-1)&&(e=uV(e,/s/g,"")),r=e,vV&&"sticky"in gV&&(o=!!e&&dV(e,"y")>-1)&&yV&&(e=uV(e,/y/g,"")),nV&&(i=function(t){for(var e,r=t.length,n=0,o="",i=[],a=qq(null),s=!1,l=!1,c=0,u="";n<=r;n++){if("\\"===(e=cV(t,n)))e+=cV(t,++n);else if("]"===e)s=!1;else if(!s)switch(!0){case"["===e:s=!0;break;case"("===e:if(o+=e,"?:"===pV(t,n+1,n+3))continue;lV(fV,pV(t,n+1))&&(n+=2,l=!0),c++;continue;case">"===e&&l:if(""===u||Qq(a,u))throw new sV("Invalid capture group name");a[u]=!0,i[i.length]=[u,c],l=!1,u="";continue}l?u+=e:o+=e}return[o,i]}(t),t=i[0],d=i[1]),a=jq(iV(t,e),l?this:aV,wV),(n||o||d.length)&&(s=tV(a),n&&(s.dotAll=!0,s.raw=wV(function(t){for(var e,r=t.length,n=0,o="",i=!1;n<=r;n++)"\\"!==(e=cV(t,n))?i||"."!==e?("["===e?i=!0:"]"===e&&(i=!1),o+=e):o+="[\\s\\S]":o+=e+cV(t,++n);return o}(t),r)),o&&(s.sticky=!0),d.length&&(s.groups=d)),t!==p)try{Hq(a,"source",""===p?"(?:)":p)}catch(t){}return a},xV=Vq(iV),TV=0;xV.length>TV;)Jq(wV,iV,xV[TV++]);aV.constructor=wV,wV.prototype=aV,$q(Dq,"RegExp",wV,{constructor:!0})}eV("RegExp");var PV=TypeError,kV=function(t){if("string"==typeof t)return t;throw new PV("Argument is not a string")},SV=uo,EV=C,AV=kV,CV=Kt,OV=QT.start,IV=eR,zV=Array,RV=RegExp.escape,MV=EV("".charAt),NV=EV("".charCodeAt),BV=EV(1.1.toString),LV=EV([].join),_V=/^[0-9a-z]/i,DV=/^[$()*+./?[\\\]^{|}]/,FV=RegExp("^[!\"#%&',\\-:;<=>@`~"+IV+"]"),UV=EV(_V.exec),jV={"\t":"t","\n":"n","\v":"v","\f":"f","\r":"r"},HV=function(t){var e=BV(NV(t,0),16);return e.length<3?"\\x"+OV(e,2,"0"):"\\u"+OV(e,4,"0")};SV({target:"RegExp",stat:!0,forced:!RV||"\\x61b"!==RV("ab")},{escape:function(t){AV(t);for(var e=t.length,r=zV(e),n=0;n<e;n++){var o=MV(t,n);if(0===n&&UV(_V,o))r[n]=HV(o);else if(CV(jV,o))r[n]="\\"+jV[o];else if(UV(DV,o))r[n]="\\"+o;else if(UV(FV,o))r[n]=HV(o);else{var i=NV(o,0);55296!=(63488&i)?r[n]=o:i>=56320||n+1>=e||56320!=(64512&NV(t,n+1))?r[n]=HV(o):(r[n]=o,r[++n]=MV(t,n))}}return LV(r,"")}});var qV=p,VV=Mq,GV=R,WV=ii,YV=Lr.get,XV=RegExp.prototype,KV=TypeError;qV&&VV&&WV(XV,"dotAll",{configurable:!0,get:function(){if(this!==XV){if("RegExp"===GV(this))return!!YV(this).dotAll;throw new KV("Incompatible receiver, RegExp required")}}});var JV=m,$V=C,ZV=Po,QV=vq,tG=Iq,eG=Ko,rG=Lr.get,nG=Mq,oG=Lq,iG=qt("native-string-replace",String.prototype.replace),aG=RegExp.prototype.exec,sG=aG,lG=$V("".charAt),cG=$V("".indexOf),uG=$V("".replace),dG=$V("".slice),pG=function(){var t=/a/,e=/b*/g;return JV(aG,t,"a"),JV(aG,e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),fG=tG.BROKEN_CARET,gG=void 0!==/()??/.exec("")[1];(pG||gG||fG||nG||oG)&&(sG=function(t){var e,r,n,o,i,a,s,l=this,c=rG(l),u=ZV(t),d=c.raw;if(d)return d.lastIndex=l.lastIndex,e=JV(sG,d,u),l.lastIndex=d.lastIndex,e;var p=c.groups,f=fG&&l.sticky,g=JV(QV,l),h=l.source,m=0,v=u;if(f&&(g=uG(g,"y",""),-1===cG(g,"g")&&(g+="g"),v=dG(u,l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==lG(u,l.lastIndex-1))&&(h="(?: "+h+")",v=" "+v,m++),r=new RegExp("^(?:"+h+")",g)),gG&&(r=new RegExp("^"+h+"$(?!\\s)",g)),pG&&(n=l.lastIndex),o=JV(aG,f?r:l,v),f?o?(o.input=dG(o.input,m),o[0]=dG(o[0],m),o.index=l.lastIndex,l.lastIndex+=o[0].length):l.lastIndex=0:pG&&o&&(l.lastIndex=l.global?o.index+o[0].length:n),gG&&o&&o.length>1&&JV(iG,o[0],r,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)}),o&&p)for(o.groups=a=eG(null),i=0;i<p.length;i++)a[(s=p[i])[0]]=o[s[1]];return o});var hG=sG;uo({target:"RegExp",proto:!0,forced:/./.exec!==hG},{exec:hG});var mG=ii,vG=hq,yG=vq;p&&!vG.correct&&(mG(RegExp.prototype,"flags",{configurable:!0,get:yG}),vG.correct=!0);var bG=p,wG=Iq.MISSED_STICKY,xG=R,TG=ii,PG=Lr.get,kG=RegExp.prototype,SG=TypeError;bG&&wG&&TG(kG,"sticky",{configurable:!0,get:function(){if(this!==kG){if("RegExp"===xG(this))return!!PG(this).sticky;throw new SG("Incompatible receiver, RegExp required")}}});var EG,AG,CG=uo,OG=m,IG=W,zG=je,RG=Po,MG=(EG=!1,(AG=/[ac]/).exec=function(){return EG=!0,/./.exec.apply(this,arguments)},!0===AG.test("abc")&&EG),NG=/./.test;CG({target:"RegExp",proto:!0,forced:!MG},{test:function(t){var e=zG(this),r=RG(t),n=e.exec;if(!IG(n))return OG(NG,e,r);var o=OG(n,e,r);return null!==o&&(zG(o),!0)}});var BG=lr.PROPER,LG=an,_G=je,DG=Po,FG=d,UG=kq,jG="toString",HG=RegExp.prototype,qG=HG[jG],VG=FG(function(){return"/a/b"!==qG.call({source:"a",flags:"b"})}),GG=BG&&qG.name!==jG;(VG||GG)&&LG(HG,jG,function(){var t=_G(this);return"/"+DG(t.source)+"/"+DG(UG(t))},{unsafe:!0}),lI("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},PI);var WG=C,YG=Set.prototype,XG={Set:Set,add:WG(YG.add),has:WG(YG.has),remove:WG(YG.delete),proto:YG},KG=XG.has,JG=function(t){return KG(t),t},$G=m,ZG=function(t,e,r){for(var n,o,i=r?t:t.iterator,a=t.next;!(n=$G(a,i)).done;)if(void 0!==(o=e(n.value)))return o},QG=C,tW=ZG,eW=XG.Set,rW=XG.proto,nW=QG(rW.forEach),oW=QG(rW.keys),iW=oW(new eW).next,aW=function(t,e,r){return r?tW({iterator:oW(t),next:iW},e):nW(t,e)},sW=aW,lW=XG.Set,cW=XG.add,uW=function(t){var e=new lW;return sW(t,function(t){cW(e,t)}),e},dW=yc(XG.proto,"size","get")||function(t){return t.size},pW=kt,fW=je,gW=m,hW=pn,mW=eE,vW="Invalid size",yW=RangeError,bW=TypeError,wW=Math.max,xW=function(t,e){this.set=t,this.size=wW(e,0),this.has=pW(t.has),this.keys=pW(t.keys)};xW.prototype={getIterator:function(){return mW(fW(gW(this.keys,this.set)))},includes:function(t){return gW(this.has,this.set,t)}};var TW=function(t){fW(t);var e=+t.size;if(e!=e)throw new bW(vW);var r=hW(e);if(r<0)throw new yW(vW);return new xW(t,r)},PW=JG,kW=uW,SW=dW,EW=TW,AW=aW,CW=ZG,OW=XG.has,IW=XG.remove,zW=$,RW=function(t){return{size:t,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}},MW=function(t){return{size:t,has:function(){return!0},keys:function(){throw new Error("e")}}},NW=function(t,e){var r=zW("Set");try{(new r)[t](RW(0));try{return(new r)[t](RW(-1)),!1}catch(n){if(!e)return!0;try{return(new r)[t](MW(-1/0)),!1}catch(n){return e(new r([1,2])[t](MW(1/0)))}}}catch(t){return!1}},BW=uo,LW=function(t){var e=PW(this),r=EW(t),n=kW(e);return SW(e)<=r.size?AW(e,function(t){r.includes(t)&&IW(n,t)}):CW(r.getIterator(),function(t){OW(n,t)&&IW(n,t)}),n},_W=d,DW=!NW("difference",function(t){return 0===t.size})||_W(function(){var t={size:1,has:function(){return!0},keys:function(){var t=0;return{next:function(){var r=t++>1;return e.has(1)&&e.clear(),{done:r,value:2}}}}},e=new Set([1,2,3,4]);return 3!==e.difference(t).size});BW({target:"Set",proto:!0,real:!0,forced:DW},{difference:LW});var FW=JG,UW=dW,jW=TW,HW=aW,qW=ZG,VW=XG.Set,GW=XG.add,WW=XG.has,YW=d,XW=function(t){var e=FW(this),r=jW(t),n=new VW;return UW(e)>r.size?qW(r.getIterator(),function(t){WW(e,t)&&GW(n,t)}):HW(e,function(t){r.includes(t)&&GW(n,t)}),n};uo({target:"Set",proto:!0,real:!0,forced:!NW("intersection",function(t){return 2===t.size&&t.has(1)&&t.has(2)})||YW(function(){return"3,2"!==String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))})},{intersection:XW});var KW=JG,JW=XG.has,$W=dW,ZW=TW,QW=aW,tY=ZG,eY=vd,rY=function(t){var e=KW(this),r=ZW(t);if($W(e)<=r.size)return!1!==QW(e,function(t){if(r.includes(t))return!1},!0);var n=r.getIterator();return!1!==tY(n,function(t){if(JW(e,t))return eY(n,"normal",!1)})};uo({target:"Set",proto:!0,real:!0,forced:!NW("isDisjointFrom",function(t){return!t})},{isDisjointFrom:rY});var nY=JG,oY=dW,iY=aW,aY=TW,sY=function(t){var e=nY(this),r=aY(t);return!(oY(e)>r.size)&&!1!==iY(e,function(t){if(!r.includes(t))return!1},!0)};uo({target:"Set",proto:!0,real:!0,forced:!NW("isSubsetOf",function(t){return t})},{isSubsetOf:sY});var lY=JG,cY=XG.has,uY=dW,dY=TW,pY=ZG,fY=vd,gY=function(t){var e=lY(this),r=dY(t);if(uY(e)<r.size)return!1;var n=r.getIterator();return!1!==pY(n,function(t){if(!cY(e,t))return fY(n,"normal",!1)})};uo({target:"Set",proto:!0,real:!0,forced:!NW("isSupersetOf",function(t){return!t})},{isSupersetOf:gY});var hY=JG,mY=uW,vY=TW,yY=ZG,bY=XG.add,wY=XG.has,xY=XG.remove,TY=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return 1===n.size&&4===n.values().next().value}catch(t){return!1}},PY=function(t){var e=hY(this),r=vY(t).getIterator(),n=mY(e);return yY(r,function(t){wY(e,t)?xY(n,t):bY(n,t)}),n},kY=TY;uo({target:"Set",proto:!0,real:!0,forced:!NW("symmetricDifference")||!kY("symmetricDifference")},{symmetricDifference:PY});var SY=JG,EY=XG.add,AY=uW,CY=TW,OY=ZG,IY=function(t){var e=SY(this),r=CY(t).getIterator(),n=AY(e);return OY(r,function(t){EY(n,t)}),n},zY=TY;uo({target:"Set",proto:!0,real:!0,forced:!NW("union")||!zY("union")},{union:IY});var RY=uo,MY=j,NY=pn,BY=Po,LY=d,_Y=C("".charAt);RY({target:"String",proto:!0,forced:LY(function(){return"\ud842"!=="ð ®·".at(-2)})},{at:function(t){var e=BY(MY(this)),r=e.length,n=NY(t),o=n>=0?n:r+n;return o<0||o>=r?void 0:_Y(e,o)}});var DY=C,FY=pn,UY=Po,jY=j,HY=DY("".charAt),qY=DY("".charCodeAt),VY=DY("".slice),GY=function(t){return function(e,r){var n,o,i=UY(jY(e)),a=FY(r),s=i.length;return a<0||a>=s?t?"":void 0:(n=qY(i,a))<55296||n>56319||a+1===s||(o=qY(i,a+1))<56320||o>57343?t?HY(i,a):n:t?VY(i,a,a+2):o-56320+(n-55296<<10)+65536}},WY={codeAt:GY(!1),charAt:GY(!0)},YY=WY.codeAt;uo({target:"String",proto:!0},{codePointAt:function(t){return YY(this,t)}});var XY=dq,KY=TypeError,JY=function(t){if(XY(t))throw new KY("The method doesn't accept regular expressions");return t},$Y=ce("match"),ZY=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[$Y]=!1,"/./"[t](e)}catch(t){}}return!1},QY=uo,tX=Si,eX=u.f,rX=bn,nX=Po,oX=JY,iX=j,aX=ZY,sX=tX("".slice),lX=Math.min,cX=aX("endsWith"),uX=!cX&&!!function(){var t=eX(String.prototype,"endsWith");return t&&!t.writable}();QY({target:"String",proto:!0,forced:!uX&&!cX},{endsWith:function(t){var e=nX(iX(this));oX(t);var r=arguments.length>1?arguments[1]:void 0,n=e.length,o=void 0===r?n:lX(rX(r),n),i=nX(t);return sX(e,o-i.length,o)===i}});var dX=uo,pX=C,fX=mn,gX=RangeError,hX=String.fromCharCode,mX=String.fromCodePoint,vX=pX([].join);dX({target:"String",stat:!0,arity:1,forced:!!mX&&1!==mX.length},{fromCodePoint:function(t){for(var e,r=[],n=arguments.length,o=0;n>o;){if(e=+arguments[o++],fX(e,1114111)!==e)throw new gX(e+" is not a valid code point");r[o]=e<65536?hX(e):hX(55296+((e-=65536)>>10),e%1024+56320)}return vX(r,"")}});var yX=uo,bX=JY,wX=j,xX=Po,TX=ZY,PX=C("".indexOf);yX({target:"String",proto:!0,forced:!TX("includes")},{includes:function(t){return!!~PX(xX(wX(this)),xX(bX(t)),arguments.length>1?arguments[1]:void 0)}});var kX=uo,SX=j,EX=Po,AX=C("".charCodeAt);kX({target:"String",proto:!0},{isWellFormed:function(){for(var t=EX(SX(this)),e=t.length,r=0;r<e;r++){var n=AX(t,r);if(55296==(63488&n)&&(n>=56320||++r>=e||56320!=(64512&AX(t,r))))return!1}return!0}});var CX=WY.charAt,OX=Po,IX=Lr,zX=yh,RX=bh,MX="String Iterator",NX=IX.set,BX=IX.getterFor(MX);zX(String,"String",function(t){NX(this,{type:MX,string:OX(t),index:0})},function(){var t,e=BX(this),r=e.string,n=e.index;return n>=r.length?RX(void 0,!0):(t=CX(r,n),e.index+=t.length,RX(t,!1))});var LX=m,_X=an,DX=hG,FX=d,UX=ce,jX=er,HX=UX("species"),qX=RegExp.prototype,VX=function(t,e,r,n){var o=UX(t),i=!FX(function(){var e={};return e[o]=function(){return 7},7!==""[t](e)}),a=i&&!FX(function(){var e=!1,r=/a/;if("split"===t){var n={};n[HX]=function(){return r},(r={constructor:n,flags:""})[o]=/./[o]}return r.exec=function(){return e=!0,null},r[o](""),!e});if(!i||!a||r){var s=/./[o],l=e(o,""[t],function(t,e,r,n,o){var a=e.exec;return a===DX||a===qX.exec?i&&!o?{done:!0,value:LX(s,e,r,n)}:{done:!0,value:LX(t,r,e,n)}:{done:!1}});_X(String.prototype,t,l[0]),_X(qX,o,l[1])}n&&jX(qX[o],"sham",!0)},GX=WY.charAt,WX=function(t,e,r){return e+(r?GX(t,e).length:1)},YX=m,XX=je,KX=W,JX=R,$X=hG,ZX=TypeError,QX=function(t,e){var r=t.exec;if(KX(r)){var n=YX(r,t,e);return null!==n&&XX(n),n}if("RegExp"===JX(t))return YX($X,t,e);throw new ZX("RegExp#exec called on incompatible receiver")},tK=m,eK=VX,rK=je,nK=X,oK=bn,iK=Po,aK=j,sK=At,lK=WX,cK=kq,uK=QX,dK=C("".indexOf);eK("match",function(t,e,r){return[function(e){var r=aK(this),n=nK(e)?sK(e,t):void 0;return n?tK(n,e,r):new RegExp(e)[t](iK(r))},function(t){var n=rK(this),o=iK(t),i=r(e,n,o);if(i.done)return i.value;var a=iK(cK(n));if(-1===dK(a,"g"))return uK(n,o);var s=-1!==dK(a,"u");n.lastIndex=0;for(var l,c=[],u=0;null!==(l=uK(n,o));){var d=iK(l[0]);c[u]=d,""===d&&(n.lastIndex=lK(o,oK(n.lastIndex),s)),u++}return 0===u?null:c}]});var pK=uo,fK=m,gK=Si,hK=Zg,mK=bh,vK=j,yK=bn,bK=Po,wK=je,xK=X,TK=dq,PK=kq,kK=At,SK=an,EK=d,AK=RL,CK=WX,OK=QX,IK=Lr,zK=ce("matchAll"),RK="RegExp String",MK=RK+" Iterator",NK=IK.set,BK=IK.getterFor(MK),LK=RegExp.prototype,_K=TypeError,DK=gK("".indexOf),FK=gK("".matchAll),UK=!!FK&&!EK(function(){FK("a",/./)}),jK=hK(function(t,e,r,n){NK(this,{type:MK,regexp:t,string:e,global:r,unicode:n,done:!1})},RK,function(){var t=BK(this);if(t.done)return mK(void 0,!0);var e=t.regexp,r=t.string,n=OK(e,r);return null===n?(t.done=!0,mK(void 0,!0)):t.global?(""===bK(n[0])&&(e.lastIndex=CK(r,yK(e.lastIndex),t.unicode)),mK(n,!1)):(t.done=!0,mK(n,!1))});pK({target:"String",proto:!0,forced:UK},{matchAll:function(t){var e,r,n,o=vK(this);if(xK(t)){if(TK(t)&&(e=bK(vK(PK(t))),!~DK(e,"g")))throw new _K("`.matchAll` does not allow non-global regexes");if(UK)return FK(o,t);if(n=kK(t,zK))return fK(n,t,o)}else if(UK)return FK(o,t);return r=bK(o),new RegExp(t,"g")[zK](r)}}),zK in LK||SK(LK,zK,function(t){var e,r,n,o=wK(this),i=bK(t),a=AK(o,RegExp),s=bK(PK(o));return e=new a(a===RegExp?o.source:o,s),r=!!~DK(s,"g"),n=!!~DK(s,"u"),e.lastIndex=yK(o.lastIndex),new jK(e,i,r,n)});var HK=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(et),qK=QT.end;uo({target:"String",proto:!0,forced:HK},{padEnd:function(t){return qK(this,t,arguments.length>1?arguments[1]:void 0)}});var VK=QT.start;uo({target:"String",proto:!0,forced:HK},{padStart:function(t){return VK(this,t,arguments.length>1?arguments[1]:void 0)}});var GK=uo,WK=C,YK=V,XK=Wt,KK=Po,JK=xn,$K=WK([].push),ZK=WK([].join);GK({target:"String",stat:!0},{raw:function(t){var e=YK(XK(t).raw),r=JK(e);if(!r)return"";for(var n=arguments.length,o=[],i=0;;){if($K(o,KK(e[i++])),i===r)return ZK(o,"");i<n&&$K(o,KK(arguments[i]))}}}),uo({target:"String",proto:!0},{repeat:VT});var QK=C,tJ=Wt,eJ=Math.floor,rJ=QK("".charAt),nJ=QK("".replace),oJ=QK("".slice),iJ=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,aJ=/\$([$&'`]|\d{1,2})/g,sJ=function(t,e,r,n,o,i){var a=r+t.length,s=n.length,l=aJ;return void 0!==o&&(o=tJ(o),l=iJ),nJ(i,l,function(i,l){var c;switch(rJ(l,0)){case"$":return"$";case"&":return t;case"`":return oJ(e,0,r);case"'":return oJ(e,a);case"<":c=o[oJ(l,1,-1)];break;default:var u=+l;if(0===u)return i;if(u>s){var d=eJ(u/10);return 0===d?i:d<=s?void 0===n[d-1]?rJ(l,1):n[d-1]+rJ(l,1):i}c=n[u-1]}return void 0===c?"":c})},lJ=Bs,cJ=m,uJ=C,dJ=VX,pJ=d,fJ=je,gJ=W,hJ=X,mJ=pn,vJ=bn,yJ=Po,bJ=j,wJ=WX,xJ=At,TJ=sJ,PJ=kq,kJ=QX,SJ=ce("replace"),EJ=Math.max,AJ=Math.min,CJ=uJ([].concat),OJ=uJ([].push),IJ=uJ("".indexOf),zJ=uJ("".slice),RJ=function(t){return void 0===t?t:String(t)},MJ="$0"==="a".replace(/./,"$0"),NJ=!!/./[SJ]&&""===/./[SJ]("a","$0"),BJ=!pJ(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")});dJ("replace",function(t,e,r){var n=NJ?"$":"$0";return[function(t,r){var n=bJ(this),o=hJ(t)?xJ(t,SJ):void 0;return o?cJ(o,t,n,r):cJ(e,yJ(n),t,r)},function(t,o){var i=fJ(this),a=yJ(t);if("string"==typeof o&&-1===IJ(o,n)&&-1===IJ(o,"$<")){var s=r(e,i,a,o);if(s.done)return s.value}var l=gJ(o);l||(o=yJ(o));var c,u=yJ(PJ(i)),d=-1!==IJ(u,"g");d&&(c=-1!==IJ(u,"u"),i.lastIndex=0);for(var p,f=[];null!==(p=kJ(i,a))&&(OJ(f,p),d);){""===yJ(p[0])&&(i.lastIndex=wJ(a,vJ(i.lastIndex),c))}for(var g="",h=0,m=0;m<f.length;m++){for(var v,y=yJ((p=f[m])[0]),b=EJ(AJ(mJ(p.index),a.length),0),w=[],x=1;x<p.length;x++)OJ(w,RJ(p[x]));var T=p.groups;if(l){var P=CJ([y],w,b,a);void 0!==T&&OJ(P,T),v=yJ(lJ(o,void 0,P))}else v=TJ(y,a,b,w,T,o);b>=h&&(g+=zJ(a,h,b)+v,h=b+y.length)}return g+zJ(a,h)}]},!BJ||!MJ||NJ);var LJ=uo,_J=m,DJ=C,FJ=j,UJ=W,jJ=X,HJ=dq,qJ=Po,VJ=At,GJ=kq,WJ=sJ,YJ=ce("replace"),XJ=TypeError,KJ=DJ("".indexOf);DJ("".replace);var JJ=DJ("".slice),$J=Math.max;LJ({target:"String",proto:!0},{replaceAll:function(t,e){var r,n,o,i,a,s,l,c,u,d=FJ(this),p=0,f="";if(jJ(t)){if(HJ(t)&&(r=qJ(FJ(GJ(t))),!~KJ(r,"g")))throw new XJ("`.replaceAll` does not allow non-global regexes");if(n=VJ(t,YJ))return _J(n,t,d,e)}for(o=qJ(d),i=qJ(t),(a=UJ(e))||(e=qJ(e)),s=i.length,l=$J(1,s),c=KJ(o,i);-1!==c;)u=a?qJ(e(i,c,o)):WJ(i,o,c,[],void 0,e),f+=JJ(o,p,c)+u,p=c+s,c=c+l>o.length?-1:KJ(o,i,c+l);return p<o.length&&(f+=JJ(o,p)),f}});var ZJ=m,QJ=je,t$=X,e$=j,r$=bB,n$=Po,o$=At,i$=QX;VX("search",function(t,e,r){return[function(e){var r=e$(this),n=t$(e)?o$(e,t):void 0;return n?ZJ(n,e,r):new RegExp(e)[t](n$(r))},function(t){var n=QJ(this),o=n$(t),i=r(e,n,o);if(i.done)return i.value;var a=n.lastIndex;r$(a,0)||(n.lastIndex=0);var s=i$(n,o);return r$(n.lastIndex,a)||(n.lastIndex=a),null===s?-1:s.index}]});var a$=m,s$=C,l$=VX,c$=je,u$=X,d$=j,p$=RL,f$=WX,g$=bn,h$=Po,m$=At,v$=QX,y$=d,b$=Iq.UNSUPPORTED_Y,w$=Math.min,x$=s$([].push),T$=s$("".slice),P$=!y$(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}),k$="c"==="abbc".split(/(b)*/)[1]||4!=="test".split(/(?:)/,-1).length||2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length;l$("split",function(t,e,r){var n="0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:a$(e,this,t,r)}:e;return[function(e,r){var o=d$(this),i=u$(e)?m$(e,t):void 0;return i?a$(i,e,o,r):a$(n,h$(o),e,r)},function(t,o){var i=c$(this),a=h$(t);if(!k$){var s=r(n,i,a,o,n!==e);if(s.done)return s.value}var l=p$(i,RegExp),c=i.unicode,u=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.unicode?"u":"")+(b$?"g":"y"),d=new l(b$?"^(?:"+i.source+")":i,u),p=void 0===o?4294967295:o>>>0;if(0===p)return[];if(0===a.length)return null===v$(d,a)?[a]:[];for(var f=0,g=0,h=[];g<a.length;){d.lastIndex=b$?0:g;var m,v=v$(d,b$?T$(a,g):a);if(null===v||(m=w$(g$(d.lastIndex+(b$?g:0)),a.length))===f)g=f$(a,g,c);else{if(x$(h,T$(a,f,g)),h.length===p)return h;for(var y=1;y<=v.length-1;y++)if(x$(h,v[y]),h.length===p)return h;g=f=m}}return x$(h,T$(a,f)),h}]},k$||!P$,b$);var S$=uo,E$=Si,A$=u.f,C$=bn,O$=Po,I$=JY,z$=j,R$=ZY,M$=E$("".slice),N$=Math.min,B$=R$("startsWith"),L$=!B$&&!!function(){var t=A$(String.prototype,"startsWith");return t&&!t.writable}();S$({target:"String",proto:!0,forced:!L$&&!B$},{startsWith:function(t){var e=O$(z$(this));I$(t);var r=C$(N$(arguments.length>1?arguments[1]:void 0,e.length)),n=O$(t);return M$(e,r,r+n.length)===n}});var _$=uo,D$=j,F$=pn,U$=Po,j$=C("".slice),H$=Math.max,q$=Math.min;_$({target:"String",proto:!0,forced:!"".substr||"b"!=="ab".substr(-1)},{substr:function(t,e){var r,n,o=U$(D$(this)),i=o.length,a=F$(t);return a===1/0&&(a=0),a<0&&(a=H$(i+a,0)),(r=void 0===e?i:F$(e))<=0||r===1/0||a>=(n=q$(a+r,i))?"":j$(o,a,n)}});var V$=uo,G$=m,W$=C,Y$=j,X$=Po,K$=d,J$=Array,$$=W$("".charAt),Z$=W$("".charCodeAt),Q$=W$([].join),tZ="".toWellFormed,eZ=tZ&&K$(function(){return"1"!==G$(tZ,1)});V$({target:"String",proto:!0,forced:eZ},{toWellFormed:function(){var t=X$(Y$(this));if(eZ)return G$(tZ,t);for(var e=t.length,r=J$(e),n=0;n<e;n++){var o=Z$(t,n);55296!=(63488&o)?r[n]=$$(t,n):o>=56320||n+1>=e||56320!=(64512&Z$(t,n+1))?r[n]="ï¿½":(r[n]=$$(t,n),r[++n]=$$(t,n))}return Q$(r,"")}});var rZ=lr.PROPER,nZ=d,oZ=eR,iZ=function(t){return nZ(function(){return!!oZ[t]()||"âÂá "!=="âÂá "[t]()||rZ&&oZ[t].name!==t})},aZ=cR.trim;uo({target:"String",proto:!0,forced:iZ("trim")},{trim:function(){return aZ(this)}});var sZ=cR.end,lZ=iZ("trimEnd")?function(){return sZ(this)}:"".trimEnd;uo({target:"String",proto:!0,name:"trimEnd",forced:"".trimRight!==lZ},{trimRight:lZ});uo({target:"String",proto:!0,name:"trimEnd",forced:"".trimEnd!==lZ},{trimEnd:lZ});var cZ=cR.start,uZ=iZ("trimStart")?function(){return cZ(this)}:"".trimStart;uo({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==uZ},{trimLeft:uZ});uo({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==uZ},{trimStart:uZ});var dZ=j,pZ=Po,fZ=/"/g,gZ=C("".replace),hZ=function(t,e,r,n){var o=pZ(dZ(t)),i="<"+e;return""!==r&&(i+=" "+r+'="'+gZ(pZ(n),fZ,"&quot;")+'"'),i+">"+o+"</"+e+">"},mZ=d,vZ=function(t){return mZ(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})},yZ=hZ;uo({target:"String",proto:!0,forced:vZ("anchor")},{anchor:function(t){return yZ(this,"a","name",t)}});var bZ=hZ;uo({target:"String",proto:!0,forced:vZ("big")},{big:function(){return bZ(this,"big","","")}});var wZ=hZ;uo({target:"String",proto:!0,forced:vZ("blink")},{blink:function(){return wZ(this,"blink","","")}});var xZ=hZ;uo({target:"String",proto:!0,forced:vZ("bold")},{bold:function(){return xZ(this,"b","","")}});var TZ=hZ;uo({target:"String",proto:!0,forced:vZ("fixed")},{fixed:function(){return TZ(this,"tt","","")}});var PZ=hZ;uo({target:"String",proto:!0,forced:vZ("fontcolor")},{fontcolor:function(t){return PZ(this,"font","color",t)}});var kZ=hZ;uo({target:"String",proto:!0,forced:vZ("fontsize")},{fontsize:function(t){return kZ(this,"font","size",t)}});var SZ=hZ;uo({target:"String",proto:!0,forced:vZ("italics")},{italics:function(){return SZ(this,"i","","")}});var EZ=hZ;uo({target:"String",proto:!0,forced:vZ("link")},{link:function(t){return EZ(this,"a","href",t)}});var AZ=hZ;uo({target:"String",proto:!0,forced:vZ("small")},{small:function(){return AZ(this,"small","","")}});var CZ=hZ;uo({target:"String",proto:!0,forced:vZ("strike")},{strike:function(){return CZ(this,"strike","","")}});var OZ=hZ;uo({target:"String",proto:!0,forced:vZ("sub")},{sub:function(){return OZ(this,"sub","","")}});var IZ=hZ;uo({target:"String",proto:!0,forced:vZ("sup")},{sup:function(){return IZ(this,"sup","","")}});var zZ={exports:{}},RZ=c,MZ=d,NZ=Sg,BZ=qw.NATIVE_ARRAY_BUFFER_VIEWS,LZ=RZ.ArrayBuffer,_Z=RZ.Int8Array,DZ=!BZ||!MZ(function(){_Z(1)})||!MZ(function(){new _Z(-1)})||!NZ(function(t){new _Z,new _Z(null),new _Z(1.5),new _Z(t)},!0)||MZ(function(){return 1!==new _Z(new LZ(2),1,void 0).length}),FZ=aE,UZ=RangeError,jZ=function(t,e){var r=FZ(t);if(r%e)throw new UZ("Wrong offset");return r},HZ=Math.round,qZ=wo,VZ=function(t){var e=qZ(t);return"BigInt64Array"===e||"BigUint64Array"===e},GZ=ve,WZ=TypeError,YZ=function(t){var e=GZ(t,"number");if("number"==typeof e)throw new WZ("Can't convert number to bigint");return BigInt(e)},XZ=Oi,KZ=m,JZ=AL,$Z=Wt,ZZ=xn,QZ=fd,tQ=ad,eQ=td,rQ=VZ,nQ=qw.aTypedArrayConstructor,oQ=YZ,iQ=function(t){var e,r,n,o,i,a,s,l,c=JZ(this),u=$Z(t),d=arguments.length,p=d>1?arguments[1]:void 0,f=void 0!==p,g=tQ(u);if(g&&!eQ(g))for(l=(s=QZ(u,g)).next,u=[];!(a=KZ(l,s)).done;)u.push(a.value);for(f&&d>2&&(p=XZ(p,arguments[2])),r=ZZ(u),n=new(nQ(c))(r),o=rQ(n),e=0;r>e;e++)i=f?p(u[e],e):u[e],n[e]=o?oQ(i):+i;return n},aQ=uo,sQ=c,lQ=m,cQ=p,uQ=DZ,dQ=qw,pQ=ew,fQ=My,gQ=P,hQ=er,mQ=FR,vQ=bn,yQ=_y,bQ=jZ,wQ=function(t){var e=HZ(t);return e<0?0:e>255?255:255&e},xQ=we,TQ=Kt,PQ=wo,kQ=X,SQ=yt,EQ=Ko,AQ=Z,CQ=Oc,OQ=sn.f,IQ=iQ,zQ=ia.forEach,RQ=Sv,MQ=ii,NQ=Le,BQ=u,LQ=Wv,_Q=Bc,DQ=Lr.get,FQ=Lr.set,UQ=Lr.enforce,jQ=NQ.f,HQ=BQ.f,qQ=sQ.RangeError,VQ=pQ.ArrayBuffer,GQ=VQ.prototype,WQ=pQ.DataView,YQ=dQ.NATIVE_ARRAY_BUFFER_VIEWS,XQ=dQ.TYPED_ARRAY_TAG,KQ=dQ.TypedArray,JQ=dQ.TypedArrayPrototype,$Q=dQ.isTypedArray,ZQ="BYTES_PER_ELEMENT",QQ="Wrong length",t0=function(t,e){MQ(t,e,{configurable:!0,get:function(){return DQ(this)[e]}})},e0=function(t){var e;return AQ(GQ,t)||"ArrayBuffer"===(e=PQ(t))||"SharedArrayBuffer"===e},r0=function(t,e){return $Q(t)&&!SQ(e)&&e in t&&mQ(+e)&&e>=0},n0=function(t,e){return e=xQ(e),r0(t,e)?gQ(2,t[e]):HQ(t,e)},o0=function(t,e,r){return e=xQ(e),!(r0(t,e)&&kQ(r)&&TQ(r,"value"))||TQ(r,"get")||TQ(r,"set")||r.configurable||TQ(r,"writable")&&!r.writable||TQ(r,"enumerable")&&!r.enumerable?jQ(t,e,r):(t[e]=r.value,t)};cQ?(YQ||(BQ.f=n0,NQ.f=o0,t0(JQ,"buffer"),t0(JQ,"byteOffset"),t0(JQ,"byteLength"),t0(JQ,"length")),aQ({target:"Object",stat:!0,forced:!YQ},{getOwnPropertyDescriptor:n0,defineProperty:o0}),zZ.exports=function(t,e,r){var n=t.match(/\d+/)[0]/8,o=t+(r?"Clamped":"")+"Array",i="get"+t,a="set"+t,s=sQ[o],l=s,c=l&&l.prototype,u={},d=function(t,e){jQ(t,e,{get:function(){return function(t,e){var r=DQ(t);return r.view[i](e*n+r.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,o){var i=DQ(t);i.view[a](e*n+i.byteOffset,r?wQ(o):o,!0)}(this,e,t)},enumerable:!0})};YQ?uQ&&(l=e(function(t,e,r,o){return fQ(t,c),_Q(kQ(e)?e0(e)?void 0!==o?new s(e,bQ(r,n),o):void 0!==r?new s(e,bQ(r,n)):new s(e):$Q(e)?LQ(l,e):lQ(IQ,l,e):new s(yQ(e)),t,l)}),CQ&&CQ(l,KQ),zQ(OQ(s),function(t){t in l||hQ(l,t,s[t])}),l.prototype=c):(l=e(function(t,e,r,o){fQ(t,c);var i,a,s,u=0,p=0;if(kQ(e)){if(!e0(e))return $Q(e)?LQ(l,e):lQ(IQ,l,e);i=e,p=bQ(r,n);var f=e.byteLength;if(void 0===o){if(f%n)throw new qQ(QQ);if((a=f-p)<0)throw new qQ(QQ)}else if((a=vQ(o)*n)+p>f)throw new qQ(QQ);s=a/n}else s=yQ(e),i=new VQ(a=s*n);for(FQ(t,{buffer:i,byteOffset:p,byteLength:a,length:s,view:new WQ(i)});u<s;)d(t,u++)}),CQ&&CQ(l,KQ),c=l.prototype=EQ(JQ)),c.constructor!==l&&hQ(c,"constructor",l),UQ(c).TypedArrayConstructor=l,XQ&&hQ(c,XQ,o);var p=l!==s;u[o]=l,aQ({global:!0,constructor:!0,forced:p,sham:!YQ},u),ZQ in l||hQ(l,ZQ,n),ZQ in c||hQ(c,ZQ,n),RQ(o)}):zZ.exports=function(){};var i0=zZ.exports;i0("Float32",function(t){return function(e,r,n){return t(this,e,r,n)}}),i0("Float64",function(t){return function(e,r,n){return t(this,e,r,n)}}),i0("Int8",function(t){return function(e,r,n){return t(this,e,r,n)}}),i0("Int16",function(t){return function(e,r,n){return t(this,e,r,n)}}),i0("Int32",function(t){return function(e,r,n){return t(this,e,r,n)}}),i0("Uint8",function(t){return function(e,r,n){return t(this,e,r,n)}}),i0("Uint8",function(t){return function(e,r,n){return t(this,e,r,n)}},!0),i0("Uint16",function(t){return function(e,r,n){return t(this,e,r,n)}}),i0("Uint32",function(t){return function(e,r,n){return t(this,e,r,n)}});var a0=xn,s0=pn,l0=qw.aTypedArray;(0,qw.exportTypedArrayMethod)("at",function(t){var e=l0(this),r=a0(e),n=s0(t),o=n>=0?n:r+n;return o<0||o>=r?void 0:e[o]});var c0=qw,u0=C(df),d0=c0.aTypedArray;(0,c0.exportTypedArrayMethod)("copyWithin",function(t,e){return u0(d0(this),t,e,arguments.length>2?arguments[2]:void 0)});var p0=ia.every,f0=qw.aTypedArray;(0,qw.exportTypedArrayMethod)("every",function(t){return p0(f0(this),t,arguments.length>1?arguments[1]:void 0)});var g0=bf,h0=YZ,m0=wo,v0=m,y0=d,b0=qw.aTypedArray,w0=qw.exportTypedArrayMethod,x0=C("".slice);w0("fill",function(t){var e=arguments.length;b0(this);var r="Big"===x0(m0(this),0,3)?h0(t):+t;return v0(g0,this,r,e>1?arguments[1]:void 0,e>2?arguments[2]:void 0)},y0(function(){var t=0;return new Int8Array(2).fill({valueOf:function(){return t++}}),1!==t}));var T0=Wv,P0=qw.getTypedArrayConstructor,k0=ia.filter,S0=function(t,e){return T0(P0(t),e)},E0=qw.aTypedArray;(0,qw.exportTypedArrayMethod)("filter",function(t){var e=k0(E0(this),t,arguments.length>1?arguments[1]:void 0);return S0(this,e)});var A0=ia.find,C0=qw.aTypedArray;(0,qw.exportTypedArrayMethod)("find",function(t){return A0(C0(this),t,arguments.length>1?arguments[1]:void 0)});var O0=ia.findIndex,I0=qw.aTypedArray;(0,qw.exportTypedArrayMethod)("findIndex",function(t){return O0(I0(this),t,arguments.length>1?arguments[1]:void 0)});var z0=_f.findLast,R0=qw.aTypedArray;(0,qw.exportTypedArrayMethod)("findLast",function(t){return z0(R0(this),t,arguments.length>1?arguments[1]:void 0)});var M0=_f.findLastIndex,N0=qw.aTypedArray;(0,qw.exportTypedArrayMethod)("findLastIndex",function(t){return M0(N0(this),t,arguments.length>1?arguments[1]:void 0)});var B0=ia.forEach,L0=qw.aTypedArray;(0,qw.exportTypedArrayMethod)("forEach",function(t){B0(L0(this),t,arguments.length>1?arguments[1]:void 0)}),(0,qw.exportTypedArrayStaticMethod)("from",iQ,DZ);var _0=En.includes,D0=qw.aTypedArray;(0,qw.exportTypedArrayMethod)("includes",function(t){return _0(D0(this),t,arguments.length>1?arguments[1]:void 0)});var F0=En.indexOf,U0=qw.aTypedArray;(0,qw.exportTypedArrayMethod)("indexOf",function(t){return F0(U0(this),t,arguments.length>1?arguments[1]:void 0)});var j0=c,H0=d,q0=C,V0=qw,G0=zh,W0=ce("iterator"),Y0=j0.Uint8Array,X0=q0(G0.values),K0=q0(G0.keys),J0=q0(G0.entries),$0=V0.aTypedArray,Z0=V0.exportTypedArrayMethod,Q0=Y0&&Y0.prototype,t1=!H0(function(){Q0[W0].call([1])}),e1=!!Q0&&Q0.values&&Q0[W0]===Q0.values&&"values"===Q0.values.name,r1=function(){return X0($0(this))};Z0("entries",function(){return J0($0(this))},t1),Z0("keys",function(){return K0($0(this))},t1),Z0("values",r1,t1||!e1,{name:"values"}),Z0(W0,r1,t1||!e1,{name:"values"});var n1=qw.aTypedArray,o1=qw.exportTypedArrayMethod,i1=C([].join);o1("join",function(t){return i1(n1(this),t)});var a1=Bs,s1=Yh,l1=qw.aTypedArray;(0,qw.exportTypedArrayMethod)("lastIndexOf",function(t){var e=arguments.length;return a1(s1,l1(this),e>1?[t,arguments[1]]:[t])});var c1=ia.map,u1=qw.aTypedArray,d1=qw.getTypedArrayConstructor;(0,qw.exportTypedArrayMethod)("map",function(t){return c1(u1(this),t,arguments.length>1?arguments[1]:void 0,function(t,e){return new(d1(t))(e)})});var p1=qw.aTypedArrayConstructor;(0,qw.exportTypedArrayStaticMethod)("of",function(){for(var t=0,e=arguments.length,r=new(p1(this))(e);e>t;)r[t]=arguments[t++];return r},DZ);var f1=vm.left,g1=qw.aTypedArray;(0,qw.exportTypedArrayMethod)("reduce",function(t){var e=arguments.length;return f1(g1(this),t,e,e>1?arguments[1]:void 0)});var h1=vm.right,m1=qw.aTypedArray;(0,qw.exportTypedArrayMethod)("reduceRight",function(t){var e=arguments.length;return h1(m1(this),t,e,e>1?arguments[1]:void 0)});var v1=qw.aTypedArray,y1=qw.exportTypedArrayMethod,b1=Math.floor;y1("reverse",function(){for(var t,e=this,r=v1(e).length,n=b1(r/2),o=0;o<n;)t=e[o],e[o++]=e[--r],e[r]=t;return e});var w1=c,x1=m,T1=qw,P1=xn,k1=jZ,S1=Wt,E1=d,A1=w1.RangeError,C1=w1.Int8Array,O1=C1&&C1.prototype,I1=O1&&O1.set,z1=T1.aTypedArray,R1=T1.exportTypedArrayMethod,M1=!E1(function(){var t=new Uint8ClampedArray(2);return x1(I1,t,{length:1,0:3},1),3!==t[1]}),N1=M1&&T1.NATIVE_ARRAY_BUFFER_VIEWS&&E1(function(){var t=new C1(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]});R1("set",function(t){z1(this);var e=k1(arguments.length>1?arguments[1]:void 0,1),r=S1(t);if(M1)return x1(I1,this,r,e);var n=this.length,o=P1(r),i=0;if(o+e>n)throw new A1("Wrong length");for(;i<o;)this[e+i]=r[i++]},!M1||N1);var B1=$o,L1=qw.aTypedArray,_1=qw.getTypedArrayConstructor;(0,qw.exportTypedArrayMethod)("slice",function(t,e){for(var r=B1(L1(this),t,e),n=_1(this),o=0,i=r.length,a=new n(i);i>o;)a[o]=r[o++];return a},d(function(){new Int8Array(1).slice()}));var D1=ia.some,F1=qw.aTypedArray;(0,qw.exportTypedArrayMethod)("some",function(t){return D1(F1(this),t,arguments.length>1?arguments[1]:void 0)});var U1=Si,j1=d,H1=kt,q1=Xm,V1=Jm,G1=$m,W1=lt,Y1=Qm,X1=qw.aTypedArray,K1=qw.exportTypedArrayMethod,J1=c.Uint16Array,$1=J1&&U1(J1.prototype.sort),Z1=!(!$1||j1(function(){$1(new J1(2),null)})&&j1(function(){$1(new J1(2),{})})),Q1=!!$1&&!j1(function(){if(W1)return W1<74;if(V1)return V1<67;if(G1)return!0;if(Y1)return Y1<602;var t,e,r=new J1(516),n=Array(516);for(t=0;t<516;t++)e=t%4,r[t]=515-t,n[t]=t-2*e+3;for($1(r,function(t,e){return(t/4|0)-(e/4|0)}),t=0;t<516;t++)if(r[t]!==n[t])return!0});K1("sort",function(t){return void 0!==t&&H1(t),Q1?$1(this,t):q1(X1(this),function(t){return function(e,r){return void 0!==t?+t(e,r)||0:r!=r?-1:e!=e?1:0===e&&0===r?1/e>0&&1/r<0?1:-1:e>r}}(t))},!Q1||Z1);var t2=bn,e2=mn,r2=qw.aTypedArray,n2=qw.getTypedArrayConstructor;(0,qw.exportTypedArrayMethod)("subarray",function(t,e){var r=r2(this),n=r.length,o=e2(t,n);return new(n2(r))(r.buffer,r.byteOffset+o*r.BYTES_PER_ELEMENT,t2((void 0===e?n:e2(e,n))-o))});var o2=Bs,i2=qw,a2=d,s2=$o,l2=c.Int8Array,c2=i2.aTypedArray,u2=i2.exportTypedArrayMethod,d2=[].toLocaleString,p2=!!l2&&a2(function(){d2.call(new l2(1))});u2("toLocaleString",function(){return o2(d2,p2?s2(c2(this)):c2(this),s2(arguments))},a2(function(){return[1,2].toLocaleString()!==new l2([1,2]).toLocaleString()})||!a2(function(){l2.prototype.toLocaleString.call([1,2])}));var f2=Uv,g2=qw.aTypedArray,h2=qw.getTypedArrayConstructor;(0,qw.exportTypedArrayMethod)("toReversed",function(){return f2(g2(this),h2(this))});var m2=kt,v2=Wv,y2=qw.aTypedArray,b2=qw.getTypedArrayConstructor,w2=qw.exportTypedArrayMethod,x2=C(qw.TypedArrayPrototype.sort);w2("toSorted",function(t){void 0!==t&&m2(t);var e=y2(this),r=v2(b2(e),e);return x2(r,t)});var T2=qw.exportTypedArrayMethod,P2=d,k2=C,S2=c.Uint8Array,E2=S2&&S2.prototype||{},A2=[].toString,C2=k2([].join);P2(function(){A2.call({})})&&(A2=function(){return C2(this)});var O2=E2.toString!==A2;T2("toString",A2,O2);var I2=Ty,z2=VZ,R2=pn,M2=YZ,N2=qw.aTypedArray,B2=qw.getTypedArrayConstructor,L2=qw.exportTypedArrayMethod,_2=function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}(),D2=_2&&function(){try{new Int8Array(1).with(-.5,1)}catch(t){return!0}}();L2("with",{with:function(t,e){var r=N2(this),n=R2(t),o=z2(r)?M2(e):+e;return I2(r,B2(r),n,o)}}.with,!_2||D2);var F2=X,U2=String,j2=TypeError,H2=function(t){if(void 0===t||F2(t))return t;throw new j2(U2(t)+" is not an object or undefined")},q2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",V2=q2+"+/",G2=q2+"-_",W2=function(t){for(var e={},r=0;r<64;r++)e[t.charAt(r)]=r;return e},Y2={i2c:V2,c2i:W2(V2),i2cUrl:G2,c2iUrl:W2(G2)},X2=TypeError,K2=function(t){var e=t&&t.alphabet;if(void 0===e||"base64"===e||"base64url"===e)return e||"base64";throw new X2("Incorrect `alphabet` option")},J2=c,$2=C,Z2=H2,Q2=kV,t5=Kt,e5=K2,r5=Hx,n5=Y2.c2i,o5=Y2.c2iUrl,i5=J2.SyntaxError,a5=J2.TypeError,s5=$2("".charAt),l5=function(t,e){for(var r=t.length;e<r;e++){var n=s5(t,e);if(" "!==n&&"\t"!==n&&"\n"!==n&&"\f"!==n&&"\r"!==n)break}return e},c5=function(t,e,r){var n=t.length;n<4&&(t+=2===n?"AA":"A");var o=(e[s5(t,0)]<<18)+(e[s5(t,1)]<<12)+(e[s5(t,2)]<<6)+e[s5(t,3)],i=[o>>16&255,o>>8&255,255&o];if(2===n){if(r&&0!==i[1])throw new i5("Extra bits");return[i[0]]}if(3===n){if(r&&0!==i[2])throw new i5("Extra bits");return[i[0],i[1]]}return i},u5=function(t,e,r){for(var n=e.length,o=0;o<n;o++)t[r+o]=e[o];return r+n},d5=function(t,e,r,n){Q2(t),Z2(e);var o="base64"===e5(e)?n5:o5,i=e?e.lastChunkHandling:void 0;if(void 0===i&&(i="loose"),"loose"!==i&&"strict"!==i&&"stop-before-partial"!==i)throw new a5("Incorrect `lastChunkHandling` option");r&&r5(r.buffer);var a=t.length,s=r||[],l=0,c=0,u="",d=0;if(n)for(;;){if((d=l5(t,d))===a){if(u.length>0){if("stop-before-partial"===i)break;if("loose"!==i)throw new i5("Missing padding");if(1===u.length)throw new i5("Malformed padding: exactly one additional character");l=u5(s,c5(u,o,!1),l)}c=a;break}var p=s5(t,d);if(++d,"="===p){if(u.length<2)throw new i5("Padding is too early");if(d=l5(t,d),2===u.length){if(d===a){if("stop-before-partial"===i)break;throw new i5("Malformed padding: only one =")}"="===s5(t,d)&&(++d,d=l5(t,d))}if(d<a)throw new i5("Unexpected character after padding");l=u5(s,c5(u,o,"strict"===i),l),c=a;break}if(!t5(o,p))throw new i5("Unexpected character");var f=n-l;if(1===f&&2===u.length||2===f&&3===u.length)break;if(4===(u+=p).length&&(l=u5(s,c5(u,o,!1),l),u="",c=d,l===n))break}return{bytes:s,read:c,written:l}},p5=uo,f5=Wv,g5=d5,h5=c.Uint8Array,m5=!h5||!h5.fromBase64||!function(){try{return void h5.fromBase64("a")}catch(t){}try{h5.fromBase64("",null)}catch(t){return!0}}();h5&&p5({target:"Uint8Array",stat:!0,forced:m5},{fromBase64:function(t){var e=g5(t,arguments.length>1?arguments[1]:void 0,null,9007199254740991);return f5(h5,e.bytes)}});var v5=c,y5=C,b5=v5.Uint8Array,w5=v5.SyntaxError,x5=v5.parseInt,T5=Math.min,P5=/[^\da-f]/i,k5=y5(P5.exec),S5=y5("".slice),E5=function(t,e){var r=t.length;if(r%2!=0)throw new w5("String should be an even number of characters");for(var n=e?T5(e.length,r/2):r/2,o=e||new b5(n),i=0,a=0;a<n;){var s=S5(t,i,i+=2);if(k5(P5,s))throw new w5("String should only contain hex characters");o[a++]=x5(s,16)}return{bytes:o,read:i}},A5=uo,C5=kV,O5=E5;c.Uint8Array&&A5({target:"Uint8Array",stat:!0},{fromHex:function(t){return O5(C5(t)).bytes}});var I5=wo,z5=TypeError,R5=function(t){if("Uint8Array"===I5(t))return t;throw new z5("Argument is not an Uint8Array")},M5=uo,N5=d5,B5=R5,L5=c.Uint8Array,_5=!L5||!L5.prototype.setFromBase64||!function(){var t=new L5([255,255,255,255,255]);try{return void t.setFromBase64("",null)}catch(t){}try{return void t.setFromBase64("a")}catch(t){}try{t.setFromBase64("MjYyZg===")}catch(e){return 50===t[0]&&54===t[1]&&50===t[2]&&255===t[3]&&255===t[4]}}();L5&&M5({target:"Uint8Array",proto:!0,forced:_5},{setFromBase64:function(t){B5(this);var e=N5(t,arguments.length>1?arguments[1]:void 0,this,this.length);return{read:e.read,written:e.written}}});var D5=uo,F5=kV,U5=R5,j5=Hx,H5=E5;c.Uint8Array&&D5({target:"Uint8Array",proto:!0},{setFromHex:function(t){U5(this),F5(t),j5(this.buffer);var e=H5(t,this).read;return{read:e,written:e/2}}});var q5=uo,V5=c,G5=H2,W5=R5,Y5=Hx,X5=K2,K5=Y2.i2c,J5=Y2.i2cUrl,$5=C("".charAt),Z5=V5.Uint8Array,Q5=!Z5||!Z5.prototype.toBase64||!function(){try{(new Z5).toBase64(null)}catch(t){return!0}}();Z5&&q5({target:"Uint8Array",proto:!0,forced:Q5},{toBase64:function(){var t=W5(this),e=arguments.length?G5(arguments[0]):void 0,r="base64"===X5(e)?K5:J5,n=!!e&&!!e.omitPadding;Y5(this.buffer);for(var o,i="",a=0,s=t.length,l=function(t){return $5(r,o>>6*t&63)};a+2<s;a+=3)o=(t[a]<<16)+(t[a+1]<<8)+t[a+2],i+=l(3)+l(2)+l(1)+l(0);return a+2===s?(o=(t[a]<<16)+(t[a+1]<<8),i+=l(3)+l(2)+l(1)+(n?"":"=")):a+1===s&&(o=t[a]<<16,i+=l(3)+l(2)+(n?"":"==")),i}});var t4=uo,e4=c,r4=R5,n4=Hx,o4=C(1.1.toString),i4=e4.Uint8Array,a4=!i4||!i4.prototype.toHex||!function(){try{return"ffffffffffffffff"===new i4([255,255,255,255,255,255,255,255]).toHex()}catch(t){return!1}}();i4&&t4({target:"Uint8Array",proto:!0,forced:a4},{toHex:function(){r4(this),n4(this.buffer);for(var t="",e=0,r=this.length;e<r;e++){var n=o4(this[e],16);t+=1===n.length?"0"+n:n}return t}});var s4=uo,l4=C,c4=Po,u4=String.fromCharCode,d4=l4("".charAt),p4=l4(/./.exec),f4=l4("".slice),g4=/^[\da-f]{2}$/i,h4=/^[\da-f]{4}$/i;s4({global:!0},{unescape:function(t){for(var e,r,n=c4(t),o="",i=n.length,a=0;a<i;){if("%"===(e=d4(n,a++)))if("u"===d4(n,a)){if(r=f4(n,a+1,a+5),p4(h4,r)){o+=u4(parseInt(r,16)),a+=5;continue}}else if(r=f4(n,a,a+2),p4(g4,r)){o+=u4(parseInt(r,16)),a+=2;continue}o+=e}return o}});var m4=C,v4=Iy,y4=WO.getWeakData,b4=My,w4=je,x4=D,T4=X,P4=zd,k4=Kt,S4=Lr.set,E4=Lr.getterFor,A4=ia.find,C4=ia.findIndex,O4=m4([].splice),I4=0,z4=function(t){return t.frozen||(t.frozen=new R4)},R4=function(){this.entries=[]},M4=function(t,e){return A4(t.entries,function(t){return t[0]===e})};R4.prototype={get:function(t){var e=M4(this,t);if(e)return e[1]},has:function(t){return!!M4(this,t)},set:function(t,e){var r=M4(this,t);r?r[1]=e:this.entries.push([t,e])},delete:function(t){var e=C4(this.entries,function(e){return e[0]===t});return~e&&O4(this.entries,e,1),!!~e}};var N4,B4={getConstructor:function(t,e,r,n){var o=t(function(t,o){b4(t,i),S4(t,{type:e,id:I4++,frozen:null}),x4(o)||P4(o,t[n],{that:t,AS_ENTRIES:r})}),i=o.prototype,a=E4(e),s=function(t,e,r){var n=a(t),o=y4(w4(e),!0);return!0===o?z4(n).set(e,r):o[n.id]=r,t};return v4(i,{delete:function(t){var e=a(this);if(!T4(t))return!1;var r=y4(t);return!0===r?z4(e).delete(t):r&&k4(r,e.id)&&delete r[e.id]},has:function(t){var e=a(this);if(!T4(t))return!1;var r=y4(t);return!0===r?z4(e).has(t):r&&k4(r,e.id)}}),v4(i,r?{get:function(t){var e=a(this);if(T4(t)){var r=y4(t);if(!0===r)return z4(e).get(t);if(r)return r[e.id]}},set:function(t,e){return s(this,t,e)}}:{add:function(t){return s(this,t,!0)}}),o}},L4=sO,_4=c,D4=C,F4=Iy,U4=WO,j4=lI,H4=B4,q4=X,V4=Lr.enforce,G4=d,W4=yr,Y4=Object,X4=Array.isArray,K4=Y4.isExtensible,J4=Y4.isFrozen,$4=Y4.isSealed,Z4=Y4.freeze,Q4=Y4.seal,t6=!_4.ActiveXObject&&"ActiveXObject"in _4,e6=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},r6=j4("WeakMap",e6,H4),n6=r6.prototype,o6=D4(n6.set);if(W4)if(t6){N4=H4.getConstructor(e6,"WeakMap",!0),U4.enable();var i6=D4(n6.delete),a6=D4(n6.has),s6=D4(n6.get);F4(n6,{delete:function(t){if(q4(t)&&!K4(t)){var e=V4(this);return e.frozen||(e.frozen=new N4),i6(this,t)||e.frozen.delete(t)}return i6(this,t)},has:function(t){if(q4(t)&&!K4(t)){var e=V4(this);return e.frozen||(e.frozen=new N4),a6(this,t)||e.frozen.has(t)}return a6(this,t)},get:function(t){if(q4(t)&&!K4(t)){var e=V4(this);return e.frozen||(e.frozen=new N4),a6(this,t)?s6(this,t):e.frozen.get(t)}return s6(this,t)},set:function(t,e){if(q4(t)&&!K4(t)){var r=V4(this);r.frozen||(r.frozen=new N4),a6(this,t)?o6(this,t,e):r.frozen.set(t,e)}else o6(this,t,e);return this}})}else L4&&G4(function(){var t=Z4([]);return o6(new r6,t,1),!J4(t)})&&F4(n6,{set:function(t,e){var r;return X4(t)&&(J4(t)?r=Z4:$4(t)&&(r=Q4)),o6(this,t,e),r&&r(t),this}});lI("WeakSet",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},B4);var l6=uo,c6=c,u6=$,d6=C,p6=m,f6=d,g6=Po,h6=NL,m6=Y2.c2i,v6=/[^\d+/a-z]/i,y6=/[\t\n\f\r ]+/g,b6=/[=]{1,2}$/,w6=u6("atob"),x6=String.fromCharCode,T6=d6("".charAt),P6=d6("".replace),k6=d6(v6.exec),S6=!!w6&&!f6(function(){return"hi"!==w6("aGk=")}),E6=S6&&f6(function(){return""!==w6(" ")}),A6=S6&&!f6(function(){w6("a")}),C6=S6&&!f6(function(){w6()}),O6=S6&&1!==w6.length;l6({global:!0,bind:!0,enumerable:!0,forced:!S6||E6||A6||C6||O6},{atob:function(t){if(h6(arguments.length,1),S6&&!E6&&!A6)return p6(w6,c6,t);var e,r,n,o=P6(g6(t),y6,""),i="",a=0,s=0;if(o.length%4==0&&(o=P6(o,b6,"")),(e=o.length)%4==1||k6(v6,o))throw new(u6("DOMException"))("The string is not correctly encoded","InvalidCharacterError");for(;a<e;)r=T6(o,a++),n=s%4?64*n+m6[r]:m6[r],s++%4&&(i+=x6(255&n>>(-2*s&6)));return i}});var I6=uo,z6=c,R6=$,M6=C,N6=m,B6=d,L6=Po,_6=NL,D6=Y2.i2c,F6=R6("btoa"),U6=M6("".charAt),j6=M6("".charCodeAt),H6=!!F6&&!B6(function(){return"aGk="!==F6("hi")}),q6=H6&&!B6(function(){F6()}),V6=H6&&B6(function(){return"bnVsbA=="!==F6(null)}),G6=H6&&1!==F6.length;I6({global:!0,bind:!0,enumerable:!0,forced:!H6||q6||V6||G6},{btoa:function(t){if(_6(arguments.length,1),H6)return N6(F6,z6,L6(t));for(var e,r,n=L6(t),o="",i=0,a=D6;U6(n,i)||(a="=",i%1);){if((r=j6(n,i+=3/4))>255)throw new(R6("DOMException"))("The string contains characters outside of the Latin1 range","InvalidCharacterError");o+=U6(a,63&(e=e<<8|r)>>8-i%1*8)}return o}});var W6={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Y6=ke("span").classList,X6=Y6&&Y6.constructor&&Y6.constructor.prototype,K6=X6===Object.prototype?void 0:X6,J6=c,$6=W6,Z6=K6,Q6=ig,t3=er,e3=function(t){if(t&&t.forEach!==Q6)try{t3(t,"forEach",Q6)}catch(e){t.forEach=Q6}};for(var r3 in $6)$6[r3]&&e3(J6[r3]&&J6[r3].prototype);e3(Z6);var n3=c,o3=W6,i3=K6,a3=zh,s3=er,l3=Ti,c3=ce("iterator"),u3=a3.values,d3=function(t,e){if(t){if(t[c3]!==u3)try{s3(t,c3,u3)}catch(e){t[c3]=u3}if(l3(t,e,!0),o3[e])for(var r in a3)if(t[r]!==a3[r])try{s3(t,r,a3[r])}catch(e){t[r]=a3[r]}}};for(var p3 in o3)d3(n3[p3]&&n3[p3].prototype,p3);d3(i3,"DOMTokenList");var f3={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}},g3=uo,h3=$,m3=Gx,v3=d,y3=Ko,b3=P,w3=Le.f,x3=an,T3=ii,P3=Kt,k3=My,S3=je,E3=_u,A3=_c,C3=f3,O3=Wc,I3=Lr,z3=p,R3="DOMException",M3="DATA_CLONE_ERR",N3=h3("Error"),B3=h3(R3)||function(){try{(new(h3("MessageChannel")||m3("worker_threads").MessageChannel)).port1.postMessage(new WeakMap)}catch(t){if(t.name===M3&&25===t.code)return t.constructor}}(),L3=B3&&B3.prototype,_3=N3.prototype,D3=I3.set,F3=I3.getterFor(R3),U3="stack"in new N3(R3),j3=function(t){return P3(C3,t)&&C3[t].m?C3[t].c:0},H3=function(){k3(this,q3);var t=arguments.length,e=A3(t<1?void 0:arguments[0]),r=A3(t<2?void 0:arguments[1],"Error"),n=j3(r);if(D3(this,{type:R3,name:r,message:e,code:n}),z3||(this.name=r,this.message=e,this.code=n),U3){var o=new N3(e);o.name=R3,w3(this,"stack",b3(1,O3(o.stack,1)))}},q3=H3.prototype=y3(_3),V3=function(t){return{enumerable:!0,configurable:!0,get:t}},G3=function(t){return V3(function(){return F3(this)[t]})};z3&&(T3(q3,"code",G3("code")),T3(q3,"message",G3("message")),T3(q3,"name",G3("name"))),w3(q3,"constructor",b3(1,H3));var W3=v3(function(){return!(new B3 instanceof N3)}),Y3=W3||v3(function(){return _3.toString!==E3||"2: 1"!==String(new B3(1,2))}),X3=W3||v3(function(){return 25!==new B3(1,"DataCloneError").code});W3||25!==B3[M3]||L3[M3];g3({global:!0,constructor:!0,forced:W3},{DOMException:W3?H3:B3});var K3=h3(R3),J3=K3.prototype;for(var $3 in Y3&&B3===K3&&x3(J3,"toString",E3),X3&&z3&&B3===K3&&T3(J3,"code",V3(function(){return j3(S3(this).name)})),C3)if(P3(C3,$3)){var Z3=C3[$3],Q3=Z3.s,t8=b3(6,Z3.c);P3(K3,Q3)||w3(K3,Q3,t8),P3(J3,Q3)||w3(J3,Q3,t8)}var e8=uo,r8=c,n8=$,o8=P,i8=Le.f,a8=Kt,s8=My,l8=Bc,c8=_c,u8=f3,d8=Wc,p8=p,f8="DOMException",g8=n8("Error"),h8=n8(f8),m8=function(){s8(this,v8);var t=arguments.length,e=c8(t<1?void 0:arguments[0]),r=c8(t<2?void 0:arguments[1],"Error"),n=new h8(e,r),o=new g8(e);return o.name=f8,i8(n,"stack",o8(1,d8(o.stack,1))),l8(n,this,m8),n},v8=m8.prototype=h8.prototype,y8="stack"in new g8(f8),b8="stack"in new h8(1,2),w8=h8&&p8&&Object.getOwnPropertyDescriptor(r8,f8),x8=!(!w8||w8.writable&&w8.configurable),T8=y8&&!x8&&!b8;e8({global:!0,constructor:!0,forced:T8},{DOMException:T8?m8:h8});var P8=n8(f8),k8=P8.prototype;if(k8.constructor!==P8)for(var S8 in i8(k8,"constructor",o8(1,P8)),u8)if(a8(u8,S8)){var E8=u8[S8],A8=E8.s;a8(P8,A8)||i8(P8,A8,o8(6,E8.c))}var C8="DOMException";Ti($(C8),C8);var O8=l_.clear;uo({global:!0,bind:!0,enumerable:!0,forced:c.clearImmediate!==O8},{clearImmediate:O8});var I8=c,z8=Bs,R8=W,M8=Tm,N8=et,B8=$o,L8=NL,_8=I8.Function,D8=/MSIE .\./.test(N8)||"BUN"===M8&&function(){var t=I8.Bun.version.split(".");return t.length<3||"0"===t[0]&&(t[1]<3||"3"===t[1]&&"0"===t[2])}(),F8=function(t,e){var r=e?2:1;return D8?function(n,o){var i=L8(arguments.length,1)>r,a=R8(n)?n:_8(n),s=i?B8(arguments,r):[],l=i?function(){z8(a,this,s)}:a;return e?t(l,o):t(l)}:t},U8=uo,j8=c,H8=l_.set,q8=F8,V8=j8.setImmediate?q8(H8,!1):H8;U8({global:!0,bind:!0,enumerable:!0,forced:j8.setImmediate!==V8},{setImmediate:V8});var G8=c,W8=D_,Y8=kt,X8=NL,K8=p;uo({global:!0,enumerable:!0,dontCallGetSet:!0,forced:d(function(){return K8&&1!==Object.getOwnPropertyDescriptor(G8,"queueMicrotask").value.length})},{queueMicrotask:function(t){X8(arguments.length,1),W8(Y8(t))}});var J8=uo,$8=c,Z8=ii,Q8=p,t7=TypeError,e7=Object.defineProperty,r7=$8.self!==$8;try{if(Q8){var n7=Object.getOwnPropertyDescriptor($8,"self");!r7&&n7&&n7.get&&n7.enumerable||Z8($8,"self",{get:function(){return $8},set:function(t){if(this!==$8)throw new t7("Illegal invocation");e7($8,"self",{value:t,writable:!0,configurable:!0,enumerable:!0})},configurable:!0,enumerable:!0})}else J8({global:!0,simple:!0,forced:r7},{self:$8})}catch(Yot){}var o7,i7=uo,a7=c,s7=$,l7=C,c7=d,u7=te,d7=W,p7=Vi,f7=D,g7=X,h7=yt,m7=zd,v7=je,y7=wo,b7=Kt,w7=_p,x7=er,T7=xn,P7=NL,k7=kq,S7=EI,E7=XG,A7=aW,C7=oT,O7=Xc,I7=Jx,z7=a7.Object,R7=a7.Array,M7=a7.Date,N7=a7.Error,B7=a7.TypeError,L7=a7.PerformanceMark,_7=s7("DOMException"),D7=S7.Map,F7=S7.has,U7=S7.get,j7=S7.set,H7=E7.Set,q7=E7.add,V7=E7.has,G7=s7("Object","keys"),W7=l7([].push),Y7=l7((!0).valueOf),X7=l7(1.1.valueOf),K7=l7("".valueOf),J7=l7(M7.prototype.getTime),$7=u7("structuredClone"),Z7="DataCloneError",Q7="Transferring",t9=function(t){return!c7(function(){var e=new a7.Set([7]),r=t(e),n=t(z7(7));return r===e||!r.has(7)||!g7(n)||7!==+n})&&t},e9=function(t,e){return!c7(function(){var r=new e,n=t({a:r,b:r});return!(n&&n.a===n.b&&n.a instanceof e&&n.a.stack===r.stack)})},r9=a7.structuredClone,n9=!e9(r9,N7)||!e9(r9,_7)||(o7=r9,!!c7(function(){var t=o7(new a7.AggregateError([1],$7,{cause:3}));return"AggregateError"!==t.name||1!==t.errors[0]||t.message!==$7||3!==t.cause})),o9=!r9&&t9(function(t){return new L7($7,{detail:t}).detail}),i9=t9(r9)||o9,a9=function(t){throw new _7("Uncloneable type: "+t,Z7)},s9=function(t,e){throw new _7((e||"Cloning")+" of "+t+" cannot be properly polyfilled in this engine",Z7)},l9=function(t,e){return i9||s9(e),i9(t)},c9=function(t,e,r){if(F7(e,t))return U7(e,t);var n,o,i,a,s,l;if("SharedArrayBuffer"===(r||y7(t)))n=i9?i9(t):t;else{var c=a7.DataView;c||d7(t.slice)||s9("ArrayBuffer");try{if(d7(t.slice)&&!t.resizable)n=t.slice(0);else{o=t.byteLength,i="maxByteLength"in t?{maxByteLength:t.maxByteLength}:void 0,n=new ArrayBuffer(o,i),a=new c(t),s=new c(n);for(l=0;l<o;l++)s.setUint8(l,a.getUint8(l))}}catch(t){throw new _7("ArrayBuffer is detached",Z7)}}return j7(e,t,n),n},u9=function(t,e){if(h7(t)&&a9("Symbol"),!g7(t))return t;if(e){if(F7(e,t))return U7(e,t)}else e=new D7;var r,n,o,i,a,s,l,c,u=y7(t);switch(u){case"Array":o=R7(T7(t));break;case"Object":o={};break;case"Map":o=new D7;break;case"Set":o=new H7;break;case"RegExp":o=new RegExp(t.source,k7(t));break;case"Error":switch(n=t.name){case"AggregateError":o=new(s7(n))([]);break;case"EvalError":case"RangeError":case"ReferenceError":case"SuppressedError":case"SyntaxError":case"TypeError":case"URIError":o=new(s7(n));break;case"CompileError":case"LinkError":case"RuntimeError":o=new(s7("WebAssembly",n));break;default:o=new N7}break;case"DOMException":o=new _7(t.message,t.name);break;case"ArrayBuffer":case"SharedArrayBuffer":o=c9(t,e,u);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":s="DataView"===u?t.byteLength:t.length,o=function(t,e,r,n,o){var i=a7[e];return g7(i)||s9(e),new i(c9(t.buffer,o),r,n)}(t,u,t.byteOffset,s,e);break;case"DOMQuad":try{o=new DOMQuad(u9(t.p1,e),u9(t.p2,e),u9(t.p3,e),u9(t.p4,e))}catch(e){o=l9(t,u)}break;case"File":if(i9)try{o=i9(t),y7(o)!==u&&(o=void 0)}catch(t){}if(!o)try{o=new File([t],t.name,t)}catch(t){}o||s9(u);break;case"FileList":if(i=function(){var t;try{t=new a7.DataTransfer}catch(e){try{t=new a7.ClipboardEvent("").clipboardData}catch(t){}}return t&&t.items&&t.files?t:null}()){for(a=0,s=T7(t);a<s;a++)i.items.add(u9(t[a],e));o=i.files}else o=l9(t,u);break;case"ImageData":try{o=new ImageData(u9(t.data,e),t.width,t.height,{colorSpace:t.colorSpace})}catch(e){o=l9(t,u)}break;default:if(i9)o=i9(t);else switch(u){case"BigInt":o=z7(t.valueOf());break;case"Boolean":o=z7(Y7(t));break;case"Number":o=z7(X7(t));break;case"String":o=z7(K7(t));break;case"Date":o=new M7(J7(t));break;case"Blob":try{o=t.slice(0,t.size,t.type)}catch(t){s9(u)}break;case"DOMPoint":case"DOMPointReadOnly":r=a7[u];try{o=r.fromPoint?r.fromPoint(t):new r(t.x,t.y,t.z,t.w)}catch(t){s9(u)}break;case"DOMRect":case"DOMRectReadOnly":r=a7[u];try{o=r.fromRect?r.fromRect(t):new r(t.x,t.y,t.width,t.height)}catch(t){s9(u)}break;case"DOMMatrix":case"DOMMatrixReadOnly":r=a7[u];try{o=r.fromMatrix?r.fromMatrix(t):new r(t)}catch(t){s9(u)}break;case"AudioData":case"VideoFrame":d7(t.clone)||s9(u);try{o=t.clone()}catch(t){a9(u)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":s9(u);default:a9(u)}}switch(j7(e,t,o),u){case"Array":case"Object":for(l=G7(t),a=0,s=T7(l);a<s;a++)c=l[a],w7(o,c,u9(t[c],e));break;case"Map":t.forEach(function(t,r){j7(o,u9(r,e),u9(t,e))});break;case"Set":t.forEach(function(t){q7(o,u9(t,e))});break;case"Error":x7(o,"message",u9(t.message,e)),b7(t,"cause")&&x7(o,"cause",u9(t.cause,e)),"AggregateError"===n?o.errors=u9(t.errors,e):"SuppressedError"===n&&(o.error=u9(t.error,e),o.suppressed=u9(t.suppressed,e));case"DOMException":O7&&x7(o,"stack",u9(t.stack,e))}return o};i7({global:!0,enumerable:!0,sham:!I7,forced:n9},{structuredClone:function(t){var e,r,n=P7(arguments.length,1)>1&&!f7(arguments[1])?v7(arguments[1]):void 0,o=n?n.transfer:void 0;void 0!==o&&(r=function(t,e){if(!g7(t))throw new B7("Transfer option cannot be converted to a sequence");var r=[];m7(t,function(t){W7(r,v7(t))});for(var n,o,i,a,s,l=0,c=T7(r),u=new H7;l<c;){if(n=r[l++],"ArrayBuffer"===(o=y7(n))?V7(u,n):F7(e,n))throw new _7("Duplicate transferable",Z7);if("ArrayBuffer"!==o){if(I7)a=r9(n,{transfer:[n]});else switch(o){case"ImageBitmap":i=a7.OffscreenCanvas,p7(i)||s9(o,Q7);try{(s=new i(n.width,n.height)).getContext("bitmaprenderer").transferFromImageBitmap(n),a=s.transferToImageBitmap()}catch(t){}break;case"AudioData":case"VideoFrame":d7(n.clone)&&d7(n.close)||s9(o,Q7);try{a=n.clone(),n.close()}catch(t){}break;case"MediaSourceHandle":case"MessagePort":case"MIDIAccess":case"OffscreenCanvas":case"ReadableStream":case"RTCDataChannel":case"TransformStream":case"WebTransportReceiveStream":case"WebTransportSendStream":case"WritableStream":s9(o,Q7)}if(void 0===a)throw new _7("This object cannot be transferred: "+o,Z7);j7(e,n,a)}else q7(u,n)}return u}(o,e=new D7));var i=u9(t,e);return r&&function(t){A7(t,function(t){I7?i9(t,{transfer:[t]}):d7(t.transfer)?t.transfer():C7?C7(t):s9("ArrayBuffer",Q7)})}(r),i}});var d9=uo,p9=c,f9=F8(p9.setInterval,!0);d9({global:!0,bind:!0,forced:p9.setInterval!==f9},{setInterval:f9});var g9=uo,h9=c,m9=F8(h9.setTimeout,!0);g9({global:!0,bind:!0,forced:h9.setTimeout!==m9},{setTimeout:m9});var v9=d,y9=p,b9=ce("iterator"),w9=!v9(function(){var t=new URL("b?a=1&b=2&c=3","https://a"),e=t.searchParams,r=new URLSearchParams("a=1&a=2&b=3"),n="";return t.pathname="c%20d",e.forEach(function(t,r){e.delete("b"),n+=r+t}),r.delete("a",2),r.delete("b",void 0),!e.size&&!y9||!e.sort||"https://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[b9]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("https://ÑÐµÑÑ").host||"#%D0%B1"!==new URL("https://a#Ð±").hash||"a1c3"!==n||"x"!==new URL("https://x",void 0).host}),x9=C,T9=2147483647,P9=/[^\0-\u007E]/,k9=/[.\u3002\uFF0E\uFF61]/g,S9="Overflow: input needs wider integers to process",E9=RangeError,A9=x9(k9.exec),C9=Math.floor,O9=String.fromCharCode,I9=x9("".charCodeAt),z9=x9([].join),R9=x9([].push),M9=x9("".replace),N9=x9("".split),B9=x9("".toLowerCase),L9=function(t){return t+22+75*(t<26)},_9=function(t,e,r){var n=0;for(t=r?C9(t/700):t>>1,t+=C9(t/e);t>455;)t=C9(t/35),n+=36;return C9(n+36*t/(t+38))},D9=function(t){var e=[];t=function(t){for(var e=[],r=0,n=t.length;r<n;){var o=I9(t,r++);if(o>=55296&&o<=56319&&r<n){var i=I9(t,r++);56320==(64512&i)?R9(e,((1023&o)<<10)+(1023&i)+65536):(R9(e,o),r--)}else R9(e,o)}return e}(t);var r,n,o=t.length,i=128,a=0,s=72;for(r=0;r<t.length;r++)(n=t[r])<128&&R9(e,O9(n));var l=e.length,c=l;for(l&&R9(e,"-");c<o;){var u=T9;for(r=0;r<t.length;r++)(n=t[r])>=i&&n<u&&(u=n);var d=c+1;if(u-i>C9((T9-a)/d))throw new E9(S9);for(a+=(u-i)*d,i=u,r=0;r<t.length;r++){if((n=t[r])<i&&++a>T9)throw new E9(S9);if(n===i){for(var p=a,f=36;;){var g=f<=s?1:f>=s+26?26:f-s;if(p<g)break;var h=p-g,m=36-g;R9(e,O9(L9(g+h%m))),p=C9(h/m),f+=36}R9(e,O9(L9(p))),s=_9(a,d,c===l),a=0,c++}}a++,i++}return z9(e,"")},F9=uo,U9=c,j9=p_,H9=$,q9=m,V9=C,G9=p,W9=w9,Y9=an,X9=ii,K9=Iy,J9=Ti,$9=Zg,Z9=Lr,Q9=My,ttt=W,ett=Kt,rtt=Oi,ntt=wo,ott=je,itt=X,att=Po,stt=Ko,ltt=P,ctt=fd,utt=ad,dtt=bh,ptt=NL,ftt=Xm,gtt=ce("iterator"),htt="URLSearchParams",mtt=htt+"Iterator",vtt=Z9.set,ytt=Z9.getterFor(htt),btt=Z9.getterFor(mtt),wtt=j9("fetch"),xtt=j9("Request"),Ttt=j9("Headers"),Ptt=xtt&&xtt.prototype,ktt=Ttt&&Ttt.prototype,Stt=U9.TypeError,Ett=U9.encodeURIComponent,Att=String.fromCharCode,Ctt=H9("String","fromCodePoint"),Ott=parseInt,Itt=V9("".charAt),ztt=V9([].join),Rtt=V9([].push),Mtt=V9("".replace),Ntt=V9([].shift),Btt=V9([].splice),Ltt=V9("".split),_tt=V9("".slice),Dtt=V9(/./.exec),Ftt=/\+/g,Utt=/^[0-9a-f]+$/i,jtt=function(t,e){var r=_tt(t,e,e+2);return Dtt(Utt,r)?Ott(r,16):NaN},Htt=function(t){for(var e=0,r=128;r>0&&0!==(t&r);r>>=1)e++;return e},qtt=function(t){var e=null;switch(t.length){case 1:e=t[0];break;case 2:e=(31&t[0])<<6|63&t[1];break;case 3:e=(15&t[0])<<12|(63&t[1])<<6|63&t[2];break;case 4:e=(7&t[0])<<18|(63&t[1])<<12|(63&t[2])<<6|63&t[3]}return e>1114111?null:e},Vtt=function(t){for(var e=(t=Mtt(t,Ftt," ")).length,r="",n=0;n<e;){var o=Itt(t,n);if("%"===o){if("%"===Itt(t,n+1)||n+3>e){r+="%",n++;continue}var i=jtt(t,n+1);if(i!=i){r+=o,n++;continue}n+=2;var a=Htt(i);if(0===a)o=Att(i);else{if(1===a||a>4){r+="ï¿½",n++;continue}for(var s=[i],l=1;l<a&&!(++n+3>e||"%"!==Itt(t,n));){var c=jtt(t,n+1);if(c!=c){n+=3;break}if(c>191||c<128)break;Rtt(s,c),n+=2,l++}if(s.length!==a){r+="ï¿½";continue}var u=qtt(s);null===u?r+="ï¿½":o=Ctt(u)}}r+=o,n++}return r},Gtt=/[!'()~]|%20/g,Wtt={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Ytt=function(t){return Wtt[t]},Xtt=function(t){return Mtt(Ett(t),Gtt,Ytt)},Ktt=$9(function(t,e){vtt(this,{type:mtt,target:ytt(t).entries,index:0,kind:e})},htt,function(){var t=btt(this),e=t.target,r=t.index++;if(!e||r>=e.length)return t.target=null,dtt(void 0,!0);var n=e[r];switch(t.kind){case"keys":return dtt(n.key,!1);case"values":return dtt(n.value,!1)}return dtt([n.key,n.value],!1)},!0),Jtt=function(t){this.entries=[],this.url=null,void 0!==t&&(itt(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===Itt(t,0)?_tt(t,1):t:att(t)))};Jtt.prototype={type:htt,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,r,n,o,i,a,s,l=this.entries,c=utt(t);if(c)for(r=(e=ctt(t,c)).next;!(n=q9(r,e)).done;){if(i=(o=ctt(ott(n.value))).next,(a=q9(i,o)).done||(s=q9(i,o)).done||!q9(i,o).done)throw new Stt("Expected sequence with length 2");Rtt(l,{key:att(a.value),value:att(s.value)})}else for(var u in t)ett(t,u)&&Rtt(l,{key:u,value:att(t[u])})},parseQuery:function(t){if(t)for(var e,r,n=this.entries,o=Ltt(t,"&"),i=0;i<o.length;)(e=o[i++]).length&&(r=Ltt(e,"="),Rtt(n,{key:Vtt(Ntt(r)),value:Vtt(ztt(r,"="))}))},serialize:function(){for(var t,e=this.entries,r=[],n=0;n<e.length;)t=e[n++],Rtt(r,Xtt(t.key)+"="+Xtt(t.value));return ztt(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var $tt=function(){Q9(this,Ztt);var t=vtt(this,new Jtt(arguments.length>0?arguments[0]:void 0));G9||(this.size=t.entries.length)},Ztt=$tt.prototype;if(K9(Ztt,{append:function(t,e){var r=ytt(this);ptt(arguments.length,2),Rtt(r.entries,{key:att(t),value:att(e)}),G9||this.size++,r.updateURL()},delete:function(t){for(var e=ytt(this),r=ptt(arguments.length,1),n=e.entries,o=att(t),i=r<2?void 0:arguments[1],a=void 0===i?i:att(i),s=0;s<n.length;){var l=n[s];if(l.key!==o||void 0!==a&&l.value!==a)s++;else if(Btt(n,s,1),void 0!==a)break}G9||(this.size=n.length),e.updateURL()},get:function(t){var e=ytt(this).entries;ptt(arguments.length,1);for(var r=att(t),n=0;n<e.length;n++)if(e[n].key===r)return e[n].value;return null},getAll:function(t){var e=ytt(this).entries;ptt(arguments.length,1);for(var r=att(t),n=[],o=0;o<e.length;o++)e[o].key===r&&Rtt(n,e[o].value);return n},has:function(t){for(var e=ytt(this).entries,r=ptt(arguments.length,1),n=att(t),o=r<2?void 0:arguments[1],i=void 0===o?o:att(o),a=0;a<e.length;){var s=e[a++];if(s.key===n&&(void 0===i||s.value===i))return!0}return!1},set:function(t,e){var r=ytt(this);ptt(arguments.length,1);for(var n,o=r.entries,i=!1,a=att(t),s=att(e),l=0;l<o.length;l++)(n=o[l]).key===a&&(i?Btt(o,l--,1):(i=!0,n.value=s));i||Rtt(o,{key:a,value:s}),G9||(this.size=o.length),r.updateURL()},sort:function(){var t=ytt(this);ftt(t.entries,function(t,e){return t.key>e.key?1:-1}),t.updateURL()},forEach:function(t){for(var e,r=ytt(this).entries,n=rtt(t,arguments.length>1?arguments[1]:void 0),o=0;o<r.length;)n((e=r[o++]).value,e.key,this)},keys:function(){return new Ktt(this,"keys")},values:function(){return new Ktt(this,"values")},entries:function(){return new Ktt(this,"entries")}},{enumerable:!0}),Y9(Ztt,gtt,Ztt.entries,{name:"entries"}),Y9(Ztt,"toString",function(){return ytt(this).serialize()},{enumerable:!0}),G9&&X9(Ztt,"size",{get:function(){return ytt(this).entries.length},configurable:!0,enumerable:!0}),J9($tt,htt),F9({global:!0,constructor:!0,forced:!W9},{URLSearchParams:$tt}),!W9&&ttt(Ttt)){var Qtt=V9(ktt.has),tet=V9(ktt.set),eet=function(t){if(itt(t)){var e,r=t.body;if(ntt(r)===htt)return e=t.headers?new Ttt(t.headers):new Ttt,Qtt(e,"content-type")||tet(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),stt(t,{body:ltt(0,att(r)),headers:ltt(0,e)})}return t};if(ttt(wtt)&&F9({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return wtt(t,arguments.length>1?eet(arguments[1]):{})}}),ttt(xtt)){var ret=function(t){return Q9(this,Ptt),new xtt(t,arguments.length>1?eet(arguments[1]):{})};Ptt.constructor=ret,ret.prototype=Ptt,F9({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ret})}}var net,oet=uo,iet=p,aet=w9,set=c,cet=Oi,uet=C,det=an,pet=ii,fet=My,get=Kt,het=cN,met=wg,vet=$o,yet=WY.codeAt,bet=function(t){var e,r,n=[],o=N9(M9(B9(t),k9,"."),".");for(e=0;e<o.length;e++)r=o[e],R9(n,A9(P9,r)?"xn--"+D9(r):r);return z9(n,".")},wet=Po,xet=Ti,Tet=NL,Pet={URLSearchParams:$tt,getState:ytt},ket=Lr,Eet=ket.set,Aet=ket.getterFor("URL"),Cet=Pet.URLSearchParams,Oet=Pet.getState,Iet=set.URL,zet=set.TypeError,Ret=set.parseInt,Met=Math.floor,Net=Math.pow,Bet=uet("".charAt),Let=uet(/./.exec),_et=uet([].join),Det=uet(1.1.toString),Fet=uet([].pop),Uet=uet([].push),jet=uet("".replace),Het=uet([].shift),qet=uet("".split),Vet=uet("".slice),Get=uet("".toLowerCase),Wet=uet([].unshift),Yet="Invalid scheme",Xet="Invalid host",Ket="Invalid port",Jet=/[a-z]/i,$et=/[\d+-.a-z]/i,Zet=/\d/,Qet=/^0x/i,trt=/^[0-7]+$/,ert=/^\d+$/,rrt=/^[\da-f]+$/i,nrt=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ort=/[\0\t\n\r #/:<>?@[\\\]^|]/,irt=/^[\u0000-\u0020]+/,art=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,srt=/[\t\n\r]/g,lrt=function(t){var e,r,n,o;if("number"==typeof t){for(e=[],r=0;r<4;r++)Wet(e,t%256),t=Met(t/256);return _et(e,".")}if("object"==typeof t){for(e="",n=function(t){for(var e=null,r=1,n=null,o=0,i=0;i<8;i++)0!==t[i]?(o>r&&(e=n,r=o),n=null,o=0):(null===n&&(n=i),++o);return o>r?n:e}(t),r=0;r<8;r++)o&&0===t[r]||(o&&(o=!1),n===r?(e+=r?":":"::",o=!0):(e+=Det(t[r],16),r<7&&(e+=":")));return"["+e+"]"}return t},crt={},urt=het({},crt,{" ":1,'"':1,"<":1,">":1,"`":1}),drt=het({},urt,{"#":1,"?":1,"{":1,"}":1}),prt=het({},drt,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),frt=function(t,e){var r=yet(t,0);return r>32&&r<127&&!get(e,t)?t:encodeURIComponent(t)},grt={ftp:21,file:null,http:80,https:443,ws:80,wss:443},hrt=function(t,e){var r;return 2===t.length&&Let(Jet,Bet(t,0))&&(":"===(r=Bet(t,1))||!e&&"|"===r)},mrt=function(t){var e;return t.length>1&&hrt(Vet(t,0,2))&&(2===t.length||"/"===(e=Bet(t,2))||"\\"===e||"?"===e||"#"===e)},vrt=function(t){return"."===t||"%2e"===Get(t)},yrt=function(t){return".."===(t=Get(t))||"%2e."===t||".%2e"===t||"%2e%2e"===t},brt={},wrt={},xrt={},Trt={},Prt={},krt={},Srt={},Ert={},Art={},Crt={},Ort={},Irt={},zrt={},Rrt={},Mrt={},Nrt={},Brt={},Lrt={},_rt={},Drt={},Frt={},Urt=function(t,e,r){var n,o,i,a=wet(t);if(e){if(o=this.parse(a))throw new zet(o);this.searchParams=null}else{if(void 0!==r&&(n=new Urt(r,!0)),o=this.parse(a,null,n))throw new zet(o);(i=Oet(new Cet)).bindURL(this),this.searchParams=i}};Urt.prototype={type:"URL",parse:function(t,e,r){var n,o,i,a,s=this,l=e||brt,c=0,u="",d=!1,p=!1,f=!1;for(t=wet(t),e||(s.scheme="",s.username="",s.password="",s.host=null,s.port=null,s.path=[],s.query=null,s.fragment=null,s.cannotBeABaseURL=!1,t=jet(t,irt,""),t=jet(t,art,"$1")),t=jet(t,srt,""),n=met(t);c<=n.length;){switch(o=n[c],l){case brt:if(!o||!Let(Jet,o)){if(e)return Yet;l=xrt;continue}u+=Get(o),l=wrt;break;case wrt:if(o&&(Let($et,o)||"+"===o||"-"===o||"."===o))u+=Get(o);else{if(":"!==o){if(e)return Yet;u="",l=xrt,c=0;continue}if(e&&(s.isSpecial()!==get(grt,u)||"file"===u&&(s.includesCredentials()||null!==s.port)||"file"===s.scheme&&!s.host))return;if(s.scheme=u,e)return void(s.isSpecial()&&grt[s.scheme]===s.port&&(s.port=null));u="","file"===s.scheme?l=Rrt:s.isSpecial()&&r&&r.scheme===s.scheme?l=Trt:s.isSpecial()?l=Ert:"/"===n[c+1]?(l=Prt,c++):(s.cannotBeABaseURL=!0,Uet(s.path,""),l=_rt)}break;case xrt:if(!r||r.cannotBeABaseURL&&"#"!==o)return Yet;if(r.cannotBeABaseURL&&"#"===o){s.scheme=r.scheme,s.path=vet(r.path),s.query=r.query,s.fragment="",s.cannotBeABaseURL=!0,l=Frt;break}l="file"===r.scheme?Rrt:krt;continue;case Trt:if("/"!==o||"/"!==n[c+1]){l=krt;continue}l=Art,c++;break;case Prt:if("/"===o){l=Crt;break}l=Lrt;continue;case krt:if(s.scheme=r.scheme,o===net)s.username=r.username,s.password=r.password,s.host=r.host,s.port=r.port,s.path=vet(r.path),s.query=r.query;else if("/"===o||"\\"===o&&s.isSpecial())l=Srt;else if("?"===o)s.username=r.username,s.password=r.password,s.host=r.host,s.port=r.port,s.path=vet(r.path),s.query="",l=Drt;else{if("#"!==o){s.username=r.username,s.password=r.password,s.host=r.host,s.port=r.port,s.path=vet(r.path),s.path.length--,l=Lrt;continue}s.username=r.username,s.password=r.password,s.host=r.host,s.port=r.port,s.path=vet(r.path),s.query=r.query,s.fragment="",l=Frt}break;case Srt:if(!s.isSpecial()||"/"!==o&&"\\"!==o){if("/"!==o){s.username=r.username,s.password=r.password,s.host=r.host,s.port=r.port,l=Lrt;continue}l=Crt}else l=Art;break;case Ert:if(l=Art,"/"!==o||"/"!==Bet(u,c+1))continue;c++;break;case Art:if("/"!==o&&"\\"!==o){l=Crt;continue}break;case Crt:if("@"===o){d&&(u="%40"+u),d=!0,i=met(u);for(var g=0;g<i.length;g++){var h=i[g];if(":"!==h||f){var m=frt(h,prt);f?s.password+=m:s.username+=m}else f=!0}u=""}else if(o===net||"/"===o||"?"===o||"#"===o||"\\"===o&&s.isSpecial()){if(d&&""===u)return"Invalid authority";c-=met(u).length+1,u="",l=Ort}else u+=o;break;case Ort:case Irt:if(e&&"file"===s.scheme){l=Nrt;continue}if(":"!==o||p){if(o===net||"/"===o||"?"===o||"#"===o||"\\"===o&&s.isSpecial()){if(s.isSpecial()&&""===u)return Xet;if(e&&""===u&&(s.includesCredentials()||null!==s.port))return;if(a=s.parseHost(u))return a;if(u="",l=Brt,e)return;continue}"["===o?p=!0:"]"===o&&(p=!1),u+=o}else{if(""===u)return Xet;if(a=s.parseHost(u))return a;if(u="",l=zrt,e===Irt)return}break;case zrt:if(!Let(Zet,o)){if(o===net||"/"===o||"?"===o||"#"===o||"\\"===o&&s.isSpecial()||e){if(""!==u){var v=Ret(u,10);if(v>65535)return Ket;s.port=s.isSpecial()&&v===grt[s.scheme]?null:v,u=""}if(e)return;l=Brt;continue}return Ket}u+=o;break;case Rrt:if(s.scheme="file","/"===o||"\\"===o)l=Mrt;else{if(!r||"file"!==r.scheme){l=Lrt;continue}switch(o){case net:s.host=r.host,s.path=vet(r.path),s.query=r.query;break;case"?":s.host=r.host,s.path=vet(r.path),s.query="",l=Drt;break;case"#":s.host=r.host,s.path=vet(r.path),s.query=r.query,s.fragment="",l=Frt;break;default:mrt(_et(vet(n,c),""))||(s.host=r.host,s.path=vet(r.path),s.shortenPath()),l=Lrt;continue}}break;case Mrt:if("/"===o||"\\"===o){l=Nrt;break}r&&"file"===r.scheme&&!mrt(_et(vet(n,c),""))&&(hrt(r.path[0],!0)?Uet(s.path,r.path[0]):s.host=r.host),l=Lrt;continue;case Nrt:if(o===net||"/"===o||"\\"===o||"?"===o||"#"===o){if(!e&&hrt(u))l=Lrt;else if(""===u){if(s.host="",e)return;l=Brt}else{if(a=s.parseHost(u))return a;if("localhost"===s.host&&(s.host=""),e)return;u="",l=Brt}continue}u+=o;break;case Brt:if(s.isSpecial()){if(l=Lrt,"/"!==o&&"\\"!==o)continue}else if(e||"?"!==o)if(e||"#"!==o){if(o!==net&&(l=Lrt,"/"!==o))continue}else s.fragment="",l=Frt;else s.query="",l=Drt;break;case Lrt:if(o===net||"/"===o||"\\"===o&&s.isSpecial()||!e&&("?"===o||"#"===o)){if(yrt(u)?(s.shortenPath(),"/"===o||"\\"===o&&s.isSpecial()||Uet(s.path,"")):vrt(u)?"/"===o||"\\"===o&&s.isSpecial()||Uet(s.path,""):("file"===s.scheme&&!s.path.length&&hrt(u)&&(s.host&&(s.host=""),u=Bet(u,0)+":"),Uet(s.path,u)),u="","file"===s.scheme&&(o===net||"?"===o||"#"===o))for(;s.path.length>1&&""===s.path[0];)Het(s.path);"?"===o?(s.query="",l=Drt):"#"===o&&(s.fragment="",l=Frt)}else u+=frt(o,drt);break;case _rt:"?"===o?(s.query="",l=Drt):"#"===o?(s.fragment="",l=Frt):o!==net&&(s.path[0]+=frt(o,crt));break;case Drt:e||"#"!==o?o!==net&&("'"===o&&s.isSpecial()?s.query+="%27":s.query+="#"===o?"%23":frt(o,crt)):(s.fragment="",l=Frt);break;case Frt:o!==net&&(s.fragment+=frt(o,urt))}c++}},parseHost:function(t){var e,r,n;if("["===Bet(t,0)){if("]"!==Bet(t,t.length-1))return Xet;if(e=function(t){var e,r,n,o,i,a,s,l=[0,0,0,0,0,0,0,0],c=0,u=null,d=0,p=function(){return Bet(t,d)};if(":"===p()){if(":"!==Bet(t,1))return;d+=2,u=++c}for(;p();){if(8===c)return;if(":"!==p()){for(e=r=0;r<4&&Let(rrt,p());)e=16*e+Ret(p(),16),d++,r++;if("."===p()){if(0===r)return;if(d-=r,c>6)return;for(n=0;p();){if(o=null,n>0){if(!("."===p()&&n<4))return;d++}if(!Let(Zet,p()))return;for(;Let(Zet,p());){if(i=Ret(p(),10),null===o)o=i;else{if(0===o)return;o=10*o+i}if(o>255)return;d++}l[c]=256*l[c]+o,2!==++n&&4!==n||c++}if(4!==n)return;break}if(":"===p()){if(d++,!p())return}else if(p())return;l[c++]=e}else{if(null!==u)return;d++,u=++c}}if(null!==u)for(a=c-u,c=7;0!==c&&a>0;)s=l[c],l[c--]=l[u+a-1],l[u+--a]=s;else if(8!==c)return;return l}(Vet(t,1,-1)),!e)return Xet;this.host=e}else if(this.isSpecial()){if(t=bet(t),Let(nrt,t))return Xet;if(e=function(t){var e,r,n,o,i,a,s,l=qet(t,".");if(l.length&&""===l[l.length-1]&&l.length--,(e=l.length)>4)return t;for(r=[],n=0;n<e;n++){if(""===(o=l[n]))return t;if(i=10,o.length>1&&"0"===Bet(o,0)&&(i=Let(Qet,o)?16:8,o=Vet(o,8===i?1:2)),""===o)a=0;else{if(!Let(10===i?ert:8===i?trt:rrt,o))return t;a=Ret(o,i)}Uet(r,a)}for(n=0;n<e;n++)if(a=r[n],n===e-1){if(a>=Net(256,5-e))return null}else if(a>255)return null;for(s=Fet(r),n=0;n<r.length;n++)s+=r[n]*Net(256,3-n);return s}(t),null===e)return Xet;this.host=e}else{if(Let(ort,t))return Xet;for(e="",r=met(t),n=0;n<r.length;n++)e+=frt(r[n],crt);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return get(grt,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;!e||"file"===this.scheme&&1===e&&hrt(t[0],!0)||t.length--},serialize:function(){var t=this,e=t.scheme,r=t.username,n=t.password,o=t.host,i=t.port,a=t.path,s=t.query,l=t.fragment,c=e+":";return null!==o?(c+="//",t.includesCredentials()&&(c+=r+(n?":"+n:"")+"@"),c+=lrt(o),null!==i&&(c+=":"+i)):"file"===e&&(c+="//"),c+=t.cannotBeABaseURL?a[0]:a.length?"/"+_et(a,"/"):"",null!==s&&(c+="?"+s),null!==l&&(c+="#"+l),c},setHref:function(t){var e=this.parse(t);if(e)throw new zet(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if("blob"===t)try{return new jrt(t.path[0]).origin}catch(t){return"null"}return"file"!==t&&this.isSpecial()?t+"://"+lrt(this.host)+(null!==e?":"+e:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(wet(t)+":",brt)},getUsername:function(){return this.username},setUsername:function(t){var e=met(wet(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<e.length;r++)this.username+=frt(e[r],prt)}},getPassword:function(){return this.password},setPassword:function(t){var e=met(wet(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<e.length;r++)this.password+=frt(e[r],prt)}},getHost:function(){var t=this.host,e=this.port;return null===t?"":null===e?lrt(t):lrt(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,Ort)},getHostname:function(){var t=this.host;return null===t?"":lrt(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,Irt)},getPort:function(){var t=this.port;return null===t?"":wet(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(""===(t=wet(t))?this.port=null:this.parse(t,zrt))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+_et(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,Brt))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){""===(t=wet(t))?this.query=null:("?"===Bet(t,0)&&(t=Vet(t,1)),this.query="",this.parse(t,Drt)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){""!==(t=wet(t))?("#"===Bet(t,0)&&(t=Vet(t,1)),this.fragment="",this.parse(t,Frt)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var jrt=function(t){var e=fet(this,Hrt),r=Tet(arguments.length,1)>1?arguments[1]:void 0,n=Eet(e,new Urt(t,!1,r));iet||(e.href=n.serialize(),e.origin=n.getOrigin(),e.protocol=n.getProtocol(),e.username=n.getUsername(),e.password=n.getPassword(),e.host=n.getHost(),e.hostname=n.getHostname(),e.port=n.getPort(),e.pathname=n.getPathname(),e.search=n.getSearch(),e.searchParams=n.getSearchParams(),e.hash=n.getHash())},Hrt=jrt.prototype,qrt=function(t,e){return{get:function(){return Aet(this)[t]()},set:e&&function(t){return Aet(this)[e](t)},configurable:!0,enumerable:!0}};if(iet&&(pet(Hrt,"href",qrt("serialize","setHref")),pet(Hrt,"origin",qrt("getOrigin")),pet(Hrt,"protocol",qrt("getProtocol","setProtocol")),pet(Hrt,"username",qrt("getUsername","setUsername")),pet(Hrt,"password",qrt("getPassword","setPassword")),pet(Hrt,"host",qrt("getHost","setHost")),pet(Hrt,"hostname",qrt("getHostname","setHostname")),pet(Hrt,"port",qrt("getPort","setPort")),pet(Hrt,"pathname",qrt("getPathname","setPathname")),pet(Hrt,"search",qrt("getSearch","setSearch")),pet(Hrt,"searchParams",qrt("getSearchParams")),pet(Hrt,"hash",qrt("getHash","setHash"))),det(Hrt,"toJSON",function(){return Aet(this).serialize()},{enumerable:!0}),det(Hrt,"toString",function(){return Aet(this).serialize()},{enumerable:!0}),Iet){var Vrt=Iet.createObjectURL,Grt=Iet.revokeObjectURL;Vrt&&det(jrt,"createObjectURL",cet(Vrt,Iet)),Grt&&det(jrt,"revokeObjectURL",cet(Grt,Iet))}xet(jrt,"URL"),oet({global:!0,constructor:!0,forced:!aet,sham:!iet},{URL:jrt});var Wrt=uo,Yrt=d,Xrt=NL,Krt=Po,Jrt=w9,$rt=$("URL"),Zrt=Jrt&&Yrt(function(){$rt.canParse()}),Qrt=Yrt(function(){return 1!==$rt.canParse.length});Wrt({target:"URL",stat:!0,forced:!Zrt||Qrt},{canParse:function(t){var e=Xrt(arguments.length,1),r=Krt(t),n=e<2||void 0===arguments[1]?void 0:Krt(arguments[1]);try{return!!new $rt(r,n)}catch(t){return!1}}});var tnt=uo,ent=NL,rnt=Po,nnt=w9,ont=$("URL");tnt({target:"URL",stat:!0,forced:!nnt},{parse:function(t){var e=ent(arguments.length,1),r=rnt(t),n=e<2||void 0===arguments[1]?void 0:rnt(arguments[1]);try{return new ont(r,n)}catch(t){return null}}});var int=m;uo({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return int(URL.prototype.toString,this)}});var ant=an,snt=C,lnt=Po,cnt=NL,unt=URLSearchParams,dnt=unt.prototype,pnt=snt(dnt.append),fnt=snt(dnt.delete),gnt=snt(dnt.forEach),hnt=snt([].push),mnt=new unt("a=1&a=2&b=3");mnt.delete("a",1),mnt.delete("b",void 0),mnt+""!="a=2"&&ant(dnt,"delete",function(t){var e=arguments.length,r=e<2?void 0:arguments[1];if(e&&void 0===r)return fnt(this,t);var n=[];gnt(this,function(t,e){hnt(n,{key:e,value:t})}),cnt(e,1);for(var o,i=lnt(t),a=lnt(r),s=0,l=0,c=!1,u=n.length;s<u;)o=n[s++],c||o.key===i?(c=!0,fnt(this,o.key)):l++;for(;l<u;)(o=n[l++]).key===i&&o.value===a||pnt(this,o.key,o.value)},{enumerable:!0,unsafe:!0});var vnt=an,ynt=C,bnt=Po,wnt=NL,xnt=URLSearchParams,Tnt=xnt.prototype,Pnt=ynt(Tnt.getAll),knt=ynt(Tnt.has),Snt=new xnt("a=1");!Snt.has("a",2)&&Snt.has("a",void 0)||vnt(Tnt,"has",function(t){var e=arguments.length,r=e<2?void 0:arguments[1];if(e&&void 0===r)return knt(this,t);var n=Pnt(this,t);wnt(e,1);for(var o=bnt(r),i=0;i<n.length;)if(n[i++]===o)return!0;return!1},{enumerable:!0,unsafe:!0});var Ent=p,Ant=C,Cnt=ii,Ont=URLSearchParams.prototype,Int=Ant(Ont.forEach);Ent&&!("size"in Ont)&&Cnt(Ont,"size",{get:function(){var t=0;return Int(this,function(){t++}),t},configurable:!0,enumerable:!0});var znt="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||"undefined"!=typeof global&&global||{},Rnt="URLSearchParams"in znt,Mnt="Symbol"in znt&&"iterator"in Symbol,Nnt="FileReader"in znt&&"Blob"in znt&&function(){try{return new Blob,!0}catch(t){return!1}}(),Bnt="FormData"in znt,Lnt="ArrayBuffer"in znt;if(Lnt)var _nt=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Dnt=ArrayBuffer.isView||function(t){return t&&_nt.indexOf(Object.prototype.toString.call(t))>-1};function Fnt(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function Unt(t){return"string"!=typeof t&&(t=String(t)),t}function jnt(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return Mnt&&(e[Symbol.iterator]=function(){return e}),e}function Hnt(t){this.map={},t instanceof Hnt?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){if(2!=t.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+t.length);this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function qnt(t){if(!t._noBody)return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function Vnt(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function Gnt(t){var e=new FileReader,r=Vnt(e);return e.readAsArrayBuffer(t),r}function Wnt(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function Ynt(){return this.bodyUsed=!1,this._initBody=function(t){var e;this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:Nnt&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:Bnt&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:Rnt&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():Lnt&&Nnt&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=Wnt(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Lnt&&(ArrayBuffer.prototype.isPrototypeOf(t)||Dnt(t))?this._bodyArrayBuffer=Wnt(t):this._bodyText=t=Object.prototype.toString.call(t):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Rnt&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Nnt&&(this.blob=function(){var t=qnt(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=qnt(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(Nnt)return this.blob().then(Gnt);throw new Error("could not read as ArrayBuffer")},this.text=function(){var t=qnt(this);if(t)return t;if(this._bodyBlob)return function(t){var e=new FileReader,r=Vnt(e),n=/charset=([A-Za-z0-9_-]+)/.exec(t.type),o=n?n[1]:"utf-8";return e.readAsText(t,o),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Bnt&&(this.formData=function(){return this.text().then(Jnt)}),this.json=function(){return this.text().then(JSON.parse)},this}Hnt.prototype.append=function(t,e){t=Fnt(t),e=Unt(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},Hnt.prototype.delete=function(t){delete this.map[Fnt(t)]},Hnt.prototype.get=function(t){return t=Fnt(t),this.has(t)?this.map[t]:null},Hnt.prototype.has=function(t){return this.map.hasOwnProperty(Fnt(t))},Hnt.prototype.set=function(t,e){this.map[Fnt(t)]=Unt(e)},Hnt.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},Hnt.prototype.keys=function(){var t=[];return this.forEach(function(e,r){t.push(r)}),jnt(t)},Hnt.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),jnt(t)},Hnt.prototype.entries=function(){var t=[];return this.forEach(function(e,r){t.push([r,e])}),jnt(t)},Mnt&&(Hnt.prototype[Symbol.iterator]=Hnt.prototype.entries);var Xnt=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function Knt(t,e){if(!(this instanceof Knt))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r=(e=e||{}).body;if(t instanceof Knt){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new Hnt(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,r||null==t._bodyInit||(r=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new Hnt(e.headers)),this.method=function(t){var e=t.toUpperCase();return Xnt.indexOf(e)>-1?e:t}(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal||function(){if("AbortController"in znt)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==e.cache&&"no-cache"!==e.cache)){var n=/([?&])_=[^&]*/;if(n.test(this.url))this.url=this.url.replace(n,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function Jnt(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(o))}}),e}function $nt(t,e){if(!(this instanceof $nt))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===e.statusText?"":""+e.statusText,this.headers=new Hnt(e.headers),this.url=e.url||"",this._initBody(t)}Knt.prototype.clone=function(){return new Knt(this,{body:this._bodyInit})},Ynt.call(Knt.prototype),Ynt.call($nt.prototype),$nt.prototype.clone=function(){return new $nt(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Hnt(this.headers),url:this.url})},$nt.error=function(){var t=new $nt(null,{status:200,statusText:""});return t.ok=!1,t.status=0,t.type="error",t};var Znt=[301,302,303,307,308];$nt.redirect=function(t,e){if(-1===Znt.indexOf(e))throw new RangeError("Invalid status code");return new $nt(null,{status:e,headers:{location:t}})};var Qnt,tot,eot=znt.DOMException;try{new eot}catch(t){eot=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},eot.prototype=Object.create(Error.prototype),eot.prototype.constructor=eot}function rot(t,e){return new Promise(function(r,n){var o=new Knt(t,e);if(o.signal&&o.signal.aborted)return n(new eot("Aborted","AbortError"));var i=new XMLHttpRequest;function a(){i.abort()}if(i.onload=function(){var t,e,n={statusText:i.statusText,headers:(t=i.getAllResponseHeaders()||"",e=new Hnt,t.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(t){return 0===t.indexOf("\n")?t.substr(1,t.length):t}).forEach(function(t){var r=t.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();try{e.append(n,o)}catch(t){console.warn("Response "+t.message)}}}),e)};0===o.url.indexOf("file://")&&(i.status<200||i.status>599)?n.status=200:n.status=i.status,n.url="responseURL"in i?i.responseURL:n.headers.get("X-Request-URL");var a="response"in i?i.response:i.responseText;setTimeout(function(){r(new $nt(a,n))},0)},i.onerror=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},i.ontimeout=function(){setTimeout(function(){n(new TypeError("Network request timed out"))},0)},i.onabort=function(){setTimeout(function(){n(new eot("Aborted","AbortError"))},0)},i.open(o.method,function(t){try{return""===t&&znt.location.href?znt.location.href:t}catch(e){return t}}(o.url),!0),"include"===o.credentials?i.withCredentials=!0:"omit"===o.credentials&&(i.withCredentials=!1),"responseType"in i&&(Nnt?i.responseType="blob":Lnt&&(i.responseType="arraybuffer")),e&&"object"==typeof e.headers&&!(e.headers instanceof Hnt||znt.Headers&&e.headers instanceof znt.Headers)){var s=[];Object.getOwnPropertyNames(e.headers).forEach(function(t){s.push(Fnt(t)),i.setRequestHeader(t,Unt(e.headers[t]))}),o.headers.forEach(function(t,e){-1===s.indexOf(e)&&i.setRequestHeader(e,t)})}else o.headers.forEach(function(t,e){i.setRequestHeader(e,t)});o.signal&&(o.signal.addEventListener("abort",a),i.onreadystatechange=function(){4===i.readyState&&o.signal.removeEventListener("abort",a)}),i.send(void 0===o._bodyInit?null:o._bodyInit)})}rot.polyfill=!0,znt.fetch||(znt.fetch=rot,znt.Headers=Hnt,znt.Request=Knt,znt.Response=$nt),function(){function t(t){return void 0===t?0:Number(t)}function e(t,e){return t!==e&&!(isNaN(t)&&isNaN(e))}self.DOMRect=function(r,n,o,i){var a,s,l,c,u,d,p,f;a=t(r),s=t(n),l=t(o),c=t(i),Object.defineProperties(this,{x:{get:function(){return a},set:function(t){e(a,t)&&(a=t,u=d=void 0)},enumerable:!0},y:{get:function(){return s},set:function(t){e(s,t)&&(s=t,p=f=void 0)},enumerable:!0},width:{get:function(){return l},set:function(t){e(l,t)&&(l=t,u=d=void 0)},enumerable:!0},height:{get:function(){return c},set:function(t){e(c,t)&&(c=t,p=f=void 0)},enumerable:!0},left:{get:function(){return void 0===u&&(u=a+Math.min(0,l)),u},enumerable:!0},right:{get:function(){return void 0===d&&(d=a+Math.max(0,l)),d},enumerable:!0},top:{get:function(){return void 0===p&&(p=s+Math.min(0,c)),p},enumerable:!0},bottom:{get:function(){return void 0===f&&(f=s+Math.max(0,c)),f},enumerable:!0}})}}(),function(){if(!("navigate"in window)){var t={37:"left",38:"up",39:"right",40:"down"},e=null,r=null,o={element:null,rect:null},i=null;window.navigate=c,window.Element.prototype.spatialNavigationSearch=g,window.Element.prototype.focusableAreas=w,window.Element.prototype.getSpatialNavigationContainer=y,window.CSS&&CSS.registerProperty&&(""===window.getComputedStyle(document.documentElement).getPropertyValue("--spatial-navigation-contain")&&CSS.registerProperty({name:"--spatial-navigation-contain",syntax:"auto | contain",inherits:!1,initialValue:"auto"}),""===window.getComputedStyle(document.documentElement).getPropertyValue("--spatial-navigation-action")&&CSS.registerProperty({name:"--spatial-navigation-action",syntax:"auto | focus | scroll",inherits:!1,initialValue:"auto"}),""===window.getComputedStyle(document.documentElement).getPropertyValue("--spatial-navigation-function")&&CSS.registerProperty({name:"--spatial-navigation-function",syntax:"normal | grid",inherits:!1,initialValue:"normal"})),J(!1),window.addEventListener("load",()=>{l()})}function s(t,e){if(!t)return null;try{return window.getComputedStyle(t,e||null)}catch(t){return null}}function l(){window.addEventListener("keydown",n=>{if(!(window.TizenPortal&&window.TizenPortal.input&&window.TizenPortal.input.isPointerMode&&window.TizenPortal.input.isPointerMode())){var o=null;try{parent&&parent!==window&&parent.__spatialNavigation__&&(o=parent.__spatialNavigation__.keyMode)}catch(t){}var i=o||window.__spatialNavigation__&&window.__spatialNavigation__.keyMode,a=document.activeElement,s=t[n.keyCode];if(9===n.keyCode&&(r=null),!(!i||"NONE"===i||"SHIFTARROW"===i&&!n.shiftKey||"ARROW"===i&&n.shiftKey||n.defaultPrevented)){var l={left:!0,up:!0,right:!0,down:!0};"INPUT"!==a.nodeName&&"TEXTAREA"!==a.nodeName||(l=function(e){var r=["email","date","month","number","time","week"],n=["password","text","search","tel","url",null],o=document.activeElement,i=o.selectionStart,a=o.selectionEnd,s={left:!1,up:!1,right:!1,down:!1},l=t[e.keyCode];if(void 0===l)return s;(!r.includes(o.getAttribute("type"))||"up"!==l&&"down"!==l)&&(n.includes(o.getAttribute("type"))||"TEXTAREA"===o.nodeName)?i===a&&(0===i&&(s.left=!0,s.up=!0),a===o.value.length&&(s.right=!0,s.down=!0)):s[l]=!0;return s}(n)),l[s]&&(n.preventDefault(),e=new Map,c(s),e=null,r=null)}}}),document.addEventListener("mouseup",t=>{r={x:t.clientX,y:t.clientY}}),window.addEventListener("focusin",t=>{t.target!==window&&(o.element=t.target,o.rect=t.target.getBoundingClientRect())})}function c(t){var e=function(){var t=document.activeElement;if(!t||t===document.body&&!document.querySelector(":focus")){if(o.element&&t!==o.element){var e=s(o.element);if(e){var r=["hidden","collapse"];if(o.element.disabled||r.includes(e.getPropertyValue("visibility")))return t=o.element}}t=document.documentElement}if(o.element)try{0!==K(o.element).height&&0!==K(o.element).width||(i=o.rect)}catch(t){}if(!M(t)){var n=b(t);if(n&&(n===window||"auto"===P(n)))return n}return t}(),n=e,a=null;r&&(null===(a=document.elementFromPoint(r.x,r.y))&&(a=document.body),N(a)&&!E(a)?r=null:n=E(a)?a:a.getSpatialNavigationContainer()),n!==document&&n!==document.documentElement||(n=document.body||document.documentElement);var l=null;if((E(n)||"BODY"===n.nodeName)&&"INPUT"!==n.nodeName){"IFRAME"===n.nodeName&&(n=n.contentDocument.documentElement),l=n;if(document.activeElement===e||document.activeElement===document.body&&e===document.documentElement){if("scroll"===P(n)){if(d(n,t))return}else if("focus"===P(n)){if(u(n.spatialNavigationSearch(t,{container:n,candidates:p(n,{mode:"all"})}),t))return}else if("auto"===P(n)&&(u(n.spatialNavigationSearch(t,{container:n}),t)||d(n,t)))return}else l=l.getSpatialNavigationContainer()}var c=(l=n.getSpatialNavigationContainer()).parentElement?l.getSpatialNavigationContainer():null;if("scroll"===P(l)){if(d(l,t))return}else"focus"===P(l)?k(n,l,c,t,"all"):"auto"===P(l)&&k(n,l,c,t,"visible")}function u(t,e){if(t){if(!x("beforefocus",t,null,e))return!0;var n=t.getSpatialNavigationContainer();return n!==window&&"focus"===P(n)?t.focus():t.focus({preventScroll:!0}),r=null,!0}return!1}function d(t,e){return O(t,e)&&!R(t,e)?(S(t,e),!0):!t.parentElement&&!z(t,e)&&(S(t.ownerDocument.documentElement,e),!0)}function p(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{mode:"visible"},r=[];if(t.childElementCount>0){t.parentElement||(t=t.getElementsByTagName("body")[0]||document.body);var o,i=n(t.children);try{for(i.s();!(o=i.n()).done;){var a=o.value;A(a)?r.push(a):N(a)?(r.push(a),!E(a)&&a.childElementCount&&(r=r.concat(p(a,{mode:"all"})))):a.childElementCount&&(r=r.concat(p(a,{mode:"all"})))}}catch(t){i.e(t)}finally{i.f()}}return"all"===e.mode?r:r.filter(B)}function f(t,e,r,n){var o=t;return n=n||o.getSpatialNavigationContainer(),h(o,r=!r||r.length<=0?p(n):r,e,n)}function g(t,e){var n,o=this,a=[],s=[],l=function(t){var e=t.getSpatialNavigationContainer(),r=e.focusableAreas(),n=[];return r.forEach(e=>{t!==e&&L(e,t)&&n.push(e)}),n}(o);e||(e={});var c=o.getSpatialNavigationContainer(),u=p(c),d=e.container||c;e.container&&c.contains(e.container)&&(u=u.concat(p(d)));var g=e.candidates&&e.candidates.length>0?e.candidates.filter(t=>d.contains(t)):u.filter(t=>d.contains(t)&&d!==t);if(g&&g.length>0){g.forEach(t=>{t!==o&&(o.contains(t)&&o!==t?a:s).push(t)});var h=l.filter(t=>!a.includes(t)),y=g.filter(t=>E(t)&&L(o,t)).map(t=>t.focusableAreas()).flat().filter(t=>t!==o);if(a=a.concat(h).filter(t=>d.contains(t)),(s=s.concat(y).filter(t=>d.contains(t))).length>0&&(s=f(o,t,s,d)),i&&(n=m(o,f(o,t,a,d),t)),a&&a.length>0&&"INPUT"!==o.nodeName&&(n=function(t,e,n){return v(t,e,n,r?q:V)}(o,a,t)),(n=n||m(o,s,t))&&A(n)){var b=p(n,{mode:"all"}),w=b.length>0?o.spatialNavigationSearch(t,{candidates:b,container:n}):null;w?n=w:N(n)||(g.splice(g.indexOf(n),1),n=g.length?o.spatialNavigationSearch(t,{candidates:g,container:d}):null)}return n}return null}function h(t,e,r,n){var o,a=t.getSpatialNavigationContainer();return void 0===r?e:(o=a.parentElement&&n!==a&&!B(t)?K(a):i||K(t),!E(t)&&"BODY"!==t.nodeName||"INPUT"===t.nodeName?e.filter(e=>{var i=K(e),a="IFRAME"===e.nodeName?e.contentDocument.body:null;return n.contains(e)&&e!==t&&a!==t&&F(i,o,r)&&!D(o,i)}):e.filter(e=>{var i=K(e);return n.contains(e)&&(t.contains(e)&&D(o,i)&&e!==t||F(i,o,r))}))}function m(t,e,r){var n,o,a=s(t.getSpatialNavigationContainer()),l=a?a.getPropertyValue("--spatial-navigation-function"):"normal",c=i||K(t);if("grid"===l)(o=e.filter(t=>H(c,K(t),r))).length>0&&(e=o),n=Y;else n=G;return v(t,e,r,n)}function v(t,e,r,n){var o=null;!function(){try{return window.self!==window.top}catch(t){return!0}}()||"BODY"!==t.nodeName&&"HTML"!==t.nodeName?o=i||t.getBoundingClientRect():window.frameElement?((o=window.frameElement.getBoundingClientRect()).x=0,o.y=0):o=i||t.getBoundingClientRect();var a=Number.POSITIVE_INFINITY,s=[];if(e)for(var l=0;l<e.length;l++){var c=n(o,K(e[l]),r);c<a?(a=c,s=[e[l]]):c===a&&s.push(e[l])}return 0===s.length?null:s.length>1&&n===Y?v(t,s,r,W):s[0]}function y(){var t=this;do{if(!t.parentElement){t=window.document.documentElement;break}t=t.parentElement}while(!E(t));return t}function b(t){var e=t;do{if(!e.parentElement){e=window.document.documentElement;break}e=e.parentElement}while(!C(e)||!B(e));return e!==document&&e!==document.documentElement||(e=window),e}function w(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{mode:"visible"},e=this.parentElement?this:document.body,r=Array.prototype.filter.call(e.getElementsByTagName("*"),N);return"all"===t.mode?r:r.filter(B)}function x(t,e,r,n){if(["beforefocus","notarget"].includes(t)){var o=new CustomEvent("nav"+t,{bubbles:!0,cancelable:!0,detail:{causedTarget:r,dir:n}});return e.dispatchEvent(o)}}function T(t,e){return t.style.getPropertyValue(`--${e}`).trim()}function P(t){return T(t,"spatial-navigation-action")||"auto"}function k(t,e,r,n,o){for(var i={candidates:p(e,{mode:o}),container:e};r;){if(u(t.spatialNavigationSearch(n,i),n))return;if("visible"===o&&d(e,n))return;if(!x("notarget",e,t,n))return;e===document||e===document.documentElement||(e=r),i={candidates:p(e,{mode:o}),container:e};var a=e.getSpatialNavigationContainer();r=a!==e?a:null}i={candidates:p(e,{mode:o}),container:e},!r&&e&&u(t.spatialNavigationSearch(n,i),n)||x("notarget",i.container,t,n)&&("auto"!==P(e)||"visible"!==o||d(e,n))}function S(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(t)switch(e){case"left":t.scrollLeft-=40+r;break;case"right":t.scrollLeft+=40+r;break;case"up":t.scrollTop-=40+r;break;case"down":t.scrollTop+=40+r}}function E(t){return!t.parentElement||"IFRAME"===t.nodeName||C(t)||function(t){return"contain"===T(t,"spatial-navigation-contain")}(t)}function A(t){return"delegable"===T(t,"spatial-navigation-contain")}function C(t){var e=s(t);if(!e)return!1;var r=e.getPropertyValue("overflow-x"),n=e.getPropertyValue("overflow-y");return!!("visible"!==r&&"clip"!==r&&I(t,"left")||"visible"!==n&&"clip"!==n&&I(t,"down"))}function O(t,e){if(t&&"object"===a(t)){if(e&&"string"==typeof e){if(I(t,e)){var r=s(t);if(!r)return!1;var n=r.getPropertyValue("overflow-x"),o=r.getPropertyValue("overflow-y");switch(e){case"left":case"right":return"visible"!==n&&"clip"!==n&&"hidden"!==n;case"up":case"down":return"visible"!==o&&"clip"!==o&&"hidden"!==o}}return!1}return"HTML"===t.nodeName||"BODY"===t.nodeName||C(t)&&I(t)}}function I(t,e){if(t&&"object"===a(t)){if(!e||"string"!=typeof e)return t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight;switch(e){case"left":case"right":return t.scrollWidth>t.clientWidth;case"up":case"down":return t.scrollHeight>t.clientHeight}return!1}}function z(t,e){var r=!1;switch(e){case"left":r=0===t.scrollLeft;break;case"right":r=t.scrollWidth-t.scrollLeft-t.clientWidth===0;break;case"up":r=0===t.scrollTop;break;case"down":r=t.scrollHeight-t.scrollTop-t.clientHeight===0}return r}function R(t,e){if(O(t,e)){var r=t.scrollTop,n=t.scrollLeft,o=t.scrollHeight-t.clientHeight,i=t.scrollWidth-t.clientWidth;switch(e){case"left":return 0===n;case"right":return Math.abs(n-i)<=1;case"up":return 0===r;case"down":return Math.abs(r-o)<=1}}return!1}function M(t){var e,r=K(t);try{e=b(t)}catch(t){return!0}var n=null;return!(!D(n=e!==window?K(e):new DOMRect(0,0,window.innerWidth,window.innerHeight),r)||!D(n,r))}function N(t){return!(t.tabIndex<0||function(t){return"A"===t.tagName&&null===t.getAttribute("href")&&null===t.getAttribute("tabIndex")}(t)||function(t){return!!["BUTTON","INPUT","SELECT","TEXTAREA","OPTGROUP","OPTION","FIELDSET"].includes(t.tagName)&&t.disabled}(t)||function(t){return t.inert&&!t.ownerDocument.documentElement.inert}(t)||!function(t){if(!_(t.parentElement))return!1;if(!_(t)||t.style&&"0"===t.style.opacity)return!1;var e=s(t);return!e||"0px"!==e.height&&"0px"!==e.width}(t))&&(!!(!t.parentElement||O(t)&&I(t)||t.tabIndex>=0)||void 0)}function B(t){return!t.parentElement||_(t)&&function(t){var e=K(t);if("IFRAME"!==t.nodeName&&(e.top<0||e.left<0||e.top>t.ownerDocument.documentElement.clientHeight||e.left>t.ownerDocument.documentElement.clientWidth))return!1;var r=parseInt(t.offsetWidth)/10,n=parseInt(t.offsetHeight)/10;r=isNaN(r)?1:r,n=isNaN(n)?1:n;var o={middle:[(e.left+e.right)/2,(e.top+e.bottom)/2],leftTop:[e.left+r,e.top+n],rightBottom:[e.right-r,e.bottom-n]};for(var i in o){var a=t.ownerDocument.elementFromPoint(...o[i]);if(t===a||t.contains(a))return!0}return!1}(t)}function L(t,e){var r=K(t),n=K(e||t.getSpatialNavigationContainer());return!(r.left<n.left||r.right>n.right||r.top<n.top||r.bottom>n.bottom)}function _(t){if(!t)return!0;var e=s(t);if(!e)return!0;var r=e.getPropertyValue("visibility");return"none"!==e.getPropertyValue("display")&&!["hidden","collapse"].includes(r)}function D(t,e){var r=t.left<=e.right&&t.right>=e.right,n=t.left<=e.left&&t.right>=e.left,o=t.top<=e.top&&t.bottom>=e.top,i=t.top<=e.bottom&&t.bottom>=e.bottom;return(r||n)&&(o||i)}function F(t,e,r){switch(r){case"left":return U(e,t);case"right":return U(t,e);case"up":return j(e,t);case"down":return j(t,e);default:return!1}}function U(t,e){return t.left>=e.right||t.left>=e.left&&t.right>e.right&&t.bottom>e.top&&t.top<e.bottom}function j(t,e){return t.top>=e.bottom||t.top>=e.top&&t.bottom>e.bottom&&t.left<e.right&&t.right>e.left}function H(t,e,r){switch(r){case"left":case"right":return t.bottom>e.top&&t.top<e.bottom;case"up":case"down":return t.right>e.left&&t.left<e.right;default:return!1}}function q(t,e,n){var o=X(n,r,e),i=Math.abs(o.entryPoint.x-o.exitPoint.x),a=Math.abs(o.entryPoint.y-o.exitPoint.y);return Math.sqrt(Math.pow(i,2)+Math.pow(a,2))}function V(t,e,r){var n={left:"right",right:"left",up:"bottom",down:"top"}[r];return Math.abs(t[n]-e[n])}function G(t,e,r){var n,o,i=0,a=0,s=X(r,t,e),l=Math.abs(s.entryPoint.x-s.exitPoint.x),c=Math.abs(s.entryPoint.y-s.exitPoint.y),u=Math.sqrt(Math.pow(l,2)+Math.pow(c,2)),d=function(t,e){var r={width:0,height:0,area:0},n=[Math.max(t.left,e.left),Math.max(t.top,e.top)],o=[Math.min(t.right,e.right),Math.min(t.bottom,e.bottom)];r.width=Math.abs(n[0]-o[0]),r.height=Math.abs(n[1]-o[1]),n[0]>=o[0]||n[1]>=o[1]||(r.area=Math.sqrt(r.width*r.height));return r}(t,e),p=d.area;switch(r){case"left":case"right":H(t,e,r)?a=Math.min(d.height/t.height,1):i=t.height/2,n=30*(c+i),o=5*a;break;case"up":case"down":H(t,e,r)?a=Math.min(d.width/t.width,1):i=t.width/2,n=2*(l+i),o=5*a;break;default:n=0,o=0}return u+n-o-p}function W(t,e,r){var n=X(r,t,e),o=Math.abs(n.entryPoint.x-n.exitPoint.x),i=Math.abs(n.entryPoint.y-n.exitPoint.y);return Math.sqrt(Math.pow(o,2)+Math.pow(i,2))}function Y(t,e,r){var n=X(r,t,e);return"left"===r||"right"===r?Math.abs(n.entryPoint.x-n.exitPoint.x):Math.abs(n.entryPoint.y-n.exitPoint.y)}function X(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"down",e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,o={entryPoint:{x:0,y:0},exitPoint:{x:0,y:0}};if(r){switch(o.exitPoint=e,t){case"left":o.entryPoint.x=n.right;break;case"up":o.entryPoint.y=n.bottom;break;case"right":o.entryPoint.x=n.left;break;case"down":o.entryPoint.y=n.top}switch(t){case"left":case"right":r.y<=n.top?o.entryPoint.y=n.top:r.y<n.bottom?o.entryPoint.y=r.y:o.entryPoint.y=n.bottom;break;case"up":case"down":r.x<=n.left?o.entryPoint.x=n.left:r.x<n.right?o.entryPoint.x=r.x:o.entryPoint.x=n.right}}else{switch(t){case"left":o.exitPoint.x=e.left,o.entryPoint.x=n.right<e.left?n.right:e.left;break;case"up":o.exitPoint.y=e.top,o.entryPoint.y=n.bottom<e.top?n.bottom:e.top;break;case"right":o.exitPoint.x=e.right,o.entryPoint.x=n.left>e.right?n.left:e.right;break;case"down":o.exitPoint.y=e.bottom,o.entryPoint.y=n.top>e.bottom?n.top:e.bottom}switch(t){case"left":case"right":j(e,n)?(o.exitPoint.y=e.top,o.entryPoint.y=n.bottom<e.top?n.bottom:e.top):j(n,e)?(o.exitPoint.y=e.bottom,o.entryPoint.y=n.top>e.bottom?n.top:e.bottom):(o.exitPoint.y=Math.max(e.top,n.top),o.entryPoint.y=o.exitPoint.y);break;case"up":case"down":U(e,n)?(o.exitPoint.x=e.left,o.entryPoint.x=n.right<e.left?n.right:e.left):U(n,e)?(o.exitPoint.x=e.right,o.entryPoint.x=n.left>e.right?n.left:e.right):(o.exitPoint.x=Math.max(e.left,n.left),o.entryPoint.x=o.exitPoint.x)}}return o}function K(t){var r=e&&e.get(t);if(!r)try{var n=t.getBoundingClientRect();r={top:Number(n.top.toFixed(2)),right:Number(n.right.toFixed(2)),bottom:Number(n.bottom.toFixed(2)),left:Number(n.left.toFixed(2)),width:Number(n.width.toFixed(2)),height:Number(n.height.toFixed(2))},e&&e.set(t,r)}catch(t){r={top:0,right:0,bottom:0,left:0,width:0,height:0}}return r}function J(t){var e=window.__spatialNavigation__&&window.__spatialNavigation__.keyMode;window.__spatialNavigation__=!1===t?$():Object.assign($(),function(){function t(t,e){return O(t,e)&&!R(t,e)||!t.parentElement&&!z(t,e)}function e(e,r,n,o){var i=r,a=null;if(i!==document&&i!==document.documentElement||(i=document.body||document.documentElement),(E(i)||"BODY"===i.nodeName)&&"INPUT"!==i.nodeName){"IFRAME"===i.nodeName&&(i=i.contentDocument.body);var s=p(i,o);if(Array.isArray(s)&&s.length>0)return e?f(i,n,s):i.spatialNavigationSearch(n,{candidates:s});if(t(i,n))return e?[]:i}for(var l=i.getSpatialNavigationContainer(),c=l.parentElement?l.getSpatialNavigationContainer():null;c;){var u=h(i,p(l,o),n,l);if(Array.isArray(u)&&u.length>0){if(a=i.spatialNavigationSearch(n,{candidates:u,container:l}))return e?u:a}else{if(t(l,n))return e?[]:i;if(l===document||l===document.documentElement){l=window.document.documentElement,c=null;break}if(N(l)&&(i=l),!(l=c).parentElement){c=null;break}c=l.getSpatialNavigationContainer()}}if(!c&&l){var d=h(i,p(l,o),n,l);if(Array.isArray(d)&&d.length>0&&(a=i.spatialNavigationSearch(n,{candidates:d,container:l})))return e?d:a}if(t(l,n))return i}return{isContainer:E,isScrollContainer:C,isVisibleInScroller:M,findCandidates:e.bind(null,!0),findNextTarget:e.bind(null,!1),getDistanceFromTarget:(t,e,r)=>(E(t)||"BODY"===t.nodeName)&&"INPUT"!==t.nodeName&&p(t).includes(e)?V(K(t),K(e),r):G(K(t),K(e),r)}}()),window.__spatialNavigation__.keyMode=e,Object.seal(window.__spatialNavigation__)}function $(){return{enableExperimentalAPIs:J,get keyMode(){return this._keymode?this._keymode:"ARROW"},set keyMode(t){this._keymode=["SHIFTARROW","ARROW","NONE"].includes(t)?t:"ARROW"},setStartingPoint:function(t,e){r=t&&e?{x:t,y:e}:null}}}}(),
/**
   * Spatial Navigation Library
   * 
   * A deterministic, geometry-based spatial navigation library for TV UIs,
   * set-top boxes, and keyboard/remote interfaces.
   * 
   * Supports two global navigation modes:
   * 1. "geometric"   - Strict axis-aligned filtering with Euclidean scoring
   * 2. "directional" - Cone-based, human-expectation-aligned navigation
   * 
   * @version 1.0.0
   * @license MIT
   */
Qnt="undefined"!=typeof self?self:"undefined"!=typeof window?window:{},tot=function(){var t={mode:"geometric",coneAngle:30,primaryWeight:1,secondaryWeight:.5,overlapBonus:!0,overlapWeight:5,rowColumnBias:!0,alignmentWeight:5,scrollBehavior:"focus",fallback:"none",orthogonalWeightLR:30,orthogonalWeightUD:2},e=Object.assign({},t);function r(t){if(!t||!t.getBoundingClientRect)return{top:0,right:0,bottom:0,left:0,width:0,height:0};var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,centerX:e.left+e.width/2,centerY:e.top+e.height/2}}function n(t){if(!t)return!1;var e=window.getComputedStyle(t);if("none"===e.display||"hidden"===e.visibility)return!1;var n=r(t);return n.width>0&&n.height>0}function o(t){if(!t||!n(t))return!1;var e=t.getAttribute("tabindex");if(e&&"-1"!==e)return!0;var r=t.tagName.toLowerCase();return!("a"!==r||!t.hasAttribute("href"))||"button"===r&&!t.disabled||"input"===r&&!t.disabled||"select"===r&&!t.disabled||"textarea"===r&&!t.disabled}function i(t,e,n){for(var o=r(t),i=[],a=0;a<e.length;a++){var s=e[a];if(s!==t){var l=r(s),c=!1;switch(n){case"left":c=l.centerX<o.centerX;break;case"right":c=l.centerX>o.centerX;break;case"up":c=l.centerY<o.centerY;break;case"down":c=l.centerY>o.centerY}c&&i.push(s)}}return i}function s(t,n,o){var i,a,s,l=r(t),c=e.coneAngle,u=c*Math.PI/180,d=[];switch(o){case"left":i=l.left,a=l.centerY,s="x";break;case"right":i=l.right,a=l.centerY,s="x";break;case"up":i=l.centerX,a=l.top,s="y";break;case"down":i=l.centerX,a=l.bottom,s="y"}for(var p=0;p<n.length;p++){var f=n[p];if(f!==t){var g=r(f),h=g.centerX-i,m=g.centerY-a,v=!1;switch(o){case"left":v=h<0;break;case"right":v=h>0;break;case"up":v=m<0;break;case"down":v=m>0}v&&("x"===s?Math.abs(Math.atan2(m,Math.abs(h))):Math.abs(Math.atan2(h,Math.abs(m))))<=u&&d.push(f)}}return d}function l(t,n,o){var i=r(t),a=r(n),s=function(t,e,r){var n={x:0,y:0},o={x:0,y:0};switch(r){case"left":n.x=t.left,o.x=e.right;break;case"right":n.x=t.right,o.x=e.left;break;case"up":n.y=t.top,o.y=e.bottom;break;case"down":n.y=t.bottom,o.y=e.top}return"left"!==r&&"right"!==r||(t.bottom<=e.top?(n.y=t.bottom,o.y=e.top):t.top>=e.bottom?(n.y=t.top,o.y=e.bottom):(n.y=t.centerY,o.y=e.centerY)),"up"!==r&&"down"!==r||(t.right<=e.left?(n.x=t.right,o.x=e.left):t.left>=e.right?(n.x=t.left,o.x=e.right):(n.x=t.centerX,o.x=e.centerX)),{exit:n,entry:o}}(i,a,o),l=Math.abs(s.entry.x-s.exit.x),c=Math.abs(s.entry.y-s.exit.y),u=Math.sqrt(l*l+c*c),d=0,p=0;"left"===o||"right"===o?(d=c,p=e.orthogonalWeightLR):(d=l,p=e.orthogonalWeightUD);var f=d*p,g=0;if("left"===o||"right"===o){var h=Math.max(i.top,a.top),m=Math.min(i.bottom,a.bottom);m>h&&(g=(m-h)/i.height)}else{var v=Math.max(i.left,a.left),y=Math.min(i.right,a.right);y>v&&(g=(y-v)/i.width)}return u+f-g}function c(t,n,o){var i=r(t),a=r(n),s=0,l=0,c=0,u=0;if("left"===o||"right"===o){if(s="right"===o?a.left-i.right:i.left-a.right,s=Math.max(0,s),l=Math.abs(a.centerY-i.centerY),e.overlapBonus){var d=Math.max(i.top,a.top),p=Math.min(i.bottom,a.bottom);p>d&&(c=(p-d)/i.height*e.overlapWeight)}e.rowColumnBias&&(h=Math.abs(a.centerY-i.centerY))<i.height/2&&(u=e.alignmentWeight*(1-h/(i.height/2)))}else{if(s="down"===o?a.top-i.bottom:i.top-a.bottom,s=Math.max(0,s),l=Math.abs(a.centerX-i.centerX),e.overlapBonus){var f=Math.max(i.left,a.left),g=Math.min(i.right,a.right);g>f&&(c=(g-f)/i.width*e.overlapWeight)}var h;e.rowColumnBias&&(h=Math.abs(a.centerX-i.centerX))<i.width/2&&(u=e.alignmentWeight*(1-h/(i.width/2)))}var m=s*e.primaryWeight+l*e.secondaryWeight-c-u;return Math.max(0,m)}function u(t,n,o){return"none"===e.fallback?null:"nearest"===e.fallback?function(t,e){if(0===e.length)return null;for(var n=r(t),o=1/0,i=null,a=0;a<e.length;a++){var s=e[a];if(s!==t){var l=r(s),c=l.centerX-n.centerX,u=l.centerY-n.centerY,d=Math.sqrt(c*c+u*u);d<o&&(o=d,i=s)}}return i}(t,n):"wrap"===e.fallback?function(t,e,n){if(0===e.length)return null;for(var o=r(t),i=null,a=1/0,s=0;s<e.length;s++){var l=e[s];if(l!==t){var c=r(l),u=!1,d=0;switch(n){case"left":u=c.left>o.left,d=-c.left+Math.abs(c.centerY-o.centerY);break;case"right":u=c.right<o.right,d=c.left+Math.abs(c.centerY-o.centerY);break;case"up":u=c.top>o.top,d=-c.top+Math.abs(c.centerX-o.centerX);break;case"down":u=c.bottom<o.bottom,d=c.top+Math.abs(c.centerX-o.centerX)}u&&d<a&&(a=d,i=l)}}return i}(t,n,o):null}function d(t,r,n){if(n=n||{},!t||!r)throw new Error("Origin element and direction are required");if(-1===["left","right","up","down"].indexOf(r))throw new Error("Invalid direction: must be left, right, up, or down");var a,d=n.container||document.body,p=n.candidates;if(!p){var f=d.querySelectorAll('a[href], button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])');p=Array.prototype.filter.call(f,function(e){return o(e)&&e!==t})}if(0===p.length)return null;if(0===(a="geometric"===e.mode?i(t,p,r):s(t,p,r)).length)return"directional"===e.mode?u(t,p,r):null;for(var g="geometric"===e.mode?l:c,h=null,m=1/0,v=0;v<a.length;v++){var y=a[v],b=g(t,y,r);b<m&&(m=b,h=y)}return"directional"===e.mode&&e.scrollBehavior,h}function p(t){for(var e=(t=t||document.body).querySelectorAll('a[href], button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])'),r=0;r<e.length;r++)if(o(e[r]))return e[r];return null}return{configure:function(t){if(!t||"object"!==a(t))throw new TypeError("Configuration options must be an object");if(t.mode&&"geometric"!==t.mode&&"directional"!==t.mode)throw new Error('Invalid mode: must be "geometric" or "directional"');for(var r=["coneAngle","primaryWeight","secondaryWeight","overlapWeight","alignmentWeight","orthogonalWeightLR","orthogonalWeightUD"],n=0;n<r.length;n++){var o=r[n];if(void 0!==t[o]&&"number"!=typeof t[o])throw new TypeError(o+" must be a number")}if(t.scrollBehavior&&"scrollFirst"!==t.scrollBehavior&&"focus"!==t.scrollBehavior)throw new Error('Invalid scrollBehavior: must be "scrollFirst" or "focus"');if(t.fallback&&"none"!==t.fallback&&"nearest"!==t.fallback&&"wrap"!==t.fallback)throw new Error('Invalid fallback: must be "none", "nearest", or "wrap"');return Object.assign(e,t),e},getConfig:function(){return Object.assign({},e)},resetConfig:function(){e=Object.assign({},t)},navigate:function(t,e){var r=document.activeElement;if(!r||r===document.body){var n=p();return!!n&&(n.focus(),!0)}var o=d(r,t,e);return!!o&&(o.focus(),!0)},findNextFocusable:d,findFirstFocusable:p,utils:{getRect:r,isVisible:n,isFocusable:o,filterByDirectionGeometric:i,filterByDirectionCone:s,scoreGeometric:l,scoreDirectional:c,applyFallback:u}}},"function"==typeof define&&define.amd?define([],tot):"object"===("undefined"==typeof module?"undefined":a(module))&&module.exports?module.exports=tot():Qnt.SpatialNavigation=tot();var not=!1;function oot(t,e){if(t||(t="polyfill"),console.log("TizenPortal [Navigation]: Initializing navigation mode:",t),"polyfill"===t)return console.log("TizenPortal [Navigation]: Using spatial-navigation-polyfill"),!0;if("geometric"===t||"directional"===t){if(!function(){if(not)return!0;try{return window.SpatialNavigation&&"function"==typeof window.SpatialNavigation.configure?(not=!0,console.log("TizenPortal [Navigation]: SpatialNavigation library already loaded"),!0):(console.log("TizenPortal [Navigation]: SpatialNavigation library not found, using polyfill"),!1)}catch(t){return console.error("TizenPortal [Navigation]: Failed to initialize SpatialNavigation library:",t),!1}}())return console.warn("TizenPortal [Navigation]: Falling back to polyfill mode"),!1;if("geometric"===t)return function(){if(!window.SpatialNavigation)return console.warn("TizenPortal [Navigation]: Geometric mode requested but library not available, using polyfill"),!1;try{return window.SpatialNavigation.configure({mode:"geometric",fallback:"none"}),console.log("TizenPortal [Navigation]: Configured for geometric mode"),!0}catch(t){return console.error("TizenPortal [Navigation]: Failed to configure geometric mode:",t),!1}}();if("directional"===t)return function(t){if(!window.SpatialNavigation)return console.warn("TizenPortal [Navigation]: Directional mode requested but library not available, using polyfill"),!1;try{var e={mode:"directional",coneAngle:30,primaryWeight:1,secondaryWeight:.5,overlapBonus:!0,rowColumnBias:!0,fallback:"nearest"};return t&&a(t),window.SpatialNavigation.configure(e),console.log("TizenPortal [Navigation]: Configured for directional mode",e),!0}catch(t){return console.error("TizenPortal [Navigation]: Failed to configure directional mode:",t),!1}}(e)}return console.warn('TizenPortal [Navigation]: Unknown mode "'+t+'", using polyfill'),!1}function iot(t,e){var r=null,n=!1;if(e&&e.manifest&&e.manifest.navigationMode){var o=e.manifest.navigationMode;"string"==typeof o?(r=o,n=!1):"object"===a(o)&&(r=o.mode||null,n=!0===o.required)}var i=t&&t.navigationMode?t.navigationMode:null,s=null;if(window.TizenPortal&&window.TizenPortal.config){var l=window.TizenPortal.config.get("tp_features");l&&l.navigationMode&&(s=l.navigationMode)}var c,u=(c=(c={bundleMode:r,bundleRequired:n,siteMode:i,globalMode:s})||{}).bundleRequired&&c.bundleMode?c.bundleMode:c.siteMode&&"null"!==c.siteMode?c.siteMode:c.bundleMode&&!c.bundleRequired?c.bundleMode:c.globalMode||"geometric";console.log("TizenPortal [Navigation]: Applying navigation mode",{bundle:r,bundleRequired:n,site:i,global:s,effective:u}),oot(u)}function aot(){var t="geometric";if(window.TizenPortal&&window.TizenPortal.config){var e=window.TizenPortal.config.get("tp_features");e&&e.navigationMode&&(t=e.navigationMode)}console.log("TizenPortal [Navigation]: Initializing global navigation, mode:",t),oot(t)}function sot(t){return t?String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"):""}function lot(t){if(!t||"string"!=typeof t)return!1;var e=t.toLowerCase().replace(/^\s+/,"");return 0===e.indexOf("http://")||0===e.indexOf("https://")}function cot(t){if(!t||"string"!=typeof t)return null;var e=t.trim();return e?-1!==e.indexOf("://")||/^[a-z][a-z0-9+\-.]*:/i.test(e)?lot(e)?e:null:"https://"+e:null}function uot(t){return!(!t||"string"!=typeof t)&&/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(t)}function dot(t){if(!t||"string"!=typeof t)return"";var e=t;return e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/<\/?style[^>]*>/gi,"/* [blocked] */")).replace(/@import\s+[^;]+;?/gi,"/* [blocked @import] */")).replace(/@charset\s+[^;]+;?/gi,"/* [blocked @charset] */")).replace(/url\s*\([^)]*\)/gi,"/* [blocked url()] */")).replace(/expression\s*\([^)]*\)/gi,"/* [blocked expression()] */")).replace(/-moz-binding\s*:[^;]+;?/gi,"/* [blocked -moz-binding] */")).replace(/behavior\s*:[^;]+;?/gi,"/* [blocked behavior] */")).replace(/javascript\s*:/gi,"/* [blocked] */")).replace(/data\s*:/gi,"/* [blocked] */")}function pot(t,e){try{return localStorage.setItem(t,e),{success:!0,error:null,message:null}}catch(t){return"QuotaExceededError"===t.name?{success:!1,error:"quota",message:"Storage quota exceeded. Consider removing old cards or userscripts."}:{success:!1,error:"unknown",message:t.message}}}function fot(t,e,r){if(!t||!e||"string"!=typeof r)return!1;try{var n=t.getElementById(e);n&&n.parentNode&&n.parentNode.removeChild(n);var o=t.createElement("style");o.id=e,o.textContent=r;var i=t.head||t.documentElement;return!!i&&(i.appendChild(o),!0)}catch(t){return function(){"undefined"!=typeof window&&window.TizenPortal&&"function"==typeof window.TizenPortal.warn?window.TizenPortal.warn.apply(window.TizenPortal,arguments):"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn.apply(console,arguments)}("Failed to inject CSS: "+t.message),!1}}function got(t,e){if(!t||!e)return!1;try{var r=t.getElementById(e);return!(!r||!r.parentNode)&&(r.parentNode.removeChild(r),!0)}catch(t){return"undefined"!=typeof window&&window.TizenPortal&&window.TizenPortal.warn?window.TizenPortal.warn("Failed to remove CSS: "+t.message):console.warn("TizenPortal: Failed to remove CSS: "+t.message),!1}}function hot(t,e,r){return a(t)===e?t:r}function mot(){"undefined"!=typeof window&&window.TizenPortal&&"function"==typeof window.TizenPortal.log?window.TizenPortal.log.apply(window.TizenPortal,arguments):"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}var vot="tp-configuration",yot={pointerMode:!1,safeMode:!1,lastVisitedUrl:null,diagnosticsEnabled:!1,tp_portal:{theme:"dark",customColor1:"#0d1117",customColor2:"#161b22",backgroundImage:"",portalFilter:"glow",portalAccentPosition:"corners",hudPosition:"off",hintsPosition:"bottom-left",showHints:!0},tp_features:{focusStyling:!0,focusOutlineMode:"on",focusTransitions:!0,focusTransitionMode:"slide",focusTransitionSpeed:"medium",tabindexInjection:!0,scrollIntoView:!0,safeArea:!1,gpuHints:!0,cssReset:!0,hideScrollbars:!1,wrapTextInputs:!0,viewportMode:"locked",uaMode:"tizen",textScale:"medium",navigationFix:!0,navigationMode:"geometric"},tp_userscripts:{scripts:[{id:null,name:"Custom Script 1",enabled:!1,url:"",inline:"",cached:"",lastFetched:0}]}},bot=null,wot=[];function xot(){if(null!==bot)return bot;try{var t=localStorage.getItem(vot);if(t){for(var e in bot=JSON.parse(t),yot)yot.hasOwnProperty(e)&&!bot.hasOwnProperty(e)&&(bot[e]=yot[e]);if(bot.tp_features&&yot.tp_features)for(var r in yot.tp_features)yot.tp_features.hasOwnProperty(r)&&!bot.tp_features.hasOwnProperty(r)&&(bot.tp_features[r]=yot.tp_features[r])}else bot=Object.assign({},yot)}catch(t){console.error("TizenPortal: Failed to load config:",t),bot=Object.assign({},yot)}return bot}function Tot(){xot()}function Pot(t){var e=xot();return e.hasOwnProperty(t)?e[t]:void 0}function kot(t,e){var r=xot(),n=r[t],o=!0;"object"===a(e)&&null!==e||n===e&&(o=!1),o&&(r[t]=e,function(){if(null!==bot){var t=pot(vot,JSON.stringify(bot));t.success||("quota"===t.error?console.error("TizenPortal: "+t.message):console.error("TizenPortal: Failed to save config: "+t.message))}}(),function(t,e,r){for(var n={key:t,value:e,oldValue:r},o=0;o<wot.length;o++)try{wot[o](n)}catch(t){console.error("TizenPortal: Config change listener error:",t)}}(t,e,n))}function Sot(t){return"function"!=typeof t?(console.warn("TizenPortal: configOnChange requires a function"),function(){}):(wot.push(t),function(){var e=wot.indexOf(t);-1!==e&&wot.splice(e,1)})}function Eot(t){var e=Pot(t);if(void 0===e&&yot.hasOwnProperty(t))return yot[t];if(e&&"object"===a(e)&&yot.hasOwnProperty(t)&&"object"===a(yot[t])){var r={},n=yot[t];for(var o in n)n.hasOwnProperty(o)&&(r[o]=e.hasOwnProperty(o)?e[o]:n[o]);for(var o in e)e.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(r[o]=e[o]);return r}return e}function Aot(t,e){kot(t,e)}var Cot=!1;function Oot(){var t=!0;if("undefined"!=typeof CSS&&"function"==typeof CSS.supports)try{t=!CSS.supports("width","clamp(1px, 2px, 3px)")}catch(e){t=!0}return!!t&&function(){if(Cot)return!1;try{var t=document.createElement("style");if(t.id="tp-css-compat",t.setAttribute("data-tizen-portal-polyfill","css-compatibility"),t.textContent='/* CSS Compatibility Polyfill for Chrome 47 *//* YouTube browser warning mitigation */[class*="unsupported"],[id*="unsupported"],[class*="browser-update"],[id*="browser-update"]{display:none!important}',document.head)return document.head.appendChild(t),Cot=!0,!0;var e=new MutationObserver(function(){document.head&&(document.head.appendChild(t),Cot=!0,e.disconnect())});return e.observe(document.documentElement,{childList:!0}),!0}catch(t){return"undefined"!=typeof console&&console.warn&&console.warn("[TizenPortal CSS Compat] Failed to apply:",t.message),!1}}()}var Iot=[];function zot(){return Iot=[],Oot()&&Iot.push("CSS-Compatibility"),"function"!=typeof window.DOMRect&&(window.DOMRect=function(t,e,r,n){this.x=t||0,this.y=e||0,this.width=r||0,this.height=n||0,this.top=this.y,this.left=this.x,this.bottom=this.y+this.height,this.right=this.x+this.width},window.DOMRect.prototype.toJSON=function(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.top,left:this.left,bottom:this.bottom,right:this.right}},window.DOMRect.fromRect=function(t){return t=t||{},new window.DOMRect(t.x,t.y,t.width,t.height)},1)&&Iot.push("DOMRect"),"function"!=typeof window.DOMRectReadOnly&&(window.DOMRectReadOnly=function(t,e,r,n){this.x=t||0,this.y=e||0,this.width=r||0,this.height=n||0,this.top=this.y,this.left=this.x,this.bottom=this.y+this.height,this.right=this.x+this.width},window.DOMRectReadOnly.prototype.toJSON=function(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.top,left:this.left,bottom:this.bottom,right:this.right}},window.DOMRectReadOnly.fromRect=function(t){return t=t||{},new window.DOMRectReadOnly(t.x,t.y,t.width,t.height)},1)&&Iot.push("DOMRectReadOnly"),!Element.prototype.matches&&(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),r=e.length;--r>=0&&e.item(r)!==this;);return r>-1},1)&&Iot.push("Element.matches"),!Element.prototype.closest&&(Element.prototype.closest=function(t){for(var e=this;e&&1===e.nodeType;){if(e.matches(t))return e;e=e.parentElement||e.parentNode}return null},1)&&Iot.push("Element.closest"),!Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)},1)&&Iot.push("Element.remove"),"function"!=typeof window.ResizeObserver&&(window.ResizeObserver=function(t){this._callback=t,this._observedElements=[],this._timeoutId=null,this._boundCheck=this._check.bind(this)},window.ResizeObserver.prototype.observe=function(t){if(t&&t instanceof Element){for(var e=0;e<this._observedElements.length;e++)if(this._observedElements[e].target===t)return;var r=t.getBoundingClientRect();this._observedElements.push({target:t,width:r.width,height:r.height});var n=this,o=function(e){setTimeout(function(){if(document.body&&document.body.contains(t))try{var r=t.getBoundingClientRect();if("undefined"!=typeof console&&console.log){var o=t.tagName+(t.id?"#"+t.id:"")+(t.className?"."+String(t.className).split(" ")[0]:"");console.log("[ResizeObserver] "+o+" @ "+e+"ms: "+Math.round(r.width)+"x"+Math.round(r.height)+" (window: "+window.innerWidth+"x"+window.innerHeight+")");var i=document.getElementById("bookshelf");i&&console.log("[ResizeObserver] #bookshelf clientWidth="+i.clientWidth+" offsetWidth="+i.offsetWidth)}for(var a=0;a<n._observedElements.length;a++)if(n._observedElements[a].target===t){n._observedElements[a].width=r.width,n._observedElements[a].height=r.height;break}var s={target:t,contentRect:{x:0,y:0,width:r.width,height:r.height,top:0,right:r.width,bottom:r.height,left:0},borderBoxSize:[{blockSize:r.height,inlineSize:r.width}],contentBoxSize:[{blockSize:r.height,inlineSize:r.width}]};n._callback([s],n)}catch(t){}},e)};o(50),o(200),o(500),this._timeoutId||this._scheduleCheck()}},window.ResizeObserver.prototype.unobserve=function(t){for(var e=0;e<this._observedElements.length;e++)if(this._observedElements[e].target===t){this._observedElements.splice(e,1);break}0===this._observedElements.length&&this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null)},window.ResizeObserver.prototype.disconnect=function(){this._observedElements=[],this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null)},window.ResizeObserver.prototype._scheduleCheck=function(){this._timeoutId=setTimeout(this._boundCheck,100)},window.ResizeObserver.prototype._check=function(){for(var t=[],e=[],r=0;r<this._observedElements.length;r++)(o=this._observedElements[r]).target&&document.body&&document.body.contains(o.target)&&e.push(o);this._observedElements=e;for(var n=0;n<this._observedElements.length;n++){var o=this._observedElements[n];try{var i=o.target.getBoundingClientRect();i.width===o.width&&i.height===o.height||(o.width=i.width,o.height=i.height,t.push({target:o.target,contentRect:{x:0,y:0,width:i.width,height:i.height,top:0,right:i.width,bottom:i.height,left:0},borderBoxSize:[{blockSize:i.height,inlineSize:i.width}],contentBoxSize:[{blockSize:i.height,inlineSize:i.width}]}))}catch(t){}}if(t.length>0)try{this._callback(t,this)}catch(t){}this._observedElements.length>0&&this._scheduleCheck()},1)&&Iot.push("ResizeObserver"),function(){if("function"==typeof window.CustomEvent)return!1;function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:null};var r=document.createEvent("CustomEvent");return r.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),r}return t.prototype=window.Event.prototype,window.CustomEvent=t,!0}()&&Iot.push("CustomEvent"),!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach,1)&&Iot.push("NodeList.forEach"),!Array.prototype.includes&&(Array.prototype.includes=function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var r=Object(this),n=r.length>>>0;if(0===n)return!1;for(var o=0|e,i=Math.max(o>=0?o:n-Math.abs(o),0);i<n;){if(r[i]===t)return!0;i++}return!1},1)&&Iot.push("Array.includes"),!Array.from&&(Array.from=function(t,e,r){var n=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");for(var o,i=n.length>>>0,a="function"==typeof this?Object(new this(i)):new Array(i),s=0;s<i;)o=n[s],a[s]=e?void 0===r?e(o,s):e.call(r,o,s):o,s+=1;return a.length=i,a},1)&&Iot.push("Array.from"),!Array.of&&(Array.of=function(){return Array.prototype.slice.call(arguments)},1)&&Iot.push("Array.of"),!Array.prototype.find&&(Array.prototype.find=function(t,e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var r,n=Object(this),o=n.length>>>0,i=0;i<o;i++)if(r=n[i],t.call(e,r,i,n))return r},1)&&Iot.push("Array.find"),!Array.prototype.findIndex&&(Array.prototype.findIndex=function(t,e){if(null==this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var r,n=Object(this),o=n.length>>>0,i=0;i<o;i++)if(r=n[i],t.call(e,r,i,n))return i;return-1},1)&&Iot.push("Array.findIndex"),!Object.entries&&(Object.entries=function(t){for(var e=Object.keys(t),r=e.length,n=new Array(r);r--;)n[r]=[e[r],t[e[r]]];return n},1)&&Iot.push("Object.entries"),!Object.values&&(Object.values=function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(t[r]);return e},1)&&Iot.push("Object.values"),!Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},1)&&Iot.push("Object.assign"),!String.prototype.startsWith&&(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t},1)&&Iot.push("String.startsWith"),!String.prototype.endsWith&&(String.prototype.endsWith=function(t,e){return(void 0===e||e>this.length)&&(e=this.length),this.substring(e-t.length,e)===t},1)&&Iot.push("String.endsWith"),!String.prototype.repeat&&(String.prototype.repeat=function(t){if(null==this)throw new TypeError("can't convert "+this+" to object");var e=""+this;if((t=+t)!=t&&(t=0),t<0)throw new RangeError("repeat count must be non-negative");if(t==1/0)throw new RangeError("repeat count must be less than infinity");if(t=Math.floor(t),0==e.length||0==t)return"";if(e.length*t>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");for(var r="";t>0;)1&t&&(r+=e),t>>>=1,e+=e;return r},1)&&Iot.push("String.repeat"),!String.prototype.padStart&&(String.prototype.padStart=function(t,e){return t|=0,e=String(void 0!==e?e:" "),this.length>=t?String(this):((t-=this.length)>e.length&&(e+=e.repeat(Math.ceil(t/e.length))),e.slice(0,t)+String(this))},1)&&Iot.push("String.padStart"),!String.prototype.padEnd&&(String.prototype.padEnd=function(t,e){return t|=0,e=String(void 0!==e?e:" "),this.length>=t?String(this):((t-=this.length)>e.length&&(e+=e.repeat(Math.ceil(t/e.length))),String(this)+e.slice(0,t))},1)&&Iot.push("String.padEnd"),!Number.isInteger&&(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},1)&&Iot.push("Number.isInteger"),!Number.isNaN&&(Number.isNaN=function(t){return"number"==typeof t&&t!=t},1)&&Iot.push("Number.isNaN"),!Number.isFinite&&(Number.isFinite=function(t){return"number"==typeof t&&isFinite(t)},1)&&Iot.push("Number.isFinite"),!Promise.prototype.finally&&(Promise.prototype.finally=function(t){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){throw r})})},1)&&Iot.push("Promise.finally"),function(){if("function"==typeof window.AbortController)return!1;function t(){this.aborted=!1,this.onabort=null,this._listeners=[]}return t.prototype.addEventListener=function(t,e){"abort"===t&&"function"==typeof e&&this._listeners.push(e)},t.prototype.removeEventListener=function(t,e){if("abort"===t){var r=this._listeners.indexOf(e);-1!==r&&this._listeners.splice(r,1)}},t.prototype._dispatch=function(){if("function"==typeof this.onabort)try{this.onabort()}catch(t){}for(var t=0;t<this._listeners.length;t++)try{this._listeners[t]()}catch(t){}},window.AbortController=function(){this.signal=new t},window.AbortController.prototype.abort=function(){this.signal.aborted||(this.signal.aborted=!0,this.signal._dispatch())},!0}()&&Iot.push("AbortController"),Iot}var Rot={LEFT:37,UP:38,RIGHT:39,DOWN:40,ENTER:13,BACK:10009,EXIT:10182,RED:403,GREEN:404,YELLOW:405,BLUE:406,PLAY:415,PAUSE:19,PLAY_PAUSE:10252,STOP:413,REWIND:412,FAST_FORWARD:417,TRACK_PREVIOUS:10232,TRACK_NEXT:10233,VOLUME_UP:447,VOLUME_DOWN:448,MUTE:449,CHANNEL_UP:427,CHANNEL_DOWN:428,NUM_0:48,NUM_1:49,NUM_2:50,NUM_3:51,NUM_4:52,NUM_5:53,NUM_6:54,NUM_7:55,NUM_8:56,NUM_9:57,IME_DONE:65376,IME_CANCEL:65385,INFO:457,GUIDE:458,SOURCE:10072,MENU:10133,TOOLS:10135},Mot={short:"addressbar",long:"reload"},Not={short:"pointerMode",long:"focusHighlight"},Bot={short:"preferences",long:"addSite"},Lot={short:"diagnostics",long:"safeMode"},_ot="tp-wrapped",Dot=100;function Fot(t){return t===Rot.RED||t===Rot.GREEN||t===Rot.YELLOW||t===Rot.BLUE}var Uot=[],jot={log:console.log,warn:console.warn,error:console.error,info:console.info},Hot=[];function qot(){console.log=function(){Vot("log",arguments),jot.log.apply(console,arguments)},console.warn=function(){Vot("warn",arguments),jot.warn.apply(console,arguments)},console.error=function(){Vot("error",arguments),jot.error.apply(console,arguments)},console.info=function(){Vot("info",arguments),jot.info.apply(console,arguments)},window.onerror=function(t,e,r,n,o){Vot("error",["Uncaught: "+t,"at",e+":"+r+":"+n])},window.onunhandledrejection=function(t){Vot("error",["Unhandled Promise Rejection:",t.reason])}}function Vot(t,e){var r=function(t){for(var e=[],r=0;r<t.length;r++){var n=t[r];if(null===n)e.push("null");else if(void 0===n)e.push("undefined");else if(n instanceof Error)e.push("["+(n.name||"Error")+": "+(n.message||"(no message)")+"]");else if("object"===a(n))if(n.name&&void 0!==n.message)e.push("["+n.name+": "+n.message+"]");else try{e.push(JSON.stringify(n))}catch(t){e.push("[Object]")}else e.push(String(n))}return e.join(" ")}(e),n={timestamp:Date.now(),level:t,message:r};Uot.push(n),Uot.length>500&&(Uot=Uot.slice(-500));for(var o=0;o<Hot.length;o++)try{Hot[o](n)}catch(t){jot.error("Log listener error:",t)}}function Got(){for(var t=["TizenPortal:"],e=0;e<arguments.length;e++)t.push(arguments[e]);console.log.apply(console,t)}function Wot(){for(var t=["TizenPortal:"],e=0;e<arguments.length;e++)t.push(arguments[e]);console.warn.apply(console,t)}function Yot(){for(var t=["TizenPortal:"],e=0;e<arguments.length;e++)t.push(arguments[e]);console.error.apply(console,t)}var Xot=null,Kot=null,Jot=null,$ot=null,Zot=!1,Qot="hidden",tit="all",eit=["all","log","info","warn","error"];function rit(){var t,e;(document.getElementById("tp-diagnostics")||((t=document.createElement("div")).id="tp-diagnostics",t.innerHTML=['<div id="tp-diagnostics-header">','  <h2>Console <span id="tp-diagnostics-filter"></span></h2>','  <div id="tp-diagnostics-info"></div>',"</div>",'<div id="tp-diagnostics-logs"></div>','<div id="tp-diagnostics-footer">Press BLUE to expand/close | YELLOW to clear | Arrows: Up/Down scroll, Left/Right filter</div>'].join(""),document.body.appendChild(t)),Xot=document.getElementById("tp-diagnostics"),Kot=document.getElementById("tp-diagnostics-logs"),Jot=document.getElementById("tp-diagnostics-info"),$ot=document.getElementById("tp-diagnostics-filter"),Xot&&Kot)?("function"!=typeof(e=function(t){Zot&&fit(t)&&(lit(t),cit())})||Hot.push(e),pit()):console.error("TizenPortal: Diagnostics panel elements not found")}function nit(){Xot&&(Zot=!0,Xot.classList.add("visible"),function(){if(!Jot)return;var t=[];"function"==typeof window.navigate?t.push("SpatNav: OK"):t.push("SpatNav: MISSING");window.__spatialNavigation__&&t.push("KeyMode: "+window.__spatialNavigation__.keyMode);if(window.performance&&window.performance.memory){var e=Math.round(window.performance.memory.usedJSHeapSize/1048576),r=Math.round(window.performance.memory.jsHeapSizeLimit/1048576);t.push("Memory: "+e+"/"+r+"MB")}try{var n=Eot("tp_portal")||{},o=Eot("tp_features")||{},i=[];i.push("Theme="+(n.theme||"dark")),i.push("HUD="+(n.hudPosition||"off")),i.push("View="+(o.viewportMode||"locked")),i.push("FocusMode="+(o.focusOutlineMode||(!1===o.focusStyling?"off":"on"))),i.push("UA="+(o.uaMode||"tizen")),i.push("Wrap="+(!1===o.wrapTextInputs?"off":"on")),i.push("Scroll="+(!1===o.scrollIntoView?"off":"on")),i.push("Safe="+(o.safeArea?"on":"off")),i.push("Focus="+(!1===o.focusStyling?"off":"on")),i.push("Tab="+(!1===o.tabindexInjection?"off":"on")),i.push("CSS="+(!1===o.cssReset?"off":"on")),i.push("Scrollbars="+(o.hideScrollbars?"hidden":"shown")),i.push("GPU="+(!1===o.gpuHints?"off":"on")),t.push("Prefs: "+i.join(","))}catch(t){}try{if(window.TizenPortal&&window.TizenPortal.getState){var a=window.TizenPortal.getState(),s=a&&a.currentCard?a.currentCard:null,l=window.TizenPortal.bundles&&window.TizenPortal.bundles.getActive?window.TizenPortal.bundles.getActive():null;if(s){var c=s.hasOwnProperty("viewportMode")&&s.viewportMode||"global",u=s.hasOwnProperty("focusOutlineMode")&&s.focusOutlineMode||"global",d=s.hasOwnProperty("userAgent")&&s.userAgent||"global";t.push("Card: View="+c+",Focus="+u+",UA="+d)}if(l){var p,f=l.manifest||{};p="force"===f.viewportLock?"force":!0===f.viewportLock?"locked":"inherit",t.push("Bundle: "+(l.name||"unknown")+" (Viewport="+p+")")}}}catch(t){}Jot.textContent=t.join(" | ")}(),pit(),sit(),cit())}function oit(){"hidden"===Qot?(Qot="compact",nit(),function(){if(!Xot)return;Xot.classList.remove("fullscreen"),Xot.classList.add("compact")}()):"compact"===Qot?(Qot="fullscreen",function(){if(!Xot)return;Xot.classList.remove("compact"),Xot.classList.add("fullscreen")}()):(Qot="hidden",Xot&&(Zot=!1,Qot="hidden",Xot.classList.remove("visible","compact","fullscreen")))}function iit(){return Zot}function ait(){Uot=[],Kot&&(Kot.innerHTML=""),console.log("TizenPortal: Logs cleared")}function sit(){if(Kot){Kot.innerHTML="";for(var t=Uot.slice(),e=0;e<t.length;e++)lit(t[e])}}function lit(t){if(Kot&&fit(t)){var e=document.createElement("div");e.className="tp-log-entry";var r,n,o=document.createElement("span");o.className="tp-log-time",o.textContent=(r=t.timestamp,n=new Date(r),(String(n.getHours()).padStart?String(n.getHours()).padStart(2,"0"):("0"+n.getHours()).slice(-2))+":"+(String(n.getMinutes()).padStart?String(n.getMinutes()).padStart(2,"0"):("0"+n.getMinutes()).slice(-2))+":"+(String(n.getSeconds()).padStart?String(n.getSeconds()).padStart(2,"0"):("0"+n.getSeconds()).slice(-2))+"."+(String(n.getMilliseconds()).padStart?String(n.getMilliseconds()).padStart(3,"0"):("00"+n.getMilliseconds()).slice(-3))),e.appendChild(o);var i=document.createElement("span");i.className="tp-log-level "+t.level,i.textContent=t.level.toUpperCase(),e.appendChild(i);var a=document.createElement("span");a.className="tp-log-message",a.textContent=t.message,e.appendChild(a),Kot.appendChild(e)}}function cit(){Kot&&setTimeout(function(){Kot.scrollTop=Kot.scrollHeight},0)}function uit(t){Kot&&(Kot.scrollTop+=t)}function dit(t){var e=eit.indexOf(tit);-1===e&&(e=0),t>0?e=(e+1)%eit.length:t<0&&(e=(e-1+eit.length)%eit.length),tit=eit[e],pit(),sit(),cit()}function pit(){$ot&&($ot.textContent=tit.toUpperCase())}function fit(t){return!!t&&("all"===tit||t.level===tit)}var git=null,hit=null,mit={container:null,display:null,input:null},vit=!1,yit=null;function bit(){document.getElementById("tp-addressbar")||function(){var t=document.createElement("div");t.id="tp-addressbar",t.className="tp-addressbar",t.setAttribute("data-tp-nav","horizontal");var e='<svg viewBox="0 0 24 24" fill="currentColor" class="tp-btn-svg"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',r='<svg viewBox="0 0 24 24" fill="currentColor" class="tp-btn-svg"><path d="M3 5v14h18V5H3zm4 2h4v4H7V7zm-2 10v-4h4v4H5zm12 0h-4v-4h4v4zm2-6h-4V7h4v4z"/></svg>';t.innerHTML='<div class="tp-addressbar-content"><button type="button" class="tp-addressbar-btn" id="tp-addressbar-portal" tabindex="0" title="Back to Portal">'+r+'</button><button type="button" class="tp-addressbar-btn" id="tp-addressbar-home" tabindex="0" title="Site Home">'+e+'</button><button type="button" class="tp-addressbar-btn" id="tp-addressbar-back" tabindex="0" title="Back"><span class="tp-btn-icon">â</span></button><button type="button" class="tp-addressbar-btn" id="tp-addressbar-forward" tabindex="0" title="Forward"><span class="tp-btn-icon">â</span></button><button type="button" class="tp-addressbar-btn" id="tp-addressbar-reload" tabindex="0" title="Reload"><span class="tp-btn-icon">â»</span></button><div class="tp-addressbar-url-container" id="tp-addressbar-url-container" tabindex="0"><span class="tp-addressbar-url-display" id="tp-addressbar-url-display"></span><input type="text" class="tp-addressbar-url" id="tp-addressbar-url" tabindex="-1" placeholder="Enter URL..."></div><button type="button" class="tp-addressbar-btn tp-addressbar-go" id="tp-addressbar-go" tabindex="0" title="Go"><span class="tp-btn-icon">â</span></button><button type="button" class="tp-addressbar-btn tp-addressbar-info" id="tp-addressbar-info" tabindex="0" title="TizenPortal Documentation"><svg viewBox="0 0 24 24" fill="currentColor" class="tp-btn-svg"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"/></svg></button></div>';var n=document.getElementById("tp-shell");n?n.insertBefore(t,n.firstChild):document.body.appendChild(t);!function(t){var e=t.querySelector("#tp-addressbar-portal");e&&(e.addEventListener("click",Ait),e.addEventListener("keydown",function(t){13===t.keyCode&&Ait()}));var r=t.querySelector("#tp-addressbar-home");r&&(r.addEventListener("click",Cit),r.addEventListener("keydown",function(t){13===t.keyCode&&Cit()}));var n=t.querySelector("#tp-addressbar-back");n&&(n.addEventListener("click",Oit),n.addEventListener("keydown",function(t){13===t.keyCode&&Oit()}));var o=t.querySelector("#tp-addressbar-forward");o&&(o.addEventListener("click",Iit),o.addEventListener("keydown",function(t){13===t.keyCode&&Iit()}));var i=t.querySelector("#tp-addressbar-reload");i&&(i.addEventListener("click",zit),i.addEventListener("keydown",function(t){13===t.keyCode&&zit()}));var a=t.querySelector("#tp-addressbar-go");a&&(a.addEventListener("click",Rit),a.addEventListener("keydown",function(t){13===t.keyCode&&Rit()}));var s=t.querySelector("#tp-addressbar-info");s&&(s.addEventListener("click",Mit),s.addEventListener("keydown",function(t){13===t.keyCode&&Mit()}));var l=t.querySelector("#tp-addressbar-url-container");l&&(l.addEventListener("click",xit),l.addEventListener("keydown",function(t){13===t.keyCode&&(t.preventDefault(),xit())}));var c=t.querySelector("#tp-addressbar-url");c&&(c.addEventListener("keydown",function(t){13===t.keyCode?(t.preventDefault(),Rit(),Tit()):27!==t.keyCode&&10009!==t.keyCode||(t.preventDefault(),Tit())}),c.addEventListener("blur",function(){Tit()}))}(t)}(),git=document.getElementById("tp-addressbar"),hit=document.getElementById("tp-addressbar-url"),mit.container=document.getElementById("tp-addressbar-url-container"),mit.display=document.getElementById("tp-addressbar-url-display"),mit.input=hit}var wit=!1;function xit(){var t=mit.container,e=mit.display,r=mit.input;if(t&&r){t.classList.add("editing"),e&&(e.style.display="none"),r.style.display="block",r.tabIndex=0;try{r.focus(),r.select()}catch(t){console.warn("TizenPortal: URL input focus error:",t.message)}wit=!0,console.log("TizenPortal: URL input activated")}}function Tit(){if(wit){var t=mit.container,e=mit.display,r=mit.input;if(t){if(e&&r){var n=r.value.trim();e.textContent=n||"Press ENTER to edit URL",e.style.display="block"}t.classList.remove("editing"),r&&(r.style.display="none",r.tabIndex=-1),t.focus(),wit=!1,console.log("TizenPortal: URL input deactivated")}}}function Pit(){if(!vit){if(yit=document.activeElement,function(){var t=mit.display,e=mit.input,r=window.location.href;t&&(t.textContent=r||"Press ENTER to edit URL");e&&(e.value=r)}(),git){git.classList.add("visible"),vit=!0;var t=mit.container;if(t)try{t.focus()}catch(t){console.warn("TizenPortal: Address bar focus error:",t.message)}}console.log("TizenPortal: Address bar shown")}}function kit(){if(vit){Tit(),git&&(git.classList.remove("visible"),vit=!1);var t=!1;if(yit){try{null===yit.offsetParent&&yit!==document.body||(yit.focus(),t=!0)}catch(t){}yit=null}t||function(){for(var t=[".tp-card:focus",".tp-card",".tp-add-card","#tp-portal-grid"],e=0;e<t.length;e++){var r=document.querySelector(t[e]);if(r&&null!==r.offsetParent)try{return r.focus(),void console.log("TizenPortal: Focus restored to:",t[e])}catch(t){}}}(),console.log("TizenPortal: Address bar hidden")}}function Sit(){vit?kit():Pit()}function Eit(){return vit}function Ait(){console.log("TizenPortal: Address bar - Portal"),kit(),window.TizenPortal&&window.TizenPortal.closeSite&&window.TizenPortal.closeSite()}function Cit(){console.log("TizenPortal: Address bar - Site Home");var t=null;try{var e=window.TizenPortal?window.TizenPortal.getState():null;e&&e.currentCard&&(t=e.currentCard.url)}catch(t){console.warn("TizenPortal: Cannot get current card")}t?(window.location.href=t,window.TizenPortal&&window.TizenPortal.showToast("Going to site home"),kit()):window.TizenPortal&&window.TizenPortal.showToast("No home URL")}function Oit(){console.log("TizenPortal: Address bar - Back"),window.history.back(),window.TizenPortal&&window.TizenPortal.showToast("Back")}function Iit(){console.log("TizenPortal: Address bar - Forward"),window.history.forward(),window.TizenPortal&&window.TizenPortal.showToast("Forward")}function zit(){console.log("TizenPortal: Address bar - Reload"),window.TizenPortal&&window.TizenPortal.showToast("Reloading..."),window.location.reload()}function Rit(){if(hit){var t=hit.value.trim();t&&((t=cot(t))?(console.log("TizenPortal: Address bar - Go to:",t),window.TizenPortal&&window.TizenPortal.showToast("Loading..."),window.location.href=t,kit()):window.TizenPortal&&window.TizenPortal.showToast("Invalid URL â only http/https allowed"))}}function Mit(){console.log("TizenPortal: Address bar - Info"),kit(),window.open("https://axelnanol.github.io/tizenportal/","_blank")}var Nit="tp_apps",Bit=null;function Lit(){for(var t="0123456789abcdef",e=[8,4,4,4,12],r=[],n=0;n<e.length;n++){for(var o="",i=0;i<e[n];i++)o+=t.charAt(Math.floor(16*Math.random()));r.push(o)}return r.join("-")}function _it(t){for(var e=Array.isArray(t)?t:[],r=[],n=0;n<e.length;n++){var o=e[n]||{};r.push({id:o.id||Lit(),name:o.name||"Custom Script "+(n+1),enabled:!0===o.enabled,source:"url"===o.source?"url":"inline",url:hot(o.url,"string",""),inline:hot(o.inline,"string",""),cached:hot(o.cached,"string",""),lastFetched:hot(o.lastFetched,"number",0)})}return r.length||r.push(function(t){return{id:Lit(),name:"Custom Script "+t,enabled:!1,source:"inline",url:"",inline:"",cached:"",lastFetched:0}}(1)),r}function Dit(t,e,r){var n={},o=t&&"object"===a(t)?t:{};for(var i in o)o.hasOwnProperty(i)&&(n[i]=_it(o[i]));var s=r||"default";return n[s]||(n[s]=_it(e||[])),n}function Fit(){if(null!==Bit)return Bit;try{var t=localStorage.getItem(Nit);if(t){Bit=JSON.parse(t),Array.isArray(Bit)||(Bit=[]);for(var e=!1,r=0;r<Bit.length;r++){var n=Bit[r];n.id||(n.id=Lit(),e=!0,console.log("TizenPortal: Generated ID for card:",n.name)),n.bundle&&!n.featureBundle&&("default"===n.bundle?n.featureBundle=null:n.featureBundle=n.bundle,delete n.bundle,e=!0);for(var o=["featureBundle","navigationMode","viewportMode","focusOutlineMode","userAgent","tabindexInjection","scrollIntoView","navigationFix","safeArea","gpuHints","cssReset","hideScrollbars","wrapTextInputs","focusStyling","focusTransitions","focusTransitionMode","focusTransitionSpeed","textScale"],i=0;i<o.length;i++){var s=o[i];n.hasOwnProperty(s)&&null===n[s]&&(delete n[s],e=!0)}if(n.hasOwnProperty("userscripts")&&Array.isArray(n.userscripts)){var l=_it(n.userscripts);l.length!==n.userscripts.length&&(n.userscripts=l,e=!0)}else n.userscripts=_it(n.userscripts),e=!0;var c=Dit(n.userscriptsByBundle,n.userscripts,n.featureBundle);if(n.hasOwnProperty("userscriptsByBundle")&&"object"===a(n.userscriptsByBundle)&&null!==n.userscriptsByBundle)try{JSON.stringify(n.userscriptsByBundle)!==JSON.stringify(c)&&(n.userscriptsByBundle=c,e=!0)}catch(t){n.userscriptsByBundle=c,e=!0}else n.userscriptsByBundle=c,e=!0;n.hasOwnProperty("bundleOptions")&&"object"===a(n.bundleOptions)&&null!==n.bundleOptions||(n.bundleOptions={},e=!0),n.hasOwnProperty("bundleOptionData")&&"object"===a(n.bundleOptionData)&&null!==n.bundleOptionData||(n.bundleOptionData={},e=!0),n.hasOwnProperty("userscriptToggles")&&"object"===a(n.userscriptToggles)&&null!==n.userscriptToggles||(n.userscriptToggles={},e=!0),n.hasOwnProperty("bundleUserscriptToggles")&&"object"===a(n.bundleUserscriptToggles)&&null!==n.bundleUserscriptToggles||(n.bundleUserscriptToggles={},e=!0);var u=n.featureBundle||"default",d=n.userscriptsByBundle&&n.userscriptsByBundle[u]?n.userscriptsByBundle[u]:[],p=n.userscripts||[],f=p.length===d.length;if(f&&p.length>0)try{f=JSON.stringify(p)===JSON.stringify(d)}catch(t){f=!1}f||(n.userscripts=_it(d||[]),e=!0,console.log('TizenPortal: Migrated userscripts for card "'+n.name+'" to bundle: '+u))}e&&(console.log("TizenPortal: Migrated",Bit.length,"cards to new bundle format"),Uit())}else Bit=[]}catch(t){console.error("TizenPortal: Failed to load cards:",t),Bit=[]}return Bit}function Uit(){if(null!==Bit){var t=pot(Nit,JSON.stringify(Bit));t.success||("quota"===t.error?console.error("TizenPortal: "+t.message):console.error("TizenPortal: Failed to save cards: "+t.message))}}function jit(){return Fit().slice()}function Hit(t){var e=Fit(),r={id:Lit(),name:t.name||"Untitled",url:t.url||"",featureBundle:t.featureBundle||null,navigationMode:t.hasOwnProperty("navigationMode")?t.navigationMode:null,viewportMode:t.hasOwnProperty("viewportMode")?t.viewportMode:null,focusOutlineMode:t.hasOwnProperty("focusOutlineMode")?t.focusOutlineMode:null,focusStyling:t.hasOwnProperty("focusStyling")?t.focusStyling:null,focusTransitions:t.hasOwnProperty("focusTransitions")?t.focusTransitions:null,focusTransitionMode:t.hasOwnProperty("focusTransitionMode")?t.focusTransitionMode:null,focusTransitionSpeed:t.hasOwnProperty("focusTransitionSpeed")?t.focusTransitionSpeed:null,userAgent:t.hasOwnProperty("userAgent")?t.userAgent:null,tabindexInjection:t.hasOwnProperty("tabindexInjection")?t.tabindexInjection:null,scrollIntoView:t.hasOwnProperty("scrollIntoView")?t.scrollIntoView:null,navigationFix:t.hasOwnProperty("navigationFix")?t.navigationFix:null,safeArea:t.hasOwnProperty("safeArea")?t.safeArea:null,gpuHints:t.hasOwnProperty("gpuHints")?t.gpuHints:null,cssReset:t.hasOwnProperty("cssReset")?t.cssReset:null,hideScrollbars:t.hasOwnProperty("hideScrollbars")?t.hideScrollbars:null,wrapTextInputs:t.hasOwnProperty("wrapTextInputs")?t.wrapTextInputs:null,icon:t.icon||null,bundleOptions:t.bundleOptions||{},bundleOptionData:t.bundleOptionData||{},userscripts:_it(t.userscripts||[]),userscriptsByBundle:Dit(t.userscriptsByBundle,t.userscripts,t.featureBundle),userscriptToggles:t.userscriptToggles||{},bundleUserscriptToggles:t.bundleUserscriptToggles||{},order:e.length,createdAt:Date.now(),updatedAt:Date.now()};return e.push(r),Bit=e,Uit(),r}function qit(t,e){for(var r=Fit(),n=0;n<r.length;n++)if(r[n].id===t){for(var o in e)e.hasOwnProperty(o)&&"id"!==o&&"createdAt"!==o&&(r[n][o]=e[o]);return r[n].updatedAt=Date.now(),Bit=r,Uit(),r[n]}return null}function Vit(t){for(var e=Fit(),r=0;r<e.length;r++)if(e[r].id===t)return e[r];return null}var Git=["doubleclick","googlesyndication","googleadservices","google-analytics","googletagmanager","googletagservices","pagead2"],Wit=["taboola.com","outbrain.com","revcontent.com","mgid.com","zergnet.com","adroll.com","criteo.com","adnxs.com","adsrvr.org","pubmatic.com","rubiconproject.com","openx.net","advertising.com","amazon-adsystem.com"],Yit=["doubleverify.com","scorecardresearch.com","quantserve.com","chartbeat.com","facebook.com/tr","fbevents"],Xit=["adserver","adsystem","adservice","/ads/","/ad/"],Kit=["pixel","tracker","tracking","analytics","beacon"],Jit=["promo","sponsor","sponsored"],$it=null,Zit=null;var Qit=["ins.adsbygoogle",".adsbygoogle",'[id^="google_ads_"]','[id^="div-gpt-ad"]','[class*="ad-container"]','[class*="ad-wrapper"]','[class*="ad-banner"]','[class*="advertisement"]','[id*="ad-container"]','[id*="ad-wrapper"]','[id*="advertisement"]',".taboola",".outbrain",'[class*="taboola"]','[class*="outbrain"]','[class*="revcontent"]','iframe[src*="doubleclick"]','iframe[src*="googlesyndication"]','iframe[src*="adserver"]','[class*="popup-ad"]','[class*="ad-popup"]','[class*="interstitial"]'],tat=['[class*="sponsor"]','[id*="sponsor"]','[class*="promoted"]','[id*="promoted"]','[class*="paid"]','[id*="paid"]','[aria-label*="sponsor"]','[aria-label*="sponsored"]','[aria-label*="advert"]',"[data-ad]","[data-ads]","[data-advert]","[data-advertisement]","[data-sponsored]","[data-sponsor]",'iframe[src*="ad"]','iframe[id*="ad"]','iframe[class*="ad"]','div[id*="ad-"]','div[class*="ad-"]'],eat=['[id*="cookie"]','[class*="cookie"]','[id*="consent"]','[class*="consent"]','[id*="gdpr"]','[class*="gdpr"]','[id*="privacy"]','[class*="privacy"]','[class*="cc-window"]','[class*="cookie-banner"]','[class*="cookie-consent"]','[class*="consent-banner"]'],rat=["banner","leaderboard","skyscraper","billboard","sponsor","sponsored","promoted","promo","advert","adserver","adsystem","doubleclick","/ads/","ads."],nat={observer:null,cleanupInterval:null,blocked:0,enabled:!0,strict:!1,allowlist:[],domIntercepted:!1,originalAppendChild:null,originalInsertBefore:null,originalReplaceChild:null,requestIntercepted:!1,originalXHROpen:null,originalXHRSend:null,originalFetch:null,targetWindow:null,hideCookieBanners:!1,inlineHeuristics:!0,urlCheckCache:{}},oat={style:'[class*=ad-area],[class*=ad-banner],[class*=ad-block],[class*=ad-box],[class*=ad-choices],[class*=ad-container],[class*=ad-frame],[class*=ad-placement],[class*=ad-slot],[class*=ad-spot],[class*=ad-unit],[class*=ad-wrapper],[class*=ad-zone],[class*=adchoices],[class*=adsense],[class*=advert-],[class*=advert_],[class*=advertisement],[class*=advertising],[class*=banner-ad],[class*=dfp-],[class*=doubleclick],[class*=google-ad],[class*=googlead],[class*=gpt-],[class*=leaderboard],[class*=mgid],[class*=native-ad],[class*=native_ad],[class*=outbrain],[class*=prebid],[class*=promo-banner],[class*=promoted],[class*=promotional],[class*=revcontent],[class*=skyscraper],[class*=sponsor-],[class*=sponsored-],[class*=sponsored],[class*=sponsored_],[class*=taboola],[class*=zergnet]{display:none!important;visibility:hidden!important;height:0!important;min-height:0!important;max-height:0!important;width:0!important;min-width:0!important;max-width:0!important;overflow:hidden!important;opacity:0!important;pointer-events:none!important}[id*=ad-area],[id*=ad-banner],[id*=ad-block],[id*=ad-container],[id*=ad-placement],[id*=ad-slot],[id*=ad-spot],[id*=ad-unit],[id*=ad-wrapper],[id*=adchoices],[id*=advertisement],[id*=advertising],[id*=dfp-],[id*=google_ads],[id*=gpt-ad],[id*=native-ad],[id*=outbrain],[id*=promoted],[id*=sponsored],[id*=taboola]{display:none!important;visibility:hidden!important;height:0!important;min-height:0!important;max-height:0!important;overflow:hidden!important;opacity:0!important}iframe[id*=aswift],iframe[id*=google_ads],iframe[name*=google_ads],iframe[src*="/ads/"],iframe[src*="ads."],iframe[src*=adnxs],iframe[src*=adserver],iframe[src*=adservice],iframe[src*=adsrvr],iframe[src*=advertising],iframe[src*=doubleclick],iframe[src*=doubleverify],iframe[src*=google-analytics],iframe[src*=googleadservices],iframe[src*=googlesyndication],iframe[src*=openx],iframe[src*=outbrain],iframe[src*=rubicon],iframe[src*=scorecardresearch],iframe[src*=taboola]{display:none!important;visibility:hidden!important;height:0!important;width:0!important}[class*=ad-modal],[class*=ad-overlay],[class*=ad-popup],[class*=interstitial],[class*=lightbox-ad],[class*=modal-ad],[class*=overlay-ad],[class*=popup-ad]{display:none!important;visibility:hidden!important;opacity:0!important}[class*=ad-fixed],[class*=ad-sticky],[class*=bottom-ad],[class*=fixed-ad],[class*=footer-ad],[class*=header-ad],[class*=sticky-ad],[class*=top-ad]{display:none!important;visibility:hidden!important;position:static!important;height:0!important}[class*=content-ad],[class*=in-feed-ad],[class*=infeed-ad],[class*=native-ad],[class*=paid-content],[class*=paid-post],[class*=promoted-content],[class*=promoted-post],[class*=recommended-ads],[class*=related-ads],[class*=sponsored-content],[class*=sponsored-post],[class*=sponsored-story]{display:none!important}.ytp-ad-image-overlay,.ytp-ad-overlay-container,.ytp-ad-text-overlay,[class*=ad-skip],[class*=midroll],[class*=postroll],[class*=preroll],[class*=skip-ad],[class*=video-ad]:not(video):not([class*=player]){display:none!important;visibility:hidden!important}[data-ad-client],[data-ad-format],[data-ad-slot],[data-ad-unit],[data-ad],[data-ads],[data-adtest],[data-advert],[data-advertisement],[data-promoted],[data-sponsor],[data-sponsored]{display:none!important;visibility:hidden!important;height:0!important;min-height:0!important;max-height:0!important;overflow:hidden!important;opacity:0!important}[aria-label*=Advertisement],[aria-label*=Sponsored],[aria-label*=advertisement],[aria-label*=sponsored]{display:none!important;visibility:hidden!important;height:0!important;overflow:hidden!important}[class*=email-capture],[class*=exit-intent],[class*=lead-capture],[class*=newsletter-popup],[class*=signup-popup],[class*=subscribe-popup]{display:none!important;visibility:hidden!important}.adsbygoogle,.google-auto-placed,ins.adsbygoogle{display:none!important;height:0!important}[class*=amazon-adsystem],[class*=amzn-native],[class*=facebook-ad],[class*=fb-ad]{display:none!important}.ad-hidden-spacer,.ad-placeholder,[class*=ad-holder],[class*=ad-space]{display:none!important;height:0!important;margin:0!important;padding:0!important}',onBeforeLoad:function(t,e){console.log("TizenPortal [AdBlock]: Preparing"),nat.blocked=0,nat.enabled=!0,nat.urlCheckCache={},$it&&Zit||function(){var t=[].concat(Git).concat(Wit.map(function(t){return t.replace(".","\\.")})).concat(Yit.map(function(t){return t.replace(".","\\.").replace("/","\\/")}));$it=new RegExp(t.join("|"),"i");var e=t.concat(Xit.map(function(t){return t.replace("/","\\/")})).concat(Kit).concat(Jit);Zit=new RegExp(e.join("|"),"i")}(),this.applyOptions(e),nat.strict&&(this.injectStrictScript(t),this.injectStrictStyles(t)),nat.hideCookieBanners&&this.injectCookieStyles(t),this.cleanup()},onAfterLoad:function(t,e){console.log("TizenPortal [AdBlock]: Loaded, starting ad blocking");try{var r=t.document||document;if(!r||!t)return void console.warn("TizenPortal [AdBlock]: Cannot access document");this.removeAds(r),this.removeCookieBanners(r),this.interceptRequests(t),this.interceptDomInsertion(t),this.observeDOM(r),this.neutralizeAdFunctions(t)}catch(t){console.error("TizenPortal [AdBlock]: Error:",t.message)}},onActivate:function(t,e){console.log("TizenPortal [AdBlock]: Activated"),this.registerAdRemoval()},onDeactivate:function(t,e){console.log("TizenPortal [AdBlock]: Deactivated - blocked",nat.blocked,"ads"),this.cleanup()},onNavigate:function(t){console.log("TizenPortal [AdBlock]: Navigation, resetting counters"),nat.blocked=0,nat.urlCheckCache={}},applyOptions:function(t){var e=t&&t.bundleOptions?t.bundleOptions:{},r=t&&t.bundleOptionData?t.bundleOptionData:{};nat.strict=!!e.strict,nat.hideCookieBanners=!!e.hideCookieBanners,nat.inlineHeuristics=!1!==e.inlineHeuristics;var n=r.allowlistUrl||"";nat.allowlist=this.parseAllowlist(n)},parseAllowlist:function(t){if(!t||"string"!=typeof t)return[];for(var e=t.split(/\r?\n/),r=[],n=0;n<e.length;n++){var o=e[n];o&&((o=o.trim())&&"#"!==o.charAt(0)&&r.push(o.toLowerCase()))}return r},isAllowlisted:function(t){if(!t||!nat.allowlist||!nat.allowlist.length)return!1;for(var e=t.toLowerCase(),r=0;r<nat.allowlist.length;r++)if(-1!==e.indexOf(nat.allowlist[r]))return!0;return!1},registerAdRemoval:function(){if(window.TizenPortal&&window.TizenPortal.elements){var t=window.TizenPortal.elements,e=this,r=Qit;nat.strict&&(r=Qit.concat(tat));var n=r.join(", ");if(t.register({selector:n,operation:"remove",condition:function(t){return e.isSafeToRemove(t)}}),nat.hideCookieBanners||nat.strict){var o=eat.join(", ");t.register({selector:o,operation:"remove",condition:function(t){return e.isSafeToRemove(t)}})}console.log("TizenPortal [AdBlock]: Registered",r.length,"ad removal patterns")}else console.warn("TizenPortal [AdBlock]: Element registration API not available")},injectStrictScript:function(t){try{var e=t.document||document;if(!e||!e.createElement)return;var r=e.createElement("script");r.type="text/javascript",r.text='(function(){try{var w=window;w.__tpAdblockStrict=true;var d=document;var ow=d.write;d.write=function(h){try{var s=String(h||\'\').toLowerCase();if(s.indexOf("adsbygoogle")!==-1||s.indexOf("doubleclick")!==-1||s.indexOf("googlesyndication")!==-1||s.indexOf("adservice")!==-1){return;}}catch(e){}return ow.apply(d,arguments);};}catch(e){}})();',(e.head||e.documentElement||e.body).appendChild(r)}catch(t){}},injectStrictStyles:function(t){try{var e=t.document||document;if(!e)return;fot(e,"tp-adblock-strict",["[data-google-query-id],[data-ad-client],[data-ad-slot],[data-ad-unit],[data-ad-format],[data-adtest],",'[data-testid*="ad"],[data-testid*="sponsor"],[data-testid*="promoted"],','[aria-label*="Sponsored"],[aria-label*="sponsored"],[aria-label*="Advertisement"],[aria-label*="advertisement"],','[id*="sponsored"],[class*="sponsored"],[id*="promoted"],[class*="promoted"],','[id*="native-ad"],[class*="native-ad"],[id*="ad-"],[class*="ad-"],','iframe[src*="ads"],iframe[src*="doubleclick"],iframe[src*="adservice"],','img[src*="pixel"],img[src*="tracker"],img[src*="tracking"],','div[style*="z-index: 2147483647"]',"{display:none !important;visibility:hidden !important;height:0 !important;width:0 !important;overflow:hidden !important;opacity:0 !important;}"].join(""))}catch(t){}},injectCookieStyles:function(t){try{var e=t.document||document;if(!e)return;fot(e,"tp-adblock-cookies",eat.join(",")+"{display:none !important;visibility:hidden !important;height:0 !important;overflow:hidden !important;opacity:0 !important;}")}catch(t){}},removeAds:function(t){var e=0,r=Qit;nat.strict&&(r=Qit.concat(tat));for(var n=0;n<r.length;n++)try{for(var o=t.querySelectorAll(r[n]),i=0;i<o.length;i++){var a=o[i];this.isSafeToRemove(a)&&(a.remove(),e++)}}catch(t){}if(e>0&&(nat.blocked+=e,console.log("TizenPortal [AdBlock]: Removed",e,"ad elements")),nat.inlineHeuristics||nat.strict){var s=this.removeImageAds(t);s>0&&(nat.blocked+=s,console.log("TizenPortal [AdBlock]: Removed",s,"ad images"))}},removeCookieBanners:function(t){if(nat.hideCookieBanners||nat.strict){for(var e=0,r=0;r<eat.length;r++)try{for(var n=t.querySelectorAll(eat[r]),o=0;o<n.length;o++){var i=n[o];this.isSafeToRemove(i)&&(i.remove(),e++)}}catch(t){}e>0&&(nat.blocked+=e,console.log("TizenPortal [AdBlock]: Removed",e,"cookie/consent elements"))}},removeImageAds:function(t){for(var e=0,r=t.querySelectorAll("img"),n=0;n<r.length;n++){var o=r[n];if(this.isLikelyAdImage(o)){if(!this.isSafeToRemove(o))continue;o.remove(),e++}}return e},isLikelyAdImage:function(t){if(!t||!t.src)return!1;var e=(t.src||"").toLowerCase();if(this.isAllowlisted(e))return!1;for(var r=(t.className||"").toLowerCase()+" "+(t.id||"").toLowerCase()+" "+e,n=!1,o=0;o<rat.length;o++)if(-1!==r.indexOf(rat[o])){n=!0;break}var i=t.getAttribute?t.getAttribute("width"):"",a=t.getAttribute?t.getAttribute("height"):"",s=parseInt(i,10)||t.width||0,l=parseInt(a,10)||t.height||0,c=s>=728&&l>=90||s>=300&&l>=50||s>=160&&l>=600||s>=250&&l>=250||s>=468&&l>=60,u=-1!==e.indexOf(".gif");return!(!n||!c&&!u)||!!(nat.strict&&u&&(s>=200||l>=200))},isSafeToRemove:function(t){var e=t.tagName.toLowerCase();if("body"===e||"html"===e||"head"===e)return!1;var r=t.id||"";if("main"===r||"content"===r||"app"===r||"root"===r)return!1;if("nav"===e||"header"===e||"footer"===e)return!1;try{var n=t.getAttribute&&t.getAttribute("src")||"",o=t.getAttribute&&t.getAttribute("href")||"";if(n&&this.isAllowlisted(n)||o&&this.isAllowlisted(o))return!1}catch(t){}return!0},interceptRequests:function(t){var e=this;if(nat.requestIntercepted)console.log("TizenPortal [AdBlock]: Request interception already active, skipping");else{nat.targetWindow=t;var r=!1,n=!1;try{t.XMLHttpRequest&&t.XMLHttpRequest.prototype?(nat.originalXHROpen=t.XMLHttpRequest.prototype.open,nat.originalXHRSend=t.XMLHttpRequest.prototype.send,t.XMLHttpRequest.prototype.open=function(t,r){return e.isAdURL(r)?(console.log("TizenPortal [AdBlock]: Blocked XHR:",r.substring(0,60)),nat.blocked++,void(this._blocked=!0)):nat.originalXHROpen.apply(this,arguments)},t.XMLHttpRequest.prototype.send=function(){if(!this._blocked)return nat.originalXHRSend.apply(this,arguments)},r=!0):console.warn("TizenPortal [AdBlock]: XMLHttpRequest not available")}catch(t){console.warn("TizenPortal [AdBlock]: Could not intercept XHR:",t.message)}if(t.fetch&&"function"==typeof t.fetch)try{nat.originalFetch=t.fetch,t.fetch=function(t,r){var n="string"==typeof t?t:t.url||"";return e.isAdURL(n)?(console.log("TizenPortal [AdBlock]: Blocked fetch:",n.substring(0,60)),nat.blocked++,Promise.reject(new Error("Blocked by TizenPortal AdBlock"))):nat.originalFetch.apply(this,arguments)},n=!0}catch(t){console.warn("TizenPortal [AdBlock]: Could not intercept fetch:",t.message)}r||n?(nat.requestIntercepted=!0,console.log("TizenPortal [AdBlock]: Request interception active (XHR:",r,", fetch:",n,")")):console.warn("TizenPortal [AdBlock]: No request interception methods available")}},interceptDomInsertion:function(t){var e=this;if(!nat.domIntercepted)try{var r=t.Element&&t.Element.prototype;if(!r)return;nat.originalAppendChild=r.appendChild,nat.originalInsertBefore=r.insertBefore,nat.originalReplaceChild=r.replaceChild,r.appendChild=function(t){if(t&&1===t.nodeType){var r=t.tagName;if(("SCRIPT"===r||"IFRAME"===r)&&e.shouldBlockNode(t))return nat.blocked++,t}return nat.originalAppendChild.apply(this,arguments)},r.insertBefore=function(t,r){if(t&&1===t.nodeType){var n=t.tagName;if(("SCRIPT"===n||"IFRAME"===n)&&e.shouldBlockNode(t))return nat.blocked++,t}return nat.originalInsertBefore.apply(this,arguments)},r.replaceChild=function(t,r){if(t&&1===t.nodeType){var n=t.tagName;if(("SCRIPT"===n||"IFRAME"===n)&&e.shouldBlockNode(t))return nat.blocked++,r}return nat.originalReplaceChild.apply(this,arguments)},nat.domIntercepted=!0}catch(t){console.warn("TizenPortal [AdBlock]: Could not intercept DOM insertion:",t.message)}},shouldBlockNode:function(t){if(!t||1!==t.nodeType)return!1;var e=t.tagName?t.tagName.toUpperCase():"";if("SCRIPT"===e){var r=t.src||"";if(r&&this.isAdURL(r))return!0;if(!r&&(nat.inlineHeuristics||nat.strict)){var n=t.text||t.textContent||"";if(this.isInlineAdScript(n))return!0}}if("IFRAME"===e){var o=t.src||"";if(o&&this.isAdURL(o))return!0}if(nat.strict&&"IMG"===e){var i=t.src||"";if(i&&this.isAdURL(i))return!0;var a=t.getAttribute?t.getAttribute("width"):"",s=t.getAttribute?t.getAttribute("height"):"";if("1"===a&&"1"===s||1===t.width&&1===t.height)return!0}return!(!nat.strict||!this.isAdElement(t))},isInlineAdScript:function(t){if(!t||"string"!=typeof t)return!1;var e=t.toLowerCase();return $it.test(e)},isAdURL:function(t){if(!t||"string"!=typeof t)return!1;if(void 0!==nat.urlCheckCache[t])return nat.urlCheckCache[t];var e=t.toLowerCase();if(this.isAllowlisted(e))return nat.urlCheckCache[t]=!1,!1;var r=(nat.strict?Zit:$it).test(e);return nat.urlCheckCache[t]=r,r},neutralizeAdFunctions:function(t){try{t.adsbygoogle?t.adsbygoogle={push:function(){}}:Object.defineProperty(t,"adsbygoogle",{value:{push:function(){}},writable:!1,configurable:!1})}catch(t){}try{t.googletag||(t.googletag={cmd:[],pubads:function(){return this},enableServices:function(){},defineSlot:function(){return this},addService:function(){return this},display:function(){},setTargeting:function(){return this},refresh:function(){}})}catch(t){}try{for(var e=function(){},r=["__cmp","_taboola","OUTBRAIN"],n=0;n<r.length;n++)t[r[n]]||(t[r[n]]=e)}catch(t){}try{t.gtag||(t.gtag=function(){}),t.ga||(t.ga=function(){}),t.fbq||(t.fbq=function(){}),t._gaq||(t._gaq=[]),t.dataLayer||(t.dataLayer=[]),t.dataLayer&&!t.dataLayer.push&&(t.dataLayer.push=function(){}),t.__tcfapi||(t.__tcfapi=function(){})}catch(t){}},observeDOM:function(t){var e=this;if(nat.observer&&nat.observer.disconnect(),"undefined"!=typeof MutationObserver)try{nat.observer=new MutationObserver(function(r){for(var n=!1,o=0;o<r.length;o++){for(var i=r[o],a=0;a<i.addedNodes.length;a++){var s=i.addedNodes[a];if(1===s.nodeType&&e.isAdElement(s)){n=!0;break}}if(n)break}if(n){if(e._cleanTimeout)return;e._cleanTimeout=setTimeout(function(){e._cleanTimeout=null,e.removeAds(t),e.removeCookieBanners(t)},100)}});var r=t.body||t.documentElement;if(!r)return void this.startCleanupInterval(t);nat.observer.observe(r,{childList:!0,subtree:!0}),console.log("TizenPortal [AdBlock]: DOM observer active")}catch(e){console.warn("TizenPortal [AdBlock]: Could not observe DOM:",e.message),this.startCleanupInterval(t)}else this.startCleanupInterval(t)},startCleanupInterval:function(t){nat.cleanupInterval||(nat.cleanupInterval=setInterval(function(){try{t&&t.body&&this.removeAds&&(this.removeAds(t),this.removeCookieBanners(t))}catch(t){}}.bind(this),2500),console.log("TizenPortal [AdBlock]: Cleanup interval active"))},isAdElement:function(t){var e=((t.className||"")+" "+(t.id||"")).toLowerCase(),r=["adsbygoogle","ad-container","ad-wrapper","ad-banner","advertisement","taboola","outbrain","sponsored"];nat.strict&&(r=r.concat(["promoted","promo","sponsor","advert","ad-","ads-"]));for(var n=0;n<r.length;n++)if(-1!==e.indexOf(r[n]))return!0;if("IFRAME"===t.tagName){var o=t.src||"";if(this.isAdURL(o))return!0}return!1},cleanup:function(){try{nat.observer&&(nat.observer.disconnect(),nat.observer=null)}catch(t){console.warn("TizenPortal [AdBlock]: cleanup observer error:",t.message)}try{nat.cleanupInterval&&(clearInterval(nat.cleanupInterval),nat.cleanupInterval=null)}catch(t){console.warn("TizenPortal [AdBlock]: cleanup interval error:",t.message)}if(nat.domIntercepted){try{var t=Element&&Element.prototype;t&&(nat.originalAppendChild&&(t.appendChild=nat.originalAppendChild),nat.originalInsertBefore&&(t.insertBefore=nat.originalInsertBefore),nat.originalReplaceChild&&(t.replaceChild=nat.originalReplaceChild))}catch(t){console.warn("TizenPortal [AdBlock]: cleanup DOM intercept error:",t.message)}nat.domIntercepted=!1,nat.originalAppendChild=null,nat.originalInsertBefore=null,nat.originalReplaceChild=null}if(nat.requestIntercepted){try{var e=nat.targetWindow;e?(nat.originalXHROpen&&e.XMLHttpRequest&&e.XMLHttpRequest.prototype&&(e.XMLHttpRequest.prototype.open=nat.originalXHROpen,nat.originalXHROpen=null),nat.originalXHRSend&&e.XMLHttpRequest&&e.XMLHttpRequest.prototype&&(e.XMLHttpRequest.prototype.send=nat.originalXHRSend,nat.originalXHRSend=null),nat.originalFetch&&e.fetch&&"function"==typeof e.fetch&&(e.fetch=nat.originalFetch,nat.originalFetch=null)):console.error("TizenPortal [AdBlock]: targetWindow not available during cleanup, cannot restore interceptors")}catch(t){console.warn("TizenPortal [AdBlock]: cleanup request intercept error:",t.message)}nat.requestIntercepted=!1,nat.targetWindow=null}try{got(document,"tp-adblock-strict")}catch(t){console.warn("TizenPortal [AdBlock]: cleanup strict style error:",t.message)}try{got(document,"tp-adblock-cookies")}catch(t){console.warn("TizenPortal [AdBlock]: cleanup cookie style error:",t.message)}try{this._cleanTimeout&&(clearTimeout(this._cleanTimeout),this._cleanTimeout=null)}catch(t){console.warn("TizenPortal [AdBlock]: cleanup timeout error:",t.message)}}},iat=null,aat=null,sat=null,lat={marginTop:100,marginBottom:100,marginLeft:100,marginRight:100,topOffset:64,leftOffset:0,scrollContainer:null};function cat(t){var e=Object.assign({},lat,t||{});return iat&&document.removeEventListener("focusin",iat),iat=function(t){dat(t.target,e)},document.addEventListener("focusin",iat),console.log("TizenPortal [Focus]: Scroll-into-view enabled"),function(){uat()}}function uat(){iat&&(document.removeEventListener("focusin",iat),iat=null,console.log("TizenPortal [Focus]: Scroll-into-view disabled"))}function dat(t,e){if(t&&t.getBoundingClientRect){var r=Object.assign({},lat,e||{});try{var n=t.getBoundingClientRect(),o=window.innerHeight||document.documentElement.clientHeight,i=window.innerWidth||document.documentElement.clientWidth;if(n.bottom>o-r.marginBottom){var a=n.bottom-(o-r.marginBottom);window.scrollBy(0,a)}if(n.top<r.topOffset+r.marginTop){var s=r.topOffset+r.marginTop-n.top;window.scrollBy(0,-s)}if(r.scrollContainer){var l=t.closest(r.scrollContainer);l&&(n.right>i-r.marginRight&&(l.scrollLeft+=n.right-(i-r.marginRight)),n.left<r.leftOffset+r.marginLeft&&(l.scrollLeft-=r.leftOffset+r.marginLeft-n.left))}}catch(t){console.warn("TizenPortal [Focus]: Scroll error:",t.message)}}}function pat(t,e){return e=e||0,new Promise(function(r){setTimeout(function(){if(document.activeElement&&document.activeElement!==document.body)return console.log("TizenPortal [Focus]: Already focused on",document.activeElement.tagName),void r(document.activeElement);for(var e=0;e<t.length;e++){var n=document.querySelector(t[e]);if(n)return n.focus(),console.log("TizenPortal [Focus]: Initial focus set via selector",t[e]),void r(n)}console.log("TizenPortal [Focus]: No initial focus target found"),r(null)},e)})}function fat(t){var e=Object.assign({width:"device-width",initialScale:1,userScalable:!1},t||{});try{var r=document.querySelector('meta[name="viewport"]');if(r){var n=r.getAttribute("content");n&&!r.hasAttribute("data-tp-original")&&r.setAttribute("data-tp-original",n)}else(r=document.createElement("meta")).name="viewport",r.setAttribute("data-tp-created","true"),document.head.appendChild(r);var o="width="+e.width+", initial-scale="+e.initialScale;e.userScalable||(o+=", user-scalable=no"),r.setAttribute("content",o),console.log("TizenPortal [Focus]: Viewport locked")}catch(t){console.warn("TizenPortal [Focus]: Could not lock viewport:",t.message)}}function gat(){try{var t=document.querySelector('meta[name="viewport"]');t&&t.hasAttribute("data-tp-original")?(t.setAttribute("content",t.getAttribute("data-tp-original")),t.removeAttribute("data-tp-original"),console.log("TizenPortal [Focus]: Viewport restored")):t&&t.hasAttribute("data-tp-created")&&(t.parentNode.removeChild(t),console.log("TizenPortal [Focus]: Viewport removed"))}catch(t){console.warn("TizenPortal [Focus]: Could not restore viewport:",t.message)}}function hat(t,e){var r=Object.assign({debounceMs:250,target:document.body,childList:!0,subtree:!0},e||{});return aat&&aat.disconnect(),sat&&clearTimeout(sat),(aat=new MutationObserver(function(e){sat||(sat=setTimeout(function(){sat=null;try{t(e)}catch(t){console.error("TizenPortal [Focus]: DOM observer callback error:",t)}},r.debounceMs))})).observe(r.target,{childList:r.childList,subtree:r.subtree}),console.log("TizenPortal [Focus]: DOM observer active"),function(){mat()}}function mat(){aat&&(aat.disconnect(),aat=null),sat&&(clearTimeout(sat),sat=null),console.log("TizenPortal [Focus]: DOM observer stopped")}var vat='a[href], button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [role="button"], [onclick]',yat=null;function bat(t){if(!t)return!1;t.classList.add("tp-card-entered"),t.setAttribute("data-tp-entered","true");var e=t.querySelectorAll('button, [role="button"]');console.log("TizenPortal [CardInteraction]: Found",e.length,"buttons in card");for(var r=0;r<e.length;r++){var n=e[r];n.disabled||"true"===n.getAttribute("aria-hidden")||(n.setAttribute("tabindex","0"),console.log("TizenPortal [CardInteraction]: Made button focusable:",n.className||n.tagName))}t.offsetHeight;var o=function(t){if(!t)return[];for(var e=t.querySelectorAll('a[href]:not([tabindex="-1"]), button:not([disabled]):not([tabindex="-1"]), input:not([disabled]):not([tabindex="-1"]), select:not([disabled]):not([tabindex="-1"]), textarea:not([disabled]):not([tabindex="-1"]), [tabindex]:not([tabindex="-1"])'),r=[],n=0;n<e.length;n++){var o=e[n];o!==t&&(o.disabled||"true"!==o.getAttribute("aria-hidden")&&r.push(o))}return r}(t);return console.log("TizenPortal [CardInteraction]: getFocusableChildren returned",o.length),0===o.length?(t.classList.remove("tp-card-entered"),t.removeAttribute("data-tp-entered"),!1):(yat=t,o[0].focus(),console.log("TizenPortal [CardInteraction]: Entered card with",o.length,"focusable children"),!0)}function wat(){if(!yat)return null;var t=yat;return yat=null,t.classList.remove("tp-card-entered"),t.removeAttribute("data-tp-entered"),t.focus(),console.log("TizenPortal [CardInteraction]: Exited card"),t}function xat(){return null!==yat}function Tat(t){if(!t)return!1;if(yat&&yat.contains(document.activeElement))return!1;var e=t.getAttribute("data-tp-card");if("single"===e){try{t.click()}catch(t){console.warn("TizenPortal [CardInteraction]: click() threw:",t.name,t.message,t)}return console.log("TizenPortal [CardInteraction]: Activated explicit single-action card"),!0}if("multi"===e){if(bat(t))return!0;try{t.click()}catch(t){console.warn("TizenPortal [CardInteraction]: click() threw:",t.name,t.message,t)}return console.log("TizenPortal [CardInteraction]: Multi-action card had no focusables, clicked instead"),!0}if(function(t){if(!t)return!1;for(var e=t.querySelectorAll(vat),r=0,n=0;n<e.length;n++){var o=e[n];null===o.offsetParent&&"fixed"!==getComputedStyle(o).position||o!==t&&r++}return r<=1}(t)){var r=function(t){if(!t)return null;if("A"===t.tagName&&t.hasAttribute("href"))return t;if("BUTTON"===t.tagName)return t;if(t.hasAttribute("onclick"))return t;for(var e=t.querySelectorAll(vat),r=0;r<e.length;r++){var n=e[r];if(n!==t&&null!==n.offsetParent)return n}return null}(t);return r?(r.click(),console.log("TizenPortal [CardInteraction]: Activated single-action card via primary action"),!0):!(!t.hasAttribute("onclick")&&"A"!==t.tagName&&"BUTTON"!==t.tagName)&&(t.click(),!0)}return bat(t)}function Pat(t){return!!t&&(!!t.hasAttribute("data-tp-card")||(!(!t.id||!t.id.match(/^(book-card-|series-card-|media-card-|item-card-)/))||(!!t.classList.contains("tp-card")||!!t.classList.contains("card"))))}var kat="tp-spatial-gap",Sat="--tp-spatial-gap";function Eat(t){if(!t||!t.getBoundingClientRect)return{top:0,right:0,bottom:0,left:0,width:0,height:0};try{var e=t.getBoundingClientRect();return{top:Math.round(100*e.top)/100,right:Math.round(100*e.right)/100,bottom:Math.round(100*e.bottom)/100,left:Math.round(100*e.left)/100,width:Math.round(100*e.width)/100,height:Math.round(100*e.height)/100}}catch(t){return{top:0,right:0,bottom:0,left:0,width:0,height:0}}}function Aat(t,e,r){var n=Eat(t),o=Eat(e);return"horizontal"===r?n.right<=o.left?o.left-n.right:o.right<=n.left?n.left-o.right:-Math.min(n.right-o.left,o.right-n.left):n.bottom<=o.top?o.top-n.bottom:o.bottom<=n.top?n.top-o.bottom:-Math.min(n.bottom-o.top,o.bottom-n.top)}function Cat(t){if(!t)return{valid:!0,violations:[]};for(var e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]), a[href], button:not([disabled])'),r=[],n=Array.prototype.slice.call(e),o=0;o<n.length;o++)for(var i=o+1;i<n.length;i++){var a=n[o],s=n[i];if(!a.contains(s)&&!s.contains(a)){var l=Aat(a,s,"horizontal"),c=Aat(a,s,"vertical");if(l<4&&c<0||c<4&&l<0){var u=Math.min(l<0?1/0:l,c<0?1/0:c);u<4&&u!==1/0&&r.push({el1:a,el2:s,gap:u,required:4})}}}return{valid:0===r.length,violations:r}}function Oat(t){if(t.valid)console.log("TizenPortal [Geometry]: All spacing valid");else{console.warn("TizenPortal [Geometry]: Found",t.violations.length,"spacing violations");for(var e=0;e<t.violations.length;e++){var r=t.violations[e];console.warn("  Gap:",r.gap.toFixed(1)+"px (need "+r.required+"px)","between",r.el1,"and",r.el2)}}}var Iat="#appbar",zat='[role="toolbar"][aria-orientation="vertical"]',Rat="#siderail-buttons-container a",Mat=".bookshelfRow, .categorizedBookshelfRow",Nat="#page-wrapper, .page",Bat='[id^="book-card-"]',Lat='[id^="series-card-"]',_at='[id^="collection-card-"]',Dat='[id^="playlist-card-"]',Fat='[id^="book-card-"], [id^="series-card-"], [id^="collection-card-"], [id^="playlist-card-"], .author-card',Uat="#mediaPlayerContainer",jat='.ui-dropdown-menu, [role="menu"], [role="listbox"], .dropdown-menu',Hat=["#siderail-buttons-container a.nuxt-link-active","#siderail-buttons-container a",'[id^="book-card-"]','[id^="series-card-"] .categoryPlacard','[id^="series-card-"] [tabindex="0"]','[id^="collection-card-"] .categoryPlacard','[id^="collection-card-"] [tabindex="0"]','.author-card, [id^="author-card-"]','[id^="playlist-card-"]','button[tabindex="0"]','a[tabindex="0"]','input[placeholder*="Search"]'],qat=['input[name="username"]','input[placeholder*="username" i]','a[href*="/auth/openid"]','button[type="submit"]'],Vat=["#page-wrapper button",'button[tabindex="0"]',"h1",".covers-book-cover"],Gat=[".app-config-side-nav a.nuxt-link-active",".app-config-side-nav a","form input:first-of-type"],Wat=["#siderail-buttons-container a.nuxt-link-active",'[id^="book-card-"]','button[tabindex="0"]','a[tabindex="0"]'],Yat=['[id^="book-card-"]','button[tabindex="0"]','a[tabindex="0"]',"#siderail-buttons-container a"];function Xat(){var t=window.location.pathname||"";return-1!==t.indexOf("/login")?qat:-1!==t.indexOf("/item/")?Vat:-1!==t.indexOf("/config")?Gat:-1!==t.indexOf("/series/")?Wat:-1!==t.indexOf("/author/")?Yat:Hat}var Kat=!1,Jat=null,$at=null,Zat="",Qat=null,tst=!1,est=null,rst={loadstart:null,canplay:null,playing:null,pause:null,error:null,waiting:null,stalled:null},nst=null,ost={style:'.bookshelfDividerCategorized{z-index:5!important}[id^=author-card-],[id^=book-card-],[id^=collection-card-],[id^=series-card-]{z-index:10!important;position:relative!important}.categoryPlacard{z-index:30!important}#toolbar{position:fixed!important;top:0!important;right:320px!important;left:auto!important;width:auto!important;height:64px!important;z-index:100!important;display:flex!important;align-items:center!important;gap:8px!important;padding:0 16px!important;margin:0!important;background:0 0!important;border:none!important;box-shadow:none!important}#toolbar,#toolbar *{color:#fff!important}#toolbar [role=button],#toolbar button{padding:8px 12px!important;min-height:40px!important;white-space:nowrap!important;color:#fff!important;background:0 0!important}#toolbar [role=button]:hover,#toolbar button:hover{background:rgba(255,255,255,.1)!important}.tp-toolbar-container{display:none!important}#appbar input,#appbar input[type=search],#appbar input[type=text]{padding-left:40px!important}.libraryFilterMenu,[class*=FilterSelect],[class*=SortSelect],[class*=library-filter],[class*=library-sort]{min-width:180px!important}#filter-by-btn,#sort-by-btn,.filter-dropdown,.sort-dropdown,[class*=filter] button,[class*=sort] button,button[aria-label*=Filter i],button[aria-label*=Sort i],button[aria-label*=filter i],button[aria-label*=sort i]{min-width:140px!important}.dropdown-menu,.ui-dropdown-menu,[role=listbox],[role=menu]{min-width:180px!important;max-width:300px!important}.dropdown-item,.libraryFilterMenu li,.libraryFilterMenu ul>li,.ui-dropdown-menu li,.ui-dropdown-menu ul li,.ui-dropdown-menu>a,.ui-dropdown-menu>button,.ui-dropdown-menu>div,[role=listbox]>div,[role=menu]>button,[role=menu]>div,[role=menuitem],[role=option]{display:block!important;padding:8px 12px!important;margin:2px 0!important;min-height:36px!important;cursor:pointer!important}.ui-dropdown-menu li .material-symbols,.ui-dropdown-menu li span.mdi-arrow-left{margin-right:8px!important}img{max-width:100%!important;height:auto!important}#appbar img,.nuxt-link-active img{width:40px!important;min-width:40px!important;height:40px!important;max-width:40px!important}.w-8{width:32px!important}.w-9{width:36px!important}.w-10{width:40px!important}.w-12{width:48px!important}.w-16{width:64px!important}.w-20{width:80px!important}.w-32{width:128px!important}.w-40{width:160px!important}.w-48{width:192px!important}.w-52{width:208px!important}.w-64{width:256px!important}.w-80{width:320px!important}.w-full{width:100%!important}.h-4{height:16px!important}.h-5{height:20px!important}.h-8{height:32px!important}.h-9{height:36px!important}.h-10{height:40px!important}.h-12{height:48px!important}.h-16{height:64px!important}.h-20{height:80px!important}.h-full{height:100%!important}.h-screen{height:100vh!important}.max-h-screen{max-height:100vh!important}.h-6e{height:1.5em!important}.h-8e{height:2em!important}.h-1e{height:.25em!important}.pt-6e{padding-top:1.5em!important}.my-6e{margin-top:1.5em!important;margin-bottom:1.5em!important}.mx-2e{margin-left:.5em!important;margin-right:.5em!important}.pl-8e{padding-left:2em!important}.-bottom-6e{bottom:-1.5em!important}.left-4e{left:1em!important}.left-8e{left:2em!important}.w-44e{width:11em!important}.box-shadow-progressbar,[cy-id=progressBar]{height:6px!important;min-height:6px!important;max-height:6px!important;border-radius:3px!important}.min-w-5{min-width:20px!important}.min-w-8{min-width:32px!important}.min-w-10{min-width:40px!important}.min-w-32{min-width:128px!important}.min-w-48{min-width:192px!important}.max-w-52{max-width:208px!important}.max-w-64{max-width:256px!important}.max-w-80{max-width:320px!important}.max-w-full{max-width:100%!important}.m-1{margin:4px!important}.m-2{margin:8px!important}.mx-1{margin-left:4px!important;margin-right:4px!important}.mx-2{margin-left:8px!important;margin-right:8px!important}.mx-3{margin-left:12px!important;margin-right:12px!important}.my-1{margin-top:4px!important;margin-bottom:4px!important}.my-2{margin-top:8px!important;margin-bottom:8px!important}.mr-1{margin-right:4px!important}.mr-2{margin-right:8px!important}.mr-4{margin-right:16px!important}.mr-6{margin-right:24px!important}.ml-1{margin-left:4px!important}.ml-2{margin-left:8px!important}.ml-3{margin-left:12px!important}.ml-5{margin-left:20px!important}.mt-1{margin-top:4px!important}.pt-1{padding-top:4px!important}.-mt-px{margin-top:-1px!important}.-ml-2{margin-left:-8px!important}.p-1{padding:4px!important}.p-2{padding:8px!important}.p-4{padding:16px!important}.p-5{padding:20px!important}.px-1{padding-left:4px!important;padding-right:4px!important}.px-2{padding-left:8px!important;padding-right:8px!important}.px-3{padding-left:12px!important;padding-right:12px!important}.px-4{padding-left:16px!important;padding-right:16px!important}.px-6{padding-left:24px!important;padding-right:24px!important}.px-8{padding-left:32px!important;padding-right:32px!important}.py-1{padding-top:4px!important;padding-bottom:4px!important}.py-2{padding-top:8px!important;padding-bottom:8px!important}.py-6{padding-top:24px!important;padding-bottom:24px!important}.pr-1{padding-right:4px!important}.pr-2{padding-right:8px!important}.pl-3{padding-left:12px!important}.pr-10{padding-right:40px!important}.pb-4{padding-bottom:16px!important}.gap-1{gap:4px!important}.gap-2{gap:8px!important}.gap-4{gap:16px!important}.rounded{border-radius:4px!important}.rounded-sm{border-radius:2px!important}.rounded-md{border-radius:6px!important}.rounded-lg{border-radius:8px!important}.rounded-full{border-radius:9999px!important}.rounded-b-md{border-bottom-left-radius:6px!important;border-bottom-right-radius:6px!important}.z-10{z-index:10!important}.z-40{z-index:40!important}.z-50{z-index:50!important}.z-60{z-index:60!important}.text-xs{font-size:.75rem!important;line-height:1rem!important}.text-sm{font-size:.875rem!important;line-height:1.25rem!important}.text-base{font-size:1rem!important;line-height:1.5rem!important}.text-lg{font-size:1.125rem!important;line-height:1.75rem!important}.text-xl{font-size:1.25rem!important;line-height:1.75rem!important}.text-2xl{font-size:1.5rem!important;line-height:2rem!important}.text-3xl{font-size:1.875rem!important;line-height:2.25rem!important}.flex{display:-webkit-box!important;display:-webkit-flex!important;display:flex!important}.inline-flex{display:-webkit-inline-box!important;display:-webkit-inline-flex!important;display:inline-flex!important}.flex-col{-webkit-box-orient:vertical!important;-webkit-box-direction:normal!important;-webkit-flex-direction:column!important;flex-direction:column!important}.flex-row{-webkit-box-orient:horizontal!important;-webkit-box-direction:normal!important;-webkit-flex-direction:row!important;flex-direction:row!important}.flex-wrap{-webkit-flex-wrap:wrap!important;flex-wrap:wrap!important}.flex-nowrap{-webkit-flex-wrap:nowrap!important;flex-wrap:nowrap!important}.items-center{-webkit-box-align:center!important;-webkit-align-items:center!important;align-items:center!important}.items-start{-webkit-box-align:start!important;-webkit-align-items:flex-start!important;align-items:flex-start!important}.justify-center{-webkit-box-pack:center!important;-webkit-justify-content:center!important;justify-content:center!important}.justify-start{-webkit-box-pack:start!important;-webkit-justify-content:flex-start!important;justify-content:flex-start!important}.justify-between{-webkit-box-pack:justify!important;-webkit-justify-content:space-between!important;justify-content:space-between!important}.grow{-webkit-box-flex:1!important;-webkit-flex-grow:1!important;flex-grow:1!important}.shrink-0{-webkit-flex-shrink:0!important;flex-shrink:0!important}.block{display:block!important}.inline-block{display:inline-block!important}.hidden{display:none!important}.hidden.md\\\\:block,[class*=hidden][class*="md:block"]{display:block!important}.hidden.md\\\\:flex,.hidden.sm\\\\:flex,[class*=hidden][class*="md:flex"],[class*=hidden][class*="sm:flex"]{display:-webkit-box!important;display:-webkit-flex!important;display:flex!important}.hidden.lg\\\\:block,[class*=hidden][class*="lg:block"]{display:block!important}.relative{position:relative!important}.absolute{position:absolute!important}.fixed{position:fixed!important}.inset-0{top:0!important;right:0!important;bottom:0!important;left:0!important}.inset-y-0{top:0!important;bottom:0!important}.top-0{top:0!important}.right-0{right:0!important}.bottom-0{bottom:0!important}.left-0{left:0!important}.overflow-hidden{overflow:hidden!important}.overflow-auto{overflow:auto!important}.overflow-x-auto{overflow-x:auto!important}.overflow-y-auto{overflow-y:auto!important}.overflow-x-hidden{overflow-x:hidden!important}.overflow-y-hidden{overflow-y:hidden!important}.truncate{overflow:hidden!important;text-overflow:ellipsis!important;white-space:nowrap!important}.text-center{text-align:center!important}.text-left{text-align:left!important}.text-right{text-align:right!important}.font-bold{font-weight:700!important}.font-normal{font-weight:400!important}.italic{font-style:italic!important}.underline{text-decoration:underline!important}.leading-3{line-height:.75rem!important}.leading-4{line-height:1rem!important}.cursor-pointer{cursor:pointer!important}.text-white{color:#fff!important}.text-gray-100{color:#f7fafc!important}.text-gray-200{color:#edf2f7!important}.text-gray-300{color:#e2e8f0!important}.text-gray-400{color:#a0aec0!important}.text-gray-500{color:#718096!important}.bg-bg{background-color:#232323!important}.bg-primary{background-color:#2d3748!important}.bg-fg{background-color:#3d4759!important}.bg-success{background-color:#48bb78!important}.bg-warning{background-color:#ed8936!important}.bg-error{background-color:#f56565!important}.text-success{color:#48bb78!important}.text-error,.text-red-500{color:#f56565!important}.border{border-width:1px!important}.border-t{border-top-width:1px!important}.border-b{border-bottom-width:1px!important}.border-gray-500{border-color:#718096!important}.border-gray-600{border-color:#4a5568!important}.border-black-200{border-color:#1a1a1a!important}.border-black-300{border-color:#2d2d2d!important}.shadow-xs{box-shadow:0 0 0 1px rgba(0,0,0,.05)!important}.shadow-sm{box-shadow:0 1px 2px 0 rgba(0,0,0,.05)!important}.shadow-md{box-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -1px rgba(0,0,0,.06)!important}.shadow-lg{box-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -2px rgba(0,0,0,.05)!important}.pointer-events-none{pointer-events:none!important}.pointer-events-auto{pointer-events:auto!important}.opacity-0:not([style*=opacity]){opacity:0}.opacity-90{opacity:.9!important}.modal[style*="opacity: 1"],.modal[style*="opacity:1"]{opacity:1!important}a,a:active,a:hover,a:link,a:visited{color:inherit!important;text-decoration:none!important}#appbar a,#appbar a:link,#appbar a:visited,#siderail-buttons-container a,[role=toolbar][aria-orientation=vertical] a{color:#fff!important}#appbar a:hover{color:#edf2f7!important}.material-symbols,span.material-symbols{color:inherit!important}#siderail-buttons-container .material-symbols{color:#fff!important;font-size:1.5rem!important}#appbar .material-symbols{color:#fff!important}#appbar button{background:0 0!important;border:none!important}button{background-color:transparent!important}#page-wrapper button,#siderail-buttons-container a,#siderail-buttons-container button,.btn-icon,.icon-button,.iconBtn,.page button,[class*=IconBtn],button.icon-btn,button.rounded-full,button.rounded-lg,button.rounded-md,button[aria-label*=Menu],button[aria-label*=More],button[aria-label*=Options],button[aria-label*=menu],button[aria-label*=more],button[aria-label*=options],button[class*=icon]{background:0 0!important}:root{--tp-spatial-gap:4px}#siderail-buttons-container{gap:var(--tp-spatial-gap,4px)!important}#appbar>.flex>*{margin-right:8px!important}#appbar>.flex>:last-child{margin-right:0!important}#appbar a[href*="/account"],#appbar a[href*="/config"],#appbar a[href*="/stats"],#appbar a[href*="/upload"]{margin-left:8px!important;margin-right:8px!important}.bookshelfRow{overflow-x:auto!important;overflow-y:hidden!important;-webkit-overflow-scrolling:touch!important}.categorizedBookshelfRow{overflow-y:visible!important;-webkit-overflow-scrolling:touch!important;min-height:280px!important}.categorizedBookshelfRow>div{height:auto!important;min-height:250px!important}.categorizedBookshelfRow .flex.items-center{-webkit-box-orient:horizontal!important;-webkit-box-direction:normal!important;-webkit-flex-direction:row!important;flex-direction:row!important;-webkit-flex-wrap:nowrap!important;flex-wrap:nowrap!important;min-height:220px!important}.categorizedBookshelfRow .flex.items-center>[id^=author-card-],.categorizedBookshelfRow .flex.items-center>[id^=book-card-],.categorizedBookshelfRow .flex.items-center>[id^=series-card-]{position:relative!important}.categorizedBookshelfRow>div>.categoryPlacard{z-index:30!important}[id^=collection-card-]>.categoryPlacard,[id^=series-card-]>.categoryPlacard,[id^=series-card-]>div.relative.z-30{display:none!important}[id^=collection-card-] .opacity-0,[id^=series-card-] .opacity-0{opacity:0!important;visibility:hidden!important;pointer-events:none!important}[id^=collection-card-]:focus .opacity-0,[id^=series-card-]:focus .opacity-0{opacity:1!important;visibility:visible!important;pointer-events:auto!important}[id^=book-card-],[id^=series-card-]{-webkit-flex-shrink:0!important;flex-shrink:0!important}[style*="display: none"],[style*="display:none"]{display:none!important;visibility:hidden!important}.globalSearchMenu[style*="display: none"],.globalTaskRunningMenu[style*="display: none"],.librariesDropdownMenu[style*="display: none"],[role=menu][style*="display: none"]{display:none!important}.modal.flex:not(.hidden){display:-webkit-box!important;display:-webkit-flex!important;display:flex!important;opacity:1!important;visibility:visible!important;z-index:60!important}.modal.flex:not(.hidden)>div{opacity:1!important;visibility:visible!important}.modal.hidden{display:none!important;visibility:hidden!important;opacity:0!important}.modal[style*="display: none"]{display:none!important;visibility:hidden!important}.absolute[style*="display: none"],[cy-id=coverBg][style*="display: none"],[cy-id=titleImageNotReady][style*="display: none"]{display:none!important}body,html{overflow-x:hidden!important;overflow-y:auto!important}#__layout>div.text-white.overflow-hidden{overflow:visible!important}#__layout>div.max-h-screen{max-height:none!important}.bookshelfRow .overflow-hidden,.rounded-sm.overflow-hidden,[id^=cover-area-] .overflow-hidden{overflow:hidden!important}#siderail-buttons-container,[role=toolbar][aria-orientation=vertical]{padding:8px!important;overflow:visible!important}.tp-card-entered [id^=cover-area-] .group-hover\\\\:block,.tp-card-entered [id^=cover-area-] .group-hover\\\\:flex,.tp-card-entered [id^=cover-area-] [class*="hover:"],.tp-card-entered [id^=cover-area-] [class*=opacity-0],.tp-card-entered [id^=cover-area-]>div.absolute,[data-tp-entered=true] [id^=cover-area-] .group-hover\\\\:block,[data-tp-entered=true] [id^=cover-area-] .group-hover\\\\:flex,[data-tp-entered=true] [id^=cover-area-] [class*="hover:"],[data-tp-entered=true] [id^=cover-area-] [class*=opacity-0],[data-tp-entered=true] [id^=cover-area-]>div.absolute{display:-webkit-box!important;display:-webkit-flex!important;display:flex!important;opacity:1!important;visibility:visible!important;pointer-events:auto!important}.tp-card-entered [role=button],.tp-card-entered button,[data-tp-entered=true] [role=button],[data-tp-entered=true] button{display:inline-block!important;opacity:1!important;visibility:visible!important;pointer-events:auto!important}.tp-input-wrapper{display:-webkit-box!important;display:-webkit-flex!important;display:flex!important;-webkit-box-align:center!important;-webkit-align-items:center!important;align-items:center!important;position:relative!important;width:100%!important;height:100%!important;cursor:pointer!important;background:0 0!important}.tp-input-display{display:block!important;width:100%!important;height:100%!important;padding:8px 12px!important;color:#a0aec0!important;background:0 0!important;border:none!important;outline:0!important;overflow:hidden!important;text-overflow:ellipsis!important;white-space:nowrap!important;pointer-events:none!important}.tp-input-display.has-value{color:#edf2f7!important}.tp-input-wrapper input,.tp-input-wrapper.editing .tp-input-display{display:none!important}.tp-input-wrapper.editing input{display:block!important}.tp-input-wrapper::after{display:none!important;content:none!important}[role=toolbar][aria-orientation=vertical]{display:block!important;opacity:1!important;visibility:visible!important;pointer-events:auto!important;width:80px!important;min-width:80px!important;max-width:80px!important;position:fixed!important;left:0!important;top:64px!important;bottom:0!important;height:auto!important;background-color:#232323!important;z-index:50!important}#siderail-buttons-container a{margin-bottom:var(--tp-spatial-gap,4px)!important;display:-webkit-box!important;display:-webkit-flex!important;display:flex!important;-webkit-box-orient:vertical!important;-webkit-flex-direction:column!important;flex-direction:column!important;-webkit-box-align:center!important;-webkit-align-items:center!important;align-items:center!important;-webkit-box-pack:center!important;-webkit-justify-content:center!important;justify-content:center!important;width:100%!important;height:80px!important;min-height:80px!important;padding:8px 4px!important;border-bottom:1px solid rgba(45,55,72,.7)!important;cursor:pointer!important;text-decoration:none!important}#siderail-buttons-container a .material-symbols{font-size:1.5rem!important;margin-bottom:4px!important}#siderail-buttons-container a p{font-size:.9rem!important;line-height:1!important;text-align:center!important;margin:0!important;padding-top:6px!important}#siderail-buttons-container a .bg-yellow-400{position:absolute!important;top:0!important;left:0!important;width:2px!important;height:100%!important;background-color:#f6e05e!important}.w-full.h-16.bg-primary{position:fixed!important;top:0!important;left:0!important;right:0!important;width:100%!important;height:64px!important;min-height:64px!important;max-height:64px!important;z-index:60!important;background-color:#2d3748!important}#appbar{display:-webkit-box!important;display:-webkit-flex!important;display:flex!important;-webkit-box-align:center!important;-webkit-align-items:center!important;align-items:center!important;height:100%!important;padding:4px 24px!important}#appbar>.flex{display:-webkit-box!important;display:-webkit-flex!important;display:flex!important;-webkit-box-align:center!important;-webkit-align-items:center!important;align-items:center!important;height:100%!important;width:100%!important}#appbar img{width:40px!important;height:40px!important;min-width:40px!important;min-height:40px!important;margin-right:16px!important}#appbar h1{display:block!important;font-size:1.25rem!important;margin-right:24px!important;white-space:nowrap!important}#appbar button[aria-label*=Library]{height:32px!important;min-width:100%!important;padding-left:8px!important;padding-right:8px!important}#appbar input[placeholder*=Search],#appbar input[placeholder="Search.."],#appbar input[type=search],#appbar input[type=text]{height:40px!important;padding:8px 16px!important;border-radius:4px!important;font-size:16px!important}#appbar a[href*="/config"],#appbar a[href*="/stats"],#appbar a[href*="/upload"]{display:-webkit-box!important;display:-webkit-flex!important;display:flex!important;-webkit-box-align:center!important;-webkit-align-items:center!important;align-items:center!important;-webkit-box-pack:center!important;-webkit-justify-content:center!important;justify-content:center!important;width:32px!important;height:32px!important;margin:0 4px!important}#appbar a[href*="/account"]{display:-webkit-box!important;display:-webkit-flex!important;display:flex!important;-webkit-box-align:center!important;-webkit-align-items:center!important;align-items:center!important;min-width:128px!important;height:36px!important;padding:8px 12px!important;margin-left:20px!important;background-color:#3d4759!important;border:1px solid #718096!important;border-radius:4px!important}#appbar .hidden.md\\\\:block,#appbar [class*="hidden md:block"],#appbar [class*="hidden sm:flex"]{display:-webkit-box!important;display:-webkit-flex!important;display:flex!important}#appbar .grow{-webkit-box-flex:1!important;-webkit-flex-grow:1!important;flex-grow:1!important}#__layout>div>div:not(.w-full.h-16):not([role=toolbar]){padding-top:64px!important;padding-left:80px!important;box-sizing:border-box!important}.text-white.max-h-screen>div:not(.w-full.h-16):not([role=toolbar]){margin-top:0!important}.categorizedBookshelfRow{overflow-x:auto!important;scroll-behavior:smooth!important}.bookshelfRow a,.categorizedBookshelfRow a{cursor:pointer!important}.mobile-menu,.mobile-nav,[class*=mobile-only]{display:none!important}.modal,[role=dialog]{z-index:9000!important}#item-page-wrapper,#page-wrapper{padding:80px 24px 16px 96px!important}#item-page-wrapper>.flex{-webkit-box-orient:horizontal!important;-webkit-flex-direction:row!important;flex-direction:row!important;-webkit-box-align:start!important;-webkit-align-items:flex-start!important;align-items:flex-start!important;gap:24px!important;margin-bottom:16px!important}#item-page-wrapper>.flex>div:first-child{-webkit-flex-shrink:0!important;flex-shrink:0!important;width:240px!important;min-width:240px!important}#item-page-wrapper .covers-book-cover,#item-page-wrapper [class*=book-cover]{cursor:pointer!important;width:100%!important;height:auto!important;border-radius:8px!important}#item-page-wrapper [class*=h-1],#item-page-wrapper [class*=progress-bar]{height:8px!important;min-height:8px!important;border-radius:4px!important;margin-top:12px!important}#item-page-wrapper .grow,#item-page-wrapper>.flex>div:last-child{-webkit-box-flex:1!important;-webkit-flex-grow:1!important;flex-grow:1!important;max-width:calc(100% - 280px)!important;padding-right:16px!important}#item-page-wrapper h1{font-size:2rem!important;line-height:1.2!important;margin-bottom:4px!important;font-weight:600!important}#item-page-wrapper h1+p{font-size:1.25rem!important;color:#a0aec0!important;margin-bottom:8px!important}#item-page-wrapper a[href^="/author/"],#item-page-wrapper a[href^="/series/"]{display:inline-block!important;padding:4px 10px!important;border-radius:4px!important;font-size:1rem!important;margin-right:8px!important;margin-bottom:4px!important}#item-page-wrapper .flex.items-center.flex-wrap,#item-page-wrapper .flex.items-center.justify-center{background:rgba(255,255,255,.03)!important;border:1px solid rgba(255,255,255,.1)!important;border-radius:12px!important;padding:16px 20px!important;gap:12px!important;margin-top:16px!important;margin-bottom:16px!important;-webkit-flex-wrap:wrap!important;flex-wrap:wrap!important}#item-page-wrapper .bg-success,#item-page-wrapper button:has(.material-symbols:contains("play")),#item-page-wrapper button[aria-label=Play]{min-width:140px!important;min-height:52px!important;padding:12px 28px!important;font-size:1.125rem!important;font-weight:600!important;border-radius:8px!important;background:#1ad691!important;color:#000!important}#item-page-wrapper .ui-btn,#item-page-wrapper button.flex.items-center{min-width:100px!important;min-height:48px!important;padding:10px 20px!important;font-size:1rem!important;border-radius:8px!important}#item-page-wrapper .icon-btn,#item-page-wrapper .ui-icon-btn,#item-page-wrapper button[aria-label*=Bookmark],#item-page-wrapper button[aria-label*=Edit],#item-page-wrapper button[aria-label*=More]{min-width:48px!important;min-height:48px!important;padding:12px!important;border-radius:8px!important;background:rgba(255,255,255,.08)!important}#item-page-wrapper .icon-btn .material-symbols,#item-page-wrapper .ui-icon-btn .material-symbols,#item-page-wrapper button .material-symbols{font-size:1.25rem!important}#item-page-wrapper .text-gray-300,#item-page-wrapper .text-gray-400{font-size:.9375rem!important}#item-page-wrapper a[href^="/narrator/"]{font-size:1rem!important;padding:4px 8px!important;border-radius:4px!important}#item-page-wrapper [class*=bg-primary],#item-page-wrapper [class*=genre],#item-page-wrapper [class*=tag]{padding:6px 12px!important;font-size:.875rem!important;margin:3px!important;border-radius:4px!important}#item-description{font-size:1rem!important;line-height:1.7!important;max-height:none!important;margin-top:12px!important;margin-bottom:12px!important;padding:12px 16px!important;background:rgba(255,255,255,.02)!important;border-radius:8px!important;border:1px solid rgba(255,255,255,.05)!important}#item-page-wrapper .text-white-50,#item-page-wrapper button:has(.material-symbols:contains("expand")){padding:8px 16px!important;font-size:.875rem!important;min-height:36px!important}#item-page-wrapper [class*=chapters],.chapters-table-wrapper{margin-top:20px!important;background:rgba(255,255,255,.02)!important;border:1px solid rgba(255,255,255,.08)!important;border-radius:12px!important;overflow:hidden!important}.bg-primary.px-6.py-2,[class*=chapters-table]>div:first-child{padding:12px 20px!important;font-size:1.125rem!important;font-weight:600!important;background:rgba(255,255,255,.05)!important;border-radius:0!important}.bg-black-400.rounded-xl{padding:4px 10px!important;font-size:.875rem!important;border-radius:6px!important}.bg-primary.px-6.py-2 .ui-btn,[class*=chapters-table] button{min-height:40px!important;padding:8px 16px!important;font-size:.875rem!important;border-radius:6px!important}.chapters-list,[class*=chapters-table]>div:last-child{max-height:500px!important;overflow-y:auto!important}.chapter-row,[class*=chapters-table]>div>div{padding:12px 20px!important;min-height:56px!important;font-size:1rem!important;border-bottom:1px solid rgba(255,255,255,.06)!important;cursor:pointer!important;display:-webkit-box!important;display:-webkit-flex!important;display:flex!important;-webkit-box-align:center!important;-webkit-align-items:center!important;align-items:center!important;gap:12px!important}.chapter-row.current,[class*=chapters-table] [class*=bg-success]{background:rgba(26,214,145,.1)!important;border-left:4px solid #1ad691!important;padding-left:16px!important}.chapter-row .text-gray-500,[class*=chapters-table] .font-mono{font-size:.875rem!important;min-width:50px!important;color:#9ca3af!important}.chapter-row p,[class*=chapters-table] p{font-size:1rem!important;-webkit-box-flex:1!important;-webkit-flex-grow:1!important;flex-grow:1!important}.chapter-row .text-gray-400,[class*=chapters-table] .font-mono.text-gray-400{font-size:.875rem!important;min-width:70px!important;text-align:right!important}[class*=tracks-table]{margin-top:16px!important;background:rgba(255,255,255,.02)!important;border:1px solid rgba(255,255,255,.08)!important;border-radius:12px!important;overflow:hidden!important}[class*=tracks-table]>div:first-child{padding:12px 20px!important;font-size:1.125rem!important;font-weight:600!important;background:rgba(255,255,255,.05)!important}[class*=tracks-table]>div>div{padding:10px 20px!important;min-height:52px!important;font-size:.9375rem!important;cursor:pointer!important;border-bottom:1px solid rgba(255,255,255,.06)!important}#mediaPlayerContainer{z-index:10000!important}#mediaPlayerContainer .absolute.-top-\\[5\\.5rem\\],#mediaPlayerContainer [class*="-top-"]{bottom:100%!important;top:auto!important;margin-bottom:8px!important}#mediaPlayerContainer .absolute.z-20,#mediaPlayerContainer [role=listbox],#mediaPlayerContainer [role=menu]{bottom:100%!important;top:auto!important}#mediaPlayerContainer>.flex.items-start{padding-left:96px!important;display:-webkit-box!important;display:-webkit-flex!important;display:flex!important;-webkit-box-align:start!important;-webkit-align-items:flex-start!important;align-items:flex-start!important;margin-bottom:0!important}#mediaPlayerContainer>.flex.items-start>.min-w-0{min-width:0!important;width:100%!important}#mediaPlayerContainer>.flex.items-start a[href^="/item/"]{display:block!important;font-size:1.125rem!important;overflow:hidden!important;text-overflow:ellipsis!important;white-space:nowrap!important}#mediaPlayerContainer>.flex.items-start .text-gray-400{display:-webkit-box!important;display:-webkit-flex!important;display:flex!important;-webkit-box-align:center!important;-webkit-align-items:center!important;align-items:center!important;font-size:1rem!important;width:40%!important}#mediaPlayerContainer>.flex.items-start .text-gray-400 .font-mono{font-size:.875rem!important}#mediaPlayerContainer>.flex.items-start button[aria-label]{padding:16px!important;font-size:1.5rem!important}#mediaPlayerContainer .w-full.-mt-6{margin-top:-24px!important;width:100%!important}#mediaPlayerContainer .w-full.-mt-6>.w-full.relative{position:relative!important;width:100%!important;margin-bottom:4px!important}#mediaPlayerContainer .flex.justify-center,#mediaPlayerContainer .w-full.relative>.flex:not(.absolute){display:-webkit-box!important;display:-webkit-flex!important;display:flex!important;-webkit-box-pack:center!important;-webkit-justify-content:center!important;justify-content:center!important;-webkit-box-align:center!important;-webkit-align-items:center!important;align-items:center!important;gap:12px!important}#mediaPlayerContainer .flex.justify-center button,#mediaPlayerContainer .w-full.relative>.flex:not(.absolute) button{margin:0 6px!important}#mediaPlayerContainer .absolute.-top-10.right-0,#mediaPlayerContainer .w-full.-mt-6 .absolute.-top-10,#mediaPlayerContainer .w-full.relative>.absolute.right-0{position:absolute!important;top:0!important;right:8px!important;display:-webkit-box!important;display:-webkit-flex!important;display:flex!important;-webkit-box-align:center!important;-webkit-align-items:center!important;align-items:center!important;height:100%!important;gap:8px!important}#mediaPlayerContainer .controls-volume-control,#mediaPlayerContainer [class*=volume-control]{display:block!important}#mediaPlayerContainer .w-full.-mt-6 button{min-width:44px!important;min-height:44px!important;cursor:pointer!important;margin:0 4px!important}#mediaPlayerContainer .relative .w-full.h-2,#mediaPlayerContainer .w-full.h-2.bg-gray-700{height:12px!important;min-height:12px!important;background-color:#374151!important;position:relative!important;cursor:pointer!important;overflow:hidden!important;border-radius:4px!important}#mediaPlayerContainer .h-full.bg-gray-600{background-color:#4b5563!important;height:100%!important}#mediaPlayerContainer .h-full.bg-gray-500{background-color:#6b7280!important;height:100%!important}#mediaPlayerContainer .h-full.bg-gray-200{background-color:#e5e7eb!important;height:100%!important}#mediaPlayerContainer .h-full.w-0\\.5.bg-gray-50{background-color:#f9fafb!important;width:2px!important;height:100%!important}#mediaPlayerContainer .relative.flex.items-center.justify-between{display:-webkit-box!important;display:-webkit-flex!important;display:flex!important;-webkit-box-pack:justify!important;-webkit-justify-content:space-between!important;justify-content:space-between!important;-webkit-box-align:center!important;-webkit-align-items:center!important;align-items:center!important;position:relative!important;width:100%!important}#mediaPlayerContainer .relative.flex.items-center.justify-between>.grow:first-child{display:-webkit-box!important;display:-webkit-flex!important;display:flex!important;-webkit-box-align:center!important;-webkit-align-items:center!important;align-items:center!important;-webkit-box-flex:1!important;-webkit-flex-grow:1!important;flex-grow:1!important}#mediaPlayerContainer .relative.flex.items-center.justify-between>.absolute{position:absolute!important;left:50%!important;-webkit-transform:translateX(-50%)!important;transform:translateX(-50%)!important}#mediaPlayerContainer .relative.flex.items-center.justify-between>.grow:last-child{display:-webkit-box!important;display:-webkit-flex!important;display:flex!important;-webkit-box-align:center!important;-webkit-align-items:center!important;align-items:center!important;-webkit-box-pack:end!important;-webkit-justify-content:flex-end!important;justify-content:flex-end!important;-webkit-box-flex:1!important;-webkit-flex-grow:1!important;flex-grow:1!important}.modals-chapters-modal,[class*=chapters-modal]{max-width:800px!important;max-height:80vh!important}.chapters-modal-item,[class*=chapters-modal]>div{padding:16px 24px!important;min-height:64px!important;font-size:1.125rem!important;cursor:pointer!important}.chapters-modal-item.current,[class*=chapters-modal] [class*=bg-success]{background:rgba(26,214,145,.2)!important;border-left:4px solid #1ad691!important}.covers-collection-cover{cursor:pointer!important}#page-wrapper h1:first-of-type{font-size:2.25rem!important}#page-wrapper .text-base.text-gray-100{font-size:1.125rem!important;line-height:1.7!important}#page-wrapper .flex.items-center button{min-height:48px!important;padding:12px 24px!important;font-size:1rem!important}#page-wrapper button[type=button]:has(.material-symbols:contains("edit")){min-width:48px!important;min-height:48px!important}[class*=bg-primary]>[class*=bg-primary],[class*=collection-books]>div:first-child{padding:16px 24px!important;font-size:1.25rem!important}.text-sm.text-gray-200{font-size:1rem!important}.collection-book-item,[class*=collection-book-table-row]{padding:12px 24px!important;min-height:80px!important;border-bottom:1px solid rgba(255,255,255,.1)!important;cursor:pointer!important;display:-webkit-box!important;display:-webkit-flex!important;display:flex!important;-webkit-box-align:center!important;-webkit-align-items:center!important;align-items:center!important;gap:16px!important}.drag-handle{min-width:32px!important;min-height:32px!important;cursor:grab!important}.collection-book-item .covers-book-cover,[class*=collection-book-table-row] .covers-book-cover{width:60px!important;min-width:60px!important}.collection-book-item a[href^="/item/"],[class*=collection-book-table-row] a{font-size:1.125rem!important;padding:4px 8px!important;border-radius:4px!important}.collection-book-item .font-mono,.collection-book-item .text-gray-400,[class*=collection-book-table-row] .font-mono,[class*=collection-book-table-row] .text-gray-400{font-size:1rem!important}.collection-book-item button,[class*=collection-book-table-row] button{min-width:40px!important;min-height:40px!important;opacity:1!important}[class*=playlist-items]>div:first-child{padding:16px 24px!important;font-size:1.25rem!important}[class*=playlist-item-table-row]{padding:12px 24px!important;min-height:72px!important}#page-wrapper .covers-group-cover{cursor:pointer!important}#page-wrapper h1[class*=series]{font-size:2.25rem!important}#page-wrapper .covers-author-image,#page-wrapper img[alt*=author i]{width:200px!important;height:200px!important;border-radius:50%!important}#page-wrapper h1:has(+ .text-gray-400){font-size:2.5rem!important}#page-wrapper .whitespace-pre-wrap{font-size:1.125rem!important;line-height:1.7!important}#page-wrapper.streaming,.page.streaming{padding-bottom:200px!important}[class*=bookmarks-modal]>div{padding:16px 24px!important;min-height:64px!important;cursor:pointer!important}[class*=bookmarks-modal] .font-mono{font-size:1rem!important}[class*=bookmarks-modal] p{font-size:1.125rem!important}[class*=sleep-timer-modal] button{min-height:56px!important;padding:16px 32px!important;font-size:1.25rem!important;margin:8px!important}[class*=player-queue]>div{padding:12px 24px!important;min-height:72px!important;cursor:pointer!important}.flex-col.lg\\\\:flex-row,.flex-col.md\\\\:flex-row,.flex-col.sm\\\\:flex-row{-webkit-box-orient:horizontal!important;-webkit-flex-direction:row!important;flex-direction:row!important}.hidden.lg\\\\:block,.hidden.lg\\\\:flex,.hidden.md\\\\:block,.hidden.md\\\\:flex,.hidden.sm\\\\:block,.hidden.sm\\\\:flex{display:-webkit-box!important;display:-webkit-flex!important;display:flex!important}.block.md\\\\:hidden,.block.sm\\\\:hidden,.flex.md\\\\:hidden,.flex.sm\\\\:hidden{display:none!important}[data-tp-focusable=true]{cursor:pointer!important}.overflow-hidden.relative>.w-full.flex,.w-full.flex.items-center.px-1,.w-full.flex.items-center.px-2{cursor:pointer!important;transition:background-color .15s!important}#item-page-wrapper .ui-btn,#page-wrapper .ui-btn{min-height:48px!important;min-width:120px!important;padding:12px 24px!important;font-size:1.125rem!important}#item-page-wrapper .ui-icon-btn,#page-wrapper .ui-icon-btn{min-width:48px!important;min-height:48px!important}#item-page-wrapper [class*=chapters] .flex.py-2,#page-wrapper [class*=chapters] .flex.py-2,[class*=bg-primary]+div>div{cursor:pointer!important;min-height:56px!important}.group-hover\\\\:opacity-100,[cy-id=overlay],[cy-id=playButton]{opacity:1!important}#mediaPlayerContainer .flex.items-center button{cursor:pointer!important}#mediaPlayerContainer .relative.w-full{min-height:32px!important;cursor:pointer!important}.collection-books-table>div>div,[class*=BookTableRow]{min-height:80px!important;padding:12px 16px!important}.playlist-items-table>div,[class*=ItemTableRow]{min-height:72px!important;padding:12px 16px!important}[class*="hover:bg"],[class*=bg-white]{background:rgba(255,255,255,.03)!important}',onActivate:function(){Kat?console.log("TizenPortal [ABS]: Already activated"):(console.log("TizenPortal [ABS]: Activating"),Kat=!0,!tst&&window.TizenPortal&&window.TizenPortal.registerBundleMatcher&&(window.TizenPortal.registerBundleMatcher({bundleName:"audiobookshelf",titleContains:["audiobookshelf"],selectors:["#siderail-buttons-container","#appbar","#mediaPlayerContainer"]}),tst=!0),"loading"===document.readyState?(nst=this.onDOMReady.bind(this),document.addEventListener("DOMContentLoaded",nst)):this.onDOMReady())},onDOMReady:function(){console.log("TizenPortal [ABS]: DOM ready");var t=this;this.initializeTizenAudio(),function(){if(!document.getElementById("tp-geometry-css")){var t=document.createElement("style");t.id="tp-geometry-css",t.textContent=["/* TizenPortal Geometry Spacing - CSS-first approach */","",":root {","  "+Sat+": 4px;","}","","/* Apply to containers to enforce gaps between focusable children */","."+kat+" {","  gap: var("+Sat+", 4px);","}","","/* Flex containers with spacing */","."+kat+".flex,","."+kat+'[style*="display: flex"],',"."+kat+'[style*="display:flex"] {',"  gap: var("+Sat+", 4px);","}","","/* Grid containers with spacing */","."+kat+".grid,","."+kat+'[style*="display: grid"],',"."+kat+'[style*="display:grid"] {',"  gap: var("+Sat+", 4px);","}","","/* Fallback: margin on direct children for non-flex/grid layouts */","."+kat+' > [tabindex]:not([tabindex="-1"]),',"."+kat+" > a,","."+kat+" > button {","  margin: calc(var("+Sat+", 4px) / 2);","}","","/* Entered card state - visual indicator */",".tp-card-entered {","  outline: 2px dashed rgba(26, 214, 145, 0.5) !important;","  outline-offset: 2px;","}","","/* Card inner focus when entered */",".tp-card-entered :focus {","  outline: 3px solid #1ad691 !important;","  outline-offset: 1px;","}"].join("\n");var e=document.head||document.documentElement;e.insertBefore(t,e.firstChild),console.log("TizenPortal [Geometry]: Spacing CSS injected")}}(),this.registerCardSelectors(),this.registerNavigableSelectors(),this.registerElementManipulations(),$at=hat(function(){try{t.monitorAudioElement(),t.updateColourHintsVisibility()}catch(t){console.warn("TizenPortal [ABS]: Error in DOM observer:",t.message)}},{debounceMs:250}),Qat=this.watchUrlChanges(),window.TizenPortal&&window.TizenPortal.input&&window.TizenPortal.input.registerKeyHandler?Jat=window.TizenPortal.input.registerKeyHandler(this.handleKeyDown.bind(this)):console.warn("TizenPortal [ABS]: registerKeyHandler not available"),pat(Xat(),500),window.TizenPortal&&window.TizenPortal.debug&&this.validateAllSpacing()},onDeactivate:function(){console.log("TizenPortal [ABS]: Deactivating"),Kat=!1,Jat&&(Jat(),Jat=null),$at&&($at(),$at=null),Qat&&(Qat(),Qat=null),nst&&(document.removeEventListener("DOMContentLoaded",nst),nst=null),est&&(rst.loadstart&&est.removeEventListener("loadstart",rst.loadstart),rst.canplay&&est.removeEventListener("canplay",rst.canplay),rst.playing&&est.removeEventListener("playing",rst.playing),rst.pause&&est.removeEventListener("pause",rst.pause),rst.error&&est.removeEventListener("error",rst.error),rst.waiting&&est.removeEventListener("waiting",rst.waiting),rst.stalled&&est.removeEventListener("stalled",rst.stalled),delete est.dataset.tpMonitored,est=null),rst={loadstart:null,canplay:null,playing:null,pause:null,error:null,waiting:null,stalled:null},xat()&&wat()},handleKeyDown:function(t){var e=t.keyCode,r=document.activeElement;console.log("TizenPortal [ABS]: handleKeyDown received keyCode:",e);var n=document.querySelector(Uat),o=n&&"none"!==getComputedStyle(n).display;if(e!==Rot.PLAY_PAUSE&&e!==Rot.PLAY&&e!==Rot.PAUSE&&e!==Rot.FAST_FORWARD&&e!==Rot.REWIND&&e!==Rot.STOP||console.log("TizenPortal [ABS]: Media key pressed:",e,"Player visible:",o),o){if(e===Rot.PLAY_PAUSE||e===Rot.PLAY||e===Rot.PAUSE)return console.log("TizenPortal [ABS]: Handling PLAY/PAUSE key"),this.togglePlayback(),!0;if(e===Rot.FAST_FORWARD)return console.log("TizenPortal [ABS]: Handling FAST_FORWARD key"),this.seekForward(),!0;if(e===Rot.REWIND)return console.log("TizenPortal [ABS]: Handling REWIND key"),this.seekBackward(),!0;if(e===Rot.STOP)return console.log("TizenPortal [ABS]: Handling STOP key"),this.closePlayer(),!0}if(!o&&(e===Rot.PLAY_PAUSE||e===Rot.PLAY)){if(this.isOnItemDetailPage())return this.playItemFromDetailPage(),!0;var i=r&&r.closest(Fat);if(i)return this.playFromFocusedCard(i),!0}return!1},registerCardSelectors:function(){if(window.TizenPortal&&window.TizenPortal.cards){var t=window.TizenPortal.cards;t.register({selector:Bat,type:"multi"}),t.register({selector:Lat,type:"single"}),t.register({selector:_at,type:"single"}),t.register({selector:Dat,type:"single"}),t.register({selector:".author-card",type:"single"}),t.register({selector:'[id^="author-card-"]',type:"single"}),t.register({selector:'a[href*="/author/"]',type:"single"}),t.register({selector:Rat,type:"single"}),console.log("TizenPortal [ABS]: Card selectors registered")}else console.warn("TizenPortal [ABS]: Card registration API not available")},registerNavigableSelectors:function(){if(window.TizenPortal&&window.TizenPortal.features&&"function"==typeof window.TizenPortal.features.addNavigableSelector){var t=window.TizenPortal.features.addNavigableSelector.bind(window.TizenPortal.features);t(".ui-dropdown-menu li"),t('tr[class*="cursor-pointer"]'),t(".chapter-row"),t('[class*="chapters"] > div > div'),t(".icon-btn"),t('[class*="icon-btn"]'),t(".bg-success"),console.log("TizenPortal [ABS]: ABS-specific navigable selectors registered")}else console.warn("TizenPortal [ABS]: addNavigableSelector not available")},registerElementManipulations:function(){if(window.TizenPortal&&window.TizenPortal.elements){var t=window.TizenPortal.elements;t.register({selector:zat,operation:"attribute",attributes:{"data-tp-nav":"vertical"}}),t.register({selector:jat,operation:"attribute",attributes:{"data-tp-nav":"vertical"}}),t.register({selector:jat,operation:"class",classes:[kat]}),t.register({selector:Uat,operation:"attribute",attributes:{"data-tp-nav":"horizontal"}}),t.register({selector:"button",operation:"attribute",container:Uat,attributes:{"data-tp-nav-item":"true"},condition:function(t){return!t.disabled&&"true"!==t.getAttribute("aria-hidden")}}),t.register({selector:'tr[class*="cursor-pointer"], tr.hover\\:bg-',operation:"attribute",container:Nat,attributes:{"data-tp-card":"single"}}),t.register({selector:Mat,operation:"class",classes:[kat]}),t.register({selector:"#siderail-buttons-container",operation:"class",classes:[kat]}),t.register({selector:Iat,operation:"class",classes:[kat]}),t.register({selector:Uat,operation:"class",classes:[kat]}),t.register({selector:'[class*="collection"] > div, .collection-book-row, .w-full.flex.items-center',operation:"focusable",container:Nat,condition:function(t){return-1!==window.location.pathname.indexOf("/collection/")&&t.querySelector('.covers-book-cover, [class*="book-cover"]')}}),t.register({selector:'[class*="playlist"] .w-full.flex, .playlist-item-row',operation:"focusable",condition:function(t){return-1!==window.location.pathname.indexOf("/playlist/")&&t.querySelector('.covers-book-cover, [class*="book-cover"], [class*="preview-cover"]')}}),console.log("TizenPortal [ABS]: Element manipulations registered")}else console.warn("TizenPortal [ABS]: Element registration API not available")},applySpacingClasses:function(){},setupPlayerControls:function(){},updateColourHintsVisibility:function(){try{var t=document.querySelector(".tp-site-hints");if(!t)return;var e=document.querySelector(Uat);e&&"none"!==e.style.display&&"none"!==getComputedStyle(e).display?"none"!==t.style.display&&(t.style.display="none",console.log("TizenPortal [ABS]: Hiding colour hints (player visible)")):"none"===t.style.display&&(t.style.display="",console.log("TizenPortal [ABS]: Showing colour hints (player hidden)"))}catch(t){console.warn("TizenPortal [ABS]: Error updating colour hints:",t.message)}},validateAllSpacing:function(){for(var t=document.querySelectorAll(Mat),e=0;e<t.length;e++){var r=Cat(t[e]);r.valid||(console.warn("TizenPortal [ABS]: Bookshelf row",e,"has spacing violations"),Oat(r))}},isPlayerActive:function(){var t=document.querySelector(Uat);return t&&"none"!==getComputedStyle(t).display},togglePlayback:function(){var t=document.getElementById("audio-player");if(t)if(this.monitorAudioElement(),console.log("TizenPortal [ABS]: Toggle playback, current state:",{paused:t.paused,muted:t.muted,volume:t.volume,src:t.currentSrc,readyState:t.readyState}),t.muted&&(t.muted=!1),t.volume<.1&&(t.volume=1),t.paused){this.initializeTizenAudio();var e=t.play();void 0!==e&&e.then(function(){console.log("TizenPortal [ABS]: Play started successfully")}).catch(function(t){console.error("TizenPortal [ABS]: Play failed:",t.message)}),console.log("TizenPortal [ABS]: Play audio")}else t.pause(),console.log("TizenPortal [ABS]: Pause audio");else{var r=document.querySelector("#mediaPlayerContainer button.bg-accent")||document.querySelector("#mediaPlayerContainer .p-2.bg-accent");r&&(r.click(),console.log("TizenPortal [ABS]: Toggle playback via button click"))}},seekForward:function(){var t=document.getElementById("audio-player");if(t&&!isNaN(t.duration)){return t.currentTime=Math.min(t.currentTime+30,t.duration),void console.log("TizenPortal [ABS]: Seek forward",30,"seconds")}for(var e=document.querySelectorAll("#mediaPlayerContainer button"),r=0;r<e.length;r++){var n=e[r].querySelector(".material-symbols");if(n&&n.textContent&&-1!==n.textContent.indexOf("forward"))return e[r].click(),void console.log("TizenPortal [ABS]: Seek forward via button")}},seekBackward:function(){var t=document.getElementById("audio-player");if(t&&!isNaN(t.duration)){return t.currentTime=Math.max(t.currentTime-10,0),void console.log("TizenPortal [ABS]: Seek backward",10,"seconds")}for(var e=document.querySelectorAll("#mediaPlayerContainer button"),r=0;r<e.length;r++){var n=e[r].querySelector(".material-symbols");if(n&&n.textContent&&-1!==n.textContent.indexOf("replay"))return e[r].click(),void console.log("TizenPortal [ABS]: Seek backward via button")}},closePlayer:function(){for(var t=document.querySelector('#mediaPlayerContainer button[aria-label*="Close"]')||document.querySelector("#mediaPlayerContainer .material-symbols"),e=document.querySelectorAll("#mediaPlayerContainer button"),r=0;r<e.length;r++){if(-1!==(e[r].textContent||"").indexOf("close"))return e[r].click(),void console.log("TizenPortal [ABS]: Close player")}t&&t.closest("button")&&(t.closest("button").click(),console.log("TizenPortal [ABS]: Close player"))},isOnItemDetailPage:function(){return-1!==(window.location.pathname||"").indexOf("/item/")},playItemFromDetailPage:function(){var t=document.querySelector("#page-wrapper .bg-success")||document.querySelector("#item-page-wrapper .bg-success")||document.querySelector("button.bg-success");if(t)return t.click(),void console.log("TizenPortal [ABS]: Play from detail page");for(var e=document.querySelectorAll("#page-wrapper button, #item-page-wrapper button"),r=0;r<e.length;r++){var n=e[r].querySelector(".material-symbols");if(n){var o=n.textContent||"";if(-1!==o.indexOf("î·")||-1!==o.indexOf("play_arrow")||""===o)return e[r].click(),void console.log("TizenPortal [ABS]: Play from detail page (fallback)")}}},playFromFocusedCard:function(t){var e=t.querySelector('[cy-id="playButton"]')||t.querySelector(".material-symbols");if(e){var r=e.textContent||"";if(-1!==r.indexOf("play_arrow")||-1!==r.indexOf("î·"))return e.click(),void console.log("TizenPortal [ABS]: Play from card")}var n=t.querySelector('a[href^="/item/"]');if(n){var o=n.getAttribute("href");return window.sessionStorage.setItem("tp_autoplay","true"),window.location.href=o,void console.log("TizenPortal [ABS]: Navigate to item for playback")}t.click()},watchUrlChanges:function(){var t=this;function e(){try{var e=window.location.href;if(e===Zat)return;console.log("TizenPortal [ABS]: URL changed from",Zat,"to",e),Zat=e,xat()&&wat();for(var r=document.querySelectorAll("[data-tp-card]"),n=0;n<r.length;n++)r[n].removeAttribute("data-tp-card"),r[n].removeAttribute("tabindex");setTimeout(function(){try{window.TizenPortal&&window.TizenPortal.cards&&window.TizenPortal.cards.process(),pat(Xat(),100),"true"===window.sessionStorage.getItem("tp_autoplay")&&(window.sessionStorage.removeItem("tp_autoplay"),setTimeout(function(){t.playItemFromDetailPage()},500))}catch(t){console.warn("TizenPortal [ABS]: Error in URL change timeout:",t.message)}},300)}catch(t){console.warn("TizenPortal [ABS]: Error in URL change handler:",t.message)}}Zat=window.location.href,window.addEventListener("popstate",e);var r=setInterval(function(){window.location.href!==Zat&&e()},500);return function(){window.removeEventListener("popstate",e),clearInterval(r)}},setupDetailPageFocusables:function(){},setupItemDetailPage:function(){},setupCollectionPage:function(){},setupPlaylistPage:function(){},initializeTizenAudio:function(){try{if("undefined"!=typeof tizen&&tizen.tvaudiocontrol){this._tizenAudioChecked||(console.log("TizenPortal [ABS]: Tizen TV Audio API available"),this._tizenAudioChecked=!0),tizen.tvaudiocontrol.isMute()&&(tizen.tvaudiocontrol.setMute(!1),console.log("TizenPortal [ABS]: TV unmuted for audio playback"));var t=tizen.tvaudiocontrol.getVolume();t<5&&(tizen.tvaudiocontrol.setVolume(20),console.log("TizenPortal [ABS]: TV volume was",t,", set to 20"))}else this._tizenAudioChecked||(console.log("TizenPortal [ABS]: Tizen TV Audio API not available (may not be Tizen)"),this._tizenAudioChecked=!0)}catch(t){console.warn("TizenPortal [ABS]: Error initializing Tizen audio:",t.message)}},monitorAudioElement:function(){var t=document.getElementById("audio-player");if(t&&!t.dataset.tpMonitored){t.dataset.tpMonitored="true",est=t,console.log("TizenPortal [ABS]: Setting up audio element monitoring"),"auto"!==t.preload&&(t.preload="auto",console.log("TizenPortal [ABS]: Set audio preload to auto")),console.log("TizenPortal [ABS]: Audio element:",{paused:t.paused,readyState:t.readyState,networkState:t.networkState}),t.muted&&(t.muted=!1,console.log("TizenPortal [ABS]: Audio element unmuted")),t.volume<.1&&(t.volume=1,console.log("TizenPortal [ABS]: Audio element volume set to 1.0")),t.src&&0===t.readyState&&2!==t.networkState&&(console.log("TizenPortal [ABS]: Calling load() to kickstart buffering"),t.load());var e=0;rst.loadstart=function(){e=Date.now(),console.log("TizenPortal [ABS]: Audio loading...")},t.addEventListener("loadstart",rst.loadstart),rst.canplay=function(){var t=e?Date.now()-e:"unknown";console.log("TizenPortal [ABS]: Audio ready to play (loaded in",t,"ms)")},t.addEventListener("canplay",rst.canplay),rst.playing=function(){console.log("TizenPortal [ABS]: Audio playing")},t.addEventListener("playing",rst.playing),rst.pause=function(){console.log("TizenPortal [ABS]: Audio paused")},t.addEventListener("pause",rst.pause),rst.error=function(e){var r=t.error;console.error("TizenPortal [ABS]: Audio error:",{code:r?r.code:"unknown",message:r?r.message:"unknown"})},t.addEventListener("error",rst.error),rst.waiting=function(){console.log("TizenPortal [ABS]: Audio buffering...")},t.addEventListener("waiting",rst.waiting),rst.stalled=function(){console.log("TizenPortal [ABS]: Audio stalled (network issue)")},t.addEventListener("stalled",rst.stalled)}}},ist={adblock:oat,audiobookshelf:ost,default:{style:"",onBeforeLoad:function(t,e){mot("TizenPortal [default]: Loading",e.url)},onAfterLoad:function(t,e){mot("TizenPortal [default]: Loaded",e.url)},onActivate:function(t,e){mot("TizenPortal [default]: Activated")},onDeactivate:function(t,e){mot("TizenPortal [default]: Deactivated")},onNavigate:function(t){mot("TizenPortal [default]: Navigated to",t)},onKeyDown:function(t){return!1}},"example-elements":{name:"example-elements",onActivate:function(t,e){console.log("Example Bundle: Activating element registration demo"),t.TizenPortal.elements.register({selector:"nav a",operation:"focusable",nav:"vertical"}),t.TizenPortal.elements.register({selector:".toolbar button",operation:"focusable",nav:"horizontal",classes:["tp-spacing"]}),t.TizenPortal.elements.register({selector:"button",operation:"focusable"}),t.TizenPortal.elements.register({selector:".card",operation:"class",classes:["tp-card","tp-focusable"]}),t.TizenPortal.elements.register({selector:".mobile-only",operation:"class",classes:["visible","show"],remove:!0}),t.TizenPortal.elements.register({selector:"button:not([aria-label]), button.icon-only",operation:"attribute",attributes:{"aria-label":"Action button",role:"button"}}),t.TizenPortal.elements.register({selector:".interactive",operation:"attribute",attributes:{"data-tp-interactive":"true","data-bundle":"example-elements"}}),t.TizenPortal.elements.register({selector:"header",operation:"style",styles:{position:"fixed",top:"0",left:"0",right:"0",zIndex:"100",backgroundColor:"rgba(0, 0, 0, 0.9)"},important:!0}),t.TizenPortal.elements.register({selector:".card",operation:"style",styles:{minWidth:"280px",minHeight:"160px",margin:"8px"}}),t.TizenPortal.elements.register({selector:".mobile-menu",operation:"hide"}),t.TizenPortal.elements.register({selector:".touch-hint",operation:"hide"}),t.TizenPortal.elements.register({selector:".ad-banner",operation:"hide"}),t.TizenPortal.elements.register({selector:".desktop-only",operation:"show"}),t.TizenPortal.elements.register({selector:".cookie-banner",operation:"remove"}),t.TizenPortal.elements.register({selector:'[role="button"]',operation:"focusable",condition:function(t){return!t.hasAttribute("tabindex")}}),t.TizenPortal.elements.register({selector:"a",operation:"focusable",container:"#main-content"}),t.TizenPortal.elements.register({selector:".hero-button",operation:"focusable",immediate:!0}),console.log("Example Bundle: All element registrations complete"),console.log("Example Bundle: Observer watching for dynamic content")},onDeactivate:function(t,e){console.log("Example Bundle: Deactivating")}}},ast={adblock:{jsBytes:33852,cssBytes:7584},audiobookshelf:{jsBytes:50101,cssBytes:70359},default:{jsBytes:1496,cssBytes:116},"example-elements":{jsBytes:6861,cssBytes:884}},sst=["directional","geometric","polyfill"],lst=[!0,!1,"force"],cst=["toggle","text","url","number","select","color","textarea"],ust=["focusStyling","focusOutlineMode","focusTransitions","focusTransitionMode","focusTransitionSpeed","tabindexInjection","scrollIntoView","safeArea","gpuHints","cssReset","hideScrollbars","wrapTextInputs","uaMode"];function dst(t,e){var r=[],n="options["+e+"]";return t&&"object"===a(t)?(t.key&&"string"==typeof t.key||r.push(n+".key is required and must be a string"),t.label&&"string"==typeof t.label||r.push(n+".label is required and must be a string"),t.type&&"string"==typeof t.type?-1===cst.indexOf(t.type)&&r.push(n+'.type "'+t.type+'" is invalid (must be one of: '+cst.join(", ")+")"):r.push(n+".type is required and must be a string"),void 0!==t.description&&"string"!=typeof t.description&&r.push(n+".description must be a string"),void 0!==t.placeholder&&"string"!=typeof t.placeholder&&r.push(n+".placeholder must be a string"),r):[n+" is not an object"]}var pst=Object.assign({},ist||{}),fst={adblock:{name:"adblock",displayName:"Ad Blocker",version:"1.0.0",description:"Blocks advertisements and tracking scripts for cleaner browsing",author:"TizenPortal",viewportLock:!1,provides:["ad-blocking","tracker-blocking","cookie-banner-hiding"],options:[{key:"strict",label:"Strict Mode",type:"toggle",default:!1,description:"Enable stricter ad blocking (may hide more content)"},{key:"allowlistUrl",label:"Allowlist URL",type:"url",placeholder:"https://example.com/allowlist.txt",description:"Text file with allowed hosts/paths (one per line)"},{key:"hideCookieBanners",label:"Hide Cookie Banners",type:"toggle",default:!1,description:"Hide cookie/consent banners"},{key:"inlineHeuristics",label:"Inline Ad Heuristics",type:"toggle",default:!0,description:"Use heuristics to detect inline ad scripts"}]},audiobookshelf:{name:"audiobookshelf",displayName:"Audiobookshelf",version:"1.0.0",description:"Media controls, library navigation, and player integration for Audiobookshelf",author:"TizenPortal",homepage:"https://www.audiobookshelf.org/",viewportLock:"force",requires:["focus-styling","media-keys"],provides:["media-controls","library-navigation","player-integration"],features:{tabindexInjection:!0,scrollIntoView:!0,wrapTextInputs:!0}},default:{name:"default",displayName:"Default",version:"1.0.0",author:"TizenPortal",description:"Basic bundle with focus styling and focusable elements. Used as fallback when no site-specific bundle is configured.",requires:[],provides:["focus-styling","focusable-elements"],features:{focusStyling:!0,tabindexInjection:!0}},"example-elements":{name:"example-elements",displayName:"Element Registration Example",version:"1.0.0",description:"Demonstrates declarative element registration system",author:"TizenPortal",viewportLock:!0}}||{};function gst(t){return pst[t]||null}function hst(){return Object.keys(pst)}function mst(){return Object.keys(pst).map(function(t){var e=pst[t],r=ast&&ast[t]||{},n=e.manifest||{};return{name:t,displayName:n.displayName||t,description:n.description||"No description available",jsBytes:r.jsBytes||0,cssBytes:r.cssBytes||0}})}function vst(t){var e=gst(t);if(!e||!e.manifest)return{satisfied:!0,missing:[]};var r=e.manifest;if(!r.requires||!Array.isArray(r.requires)||0===r.requires.length)return{satisfied:!0,missing:[]};for(var n,o=(n=[],Object.keys(pst).forEach(function(t){var e=pst[t].manifest;e&&e.provides&&Array.isArray(e.provides)&&(n=n.concat(e.provides))}),n),i=[],a=0;a<r.requires.length;a++){var s=r.requires[a];-1===o.indexOf(s)&&i.push(s)}return{satisfied:0===i.length,missing:i}}function yst(t){var e=vst(t);e.satisfied||(console.warn('TizenPortal: Bundle "'+t+'" has missing dependencies:',e.missing.join(", ")),console.warn("TizenPortal: Bundle may not function correctly without these capabilities"))}Object.keys(fst).forEach(function(t){if(pst[t]){var e=fst[t],r=e&&e.name;if(r&&r!==t)return void console.error('TizenPortal: Manifest name mismatch for bundle "'+t+'": manifest.name="'+r+'"');var n=function(t){var e=[];if(!t||"object"!==a(t))return{valid:!1,errors:["Manifest is not an object"]};if(t.name&&"string"==typeof t.name||e.push('Missing or invalid "name" field'),t.displayName&&"string"==typeof t.displayName||e.push('Missing or invalid "displayName" field'),t.version&&"string"==typeof t.version||e.push('Missing or invalid "version" field'),t.description&&"string"==typeof t.description||e.push('Missing or invalid "description" field'),void 0!==t.author&&"string"!=typeof t.author&&e.push('Invalid "author" field (must be string)'),void 0!==t.homepage&&"string"!=typeof t.homepage&&e.push('Invalid "homepage" field (must be string)'),void 0!==t.navigationMode&&("string"==typeof t.navigationMode?-1===sst.indexOf(t.navigationMode)&&e.push('Invalid "navigationMode": "'+t.navigationMode+'" (must be one of: '+sst.join(", ")+")"):"object"===a(t.navigationMode)?(t.navigationMode.mode&&-1!==sst.indexOf(t.navigationMode.mode)||e.push('Invalid "navigationMode.mode" (must be one of: '+sst.join(", ")+")"),void 0!==t.navigationMode.required&&"boolean"!=typeof t.navigationMode.required&&e.push('Invalid "navigationMode.required" (must be boolean)')):e.push('Invalid "navigationMode" (must be string or object)')),void 0!==t.viewportLock&&-1===lst.indexOf(t.viewportLock)&&e.push('Invalid "viewportLock" (must be one of: true, false, "force")'),void 0!==t.requires)if(Array.isArray(t.requires))for(var r=0;r<t.requires.length;r++)"string"!=typeof t.requires[r]&&e.push('Invalid "requires['+r+']" (must be string)');else e.push('Invalid "requires" (must be array)');if(void 0!==t.provides)if(Array.isArray(t.provides))for(r=0;r<t.provides.length;r++)"string"!=typeof t.provides[r]&&e.push('Invalid "provides['+r+']" (must be string)');else e.push('Invalid "provides" (must be array)');if(void 0!==t.options)if(Array.isArray(t.options))for(r=0;r<t.options.length;r++){var n=dst(t.options[r],r);e=e.concat(n)}else e.push('Invalid "options" (must be array)');if(void 0!==t.features)if("object"!==a(t.features)||Array.isArray(t.features))e.push('Invalid "features" (must be object)');else for(var o in t.features)t.features.hasOwnProperty(o)&&-1===ust.indexOf(o)&&e.push('Invalid feature key "'+o+'" (not a recognized feature)');return{valid:0===e.length,errors:e}}(e);if(!n.valid)return void function(t,e){console.error('TizenPortal: Bundle "'+t+'" manifest validation failed:');for(var r=0;r<e.length;r++)console.error("  - "+e[r])}(t,n.errors);pst[t].manifest=e,r===t&&(pst[t].name=r)}});var bst=null;function wst(){if(!document.getElementById("tp-modal-container")){var t=document.createElement("div");t.id="tp-modal-container",document.body.appendChild(t)}document.addEventListener("keydown",function(t){27===t.keyCode||t.keyCode},!0)}var xst={FEATURE:"feature",USERSCRIPT:"userscript"},Tst=[];function Pst(t){if(!t)return Tst.slice();for(var e=[],r=0;r<Tst.length;r++){var n=Tst[r],o=!0;t.type&&n.type!==t.type&&(o=!1),o&&t.category&&n.category!==t.category&&(o=!1),o&&t.id&&n.id!==t.id&&(o=!1),o&&e.push(n)}return e}function kst(t){var e=Pst({id:t});return e.length>0?e[0]:null}var Sst={ITEM_TYPES:xst,CATEGORIES:{CORE:"core",STYLING:"styling",NAVIGATION:"navigation",PERFORMANCE:"performance",INPUT:"input",ACCESSIBILITY:"accessibility",READING:"reading",VIDEO:"video",PRIVACY:"privacy",EXPERIMENTAL:"experimental"},register:function(t){if(!t||!t.id)return console.warn("Registry: Cannot register item without id"),!1;if(!t.type||t.type!==xst.FEATURE&&t.type!==xst.USERSCRIPT)return console.warn("Registry: Invalid item type:",t.type),!1;if(kst(t.id))return console.warn("Registry: Item already registered:",t.id),!1;if(t.type===xst.FEATURE&&(!t.implementation||"function"!=typeof t.implementation.apply))return console.warn("Registry: Feature must have implementation.apply():",t.id),!1;if(t.type===xst.USERSCRIPT){if(!t.source||"inline"!==t.source&&"url"!==t.source)return console.warn("Registry: Userscript must have valid source:",t.id),!1;if("inline"===t.source&&!t.inline)return console.warn("Registry: Inline userscript must have inline code:",t.id),!1;if("url"===t.source&&!t.url)return console.warn("Registry: URL userscript must have url:",t.id),!1}return Tst.push(t),!0},query:Pst,clear:function(){Tst.length=0},getAll:function(){return Pst()},getById:kst,getByType:function(t){return Pst({type:t})},getByCategory:function(t,e){var r={category:t};return e&&(r.type=e),Pst(r)},getFeatures:function(){return Pst({type:xst.FEATURE})},getUserscripts:function(){return Pst({type:xst.USERSCRIPT})},getFeaturesByCategory:function(t){return Pst({type:xst.FEATURE,category:t})},getUserscriptsByCategory:function(t){return Pst({type:xst.USERSCRIPT,category:t})},checkConflicts:function(t){for(var e={},r=[],n=0;n<t.length;n++){var o=kst(t[n]);if(o&&o.provides)for(var i=0;i<o.provides.length;i++){var a=o.provides[i];e[a]?(-1===r.indexOf(o.id)&&r.push(o.id),-1===r.indexOf(e[a])&&r.push(e[a])):e[a]=o.id}}return r}},Est=[],Ast=[];function Cst(){for(var t={},e=Sst.query({type:Sst.ITEM_TYPES.USERSCRIPT}),r=0;r<e.length;r++)e[r].defaultEnabled&&(t[e[r].id]=!0);return{enabled:t,urlCache:{}}}function Ost(){var t=Eot("tp_userscripts_v2"),e=!1;if(!t||"object"!==a(t)){var r=function(){var t=Eot("tp_userscripts");if(!t||"object"!==a(t))return null;var e={enabled:{},urlCache:{}};if(Array.isArray(t.scripts))for(var r=0;r<t.scripts.length;r++){var n=t.scripts[r];n&&n.id&&(!0===n.enabled&&(e.enabled[n.id]=!0),"url"===n.source&&n.cached&&(e.urlCache[n.id]={cached:n.cached,lastFetched:n.lastFetched||0}))}return window.TizenPortal&&window.TizenPortal.log&&window.TizenPortal.log("[Userscripts] Migrated "+Object.keys(e.enabled).length+" scripts from old config"),e}();r?(t=r,e=!0,window.TizenPortal&&window.TizenPortal.log&&window.TizenPortal.log("[Userscripts] Migration complete - using migrated config")):(t=Cst(),e=!0)}t.enabled&&"object"===a(t.enabled)||(t.enabled={},e=!0),t.urlCache&&"object"===a(t.urlCache)||(t.urlCache={},e=!0);for(var n=Sst.query({type:Sst.ITEM_TYPES.USERSCRIPT}),o=0;o<n.length;o++){var i=n[o];i.defaultEnabled&&!t.enabled.hasOwnProperty(i.id)&&(t.enabled[i.id]=!0,e=!0,window.TizenPortal&&window.TizenPortal.log&&window.TizenPortal.log("[Userscripts] Auto-enabled default script: "+i.name))}return e&&Aot("tp_userscripts_v2",t),t}function Ist(t){t&&"object"===a(t)||(t=Cst()),t.enabled&&"object"===a(t.enabled)||(t.enabled={}),t.urlCache&&"object"===a(t.urlCache)||(t.urlCache={}),Aot("tp_userscripts_v2",t)}function zst(){var t=Ost(),e=[];for(var r in t.enabled)!0===t.enabled[r]&&e.push(r);return e}function Rst(t,e,r,n){var o=function(t,e){return t?"url"===t.source?e&&e[t.id]&&e[t.id].cached?e[t.id].cached:"":t.inline||"":""}(t,e);if(o){var i={name:t.name||t.id||"userscript",cleanup:null};try{new Function("window","document","TizenPortal","card","bundle","userscript",o)(window,document,window.TizenPortal,r||null,n||null,i),"function"==typeof i.cleanup&&Est.push(i.cleanup),Ast.push(i.name)}catch(t){window.TizenPortal&&window.TizenPortal.warn?window.TizenPortal.warn("Userscript error ("+i.name+"): "+t.message):console.warn("TizenPortal Userscripts: Error in "+i.name+": "+t.message)}}}function Mst(){for(var t=0;t<Est.length;t++)try{Est[t]()}catch(t){window.TizenPortal&&window.TizenPortal.warn&&window.TizenPortal.warn("Userscript cleanup failed: "+t.message)}Est=[],Ast=[]}var Nst={getUserscriptsConfig:Ost,setUserscriptsConfig:Ist,getEnabledGlobalUserscripts:zst,setGlobalUserscriptEnabled:function(t,e){var r=Ost();r.enabled[t]=!0===e,Ist(r)},getGlobalUserscriptsForPayload:function(){for(var t=zst(),e=[],r=0;r<t.length;r++){var n=Sst.query({type:Sst.ITEM_TYPES.USERSCRIPT,id:t[r]}),o=n.length>0?n[0]:null;o&&e.push({id:o.id,name:o.name,category:o.category,source:o.source,inline:o.inline||null,url:o.url||null})}return e},applyUserscripts:function(t,e){Mst();var r=Ost(),n=r.urlCache||{},o=e&&e.name?e.name:"unknown",i=t&&t.name?t.name:"unknown";window.TizenPortal&&window.TizenPortal.log&&window.TizenPortal.log("[Userscripts] Applying for bundle: "+o+", card: "+i);var s=Sst.query({type:Sst.ITEM_TYPES.USERSCRIPT}),l=t&&t.userscriptToggles&&"object"===a(t.userscriptToggles)?t.userscriptToggles:null;window.TizenPortal&&window.TizenPortal.log&&(window.TizenPortal.log("[Userscripts] Checking "+s.length+" registered scripts"),window.TizenPortal.log("[Userscripts] Site toggles:",l),window.TizenPortal.log("[Userscripts] Global enabled:",r.enabled));for(var c=0,u=0;u<s.length;u++){var d=s[u];if(d&&d.id){(l&&l.hasOwnProperty(d.id)?!0===l[d.id]:!0===r.enabled[d.id])&&(window.TizenPortal&&window.TizenPortal.log&&window.TizenPortal.log("[Userscripts] Executing: "+d.name+" (ID: "+d.id+")"),Rst(d,n,t,e),c++)}}window.TizenPortal&&window.TizenPortal.log&&window.TizenPortal.log("[Userscripts] Executed "+c+" of "+s.length+" scripts")},clearUserscripts:Mst,Registry:Sst},Bst={active:!1,card:null,currentField:0,onComplete:null};function Lst(){var t=document.getElementById("tp-site-editor");return t?t.dataset.mode:"add"}function _st(){var t=document.getElementById("tp-site-editor");return t?t.dataset.cardId:""}function Dst(t,e){var r=document.getElementById("tp-site-editor");r&&(r.dataset.mode=t,r.dataset.cardId=e||"",console.log("TizenPortal: setEditorMode mode="+t+" cardId="+e))}var Fst=[{value:null,label:"Global (default)"},{value:"auto",label:"Auto"},{value:"locked",label:"Locked (1920)"},{value:"unlocked",label:"Unlocked"}],Ust=[{value:null,label:"Global (default)"},{value:"off",label:"Off (Base Blue Ring)"},{value:"on",label:"Blue Highlight"},{value:"high",label:"Yellow Highlight"}],jst=[{value:null,label:"Global (default)"},{value:"slide",label:"Slide (Directional)"},{value:"scale",label:"Scale (Grow)"},{value:"glow",label:"Glow (Pulse)"},{value:"off",label:"Off"}],Hst=[{value:null,label:"Global (default)"},{value:"fast",label:"Fast (150ms)"},{value:"medium",label:"Medium (250ms)"},{value:"slow",label:"Slow (400ms)"}],qst=[{value:null,label:"Global (default)"},{value:"extra-small",label:"Extra Small (75%)"},{value:"small",label:"Small (90%)"},{value:"off",label:"Normal (100%)"},{value:"medium",label:"Medium (115%)"},{value:"large",label:"Large (135%)"},{value:"extra-large",label:"Extra Large (160%)"}],Vst=[{value:null,label:"Global (default)"},{value:"tizen",label:"Tizen TV"},{value:"mobile",label:"Mobile"},{value:"desktop",label:"Desktop"}],Gst=[{value:null,label:"Global (Geometric default)"},{value:"geometric",label:"Grid Navigation (Geometric)"},{value:"directional",label:"Smart Navigation (Directional)"},{value:"polyfill",label:"Legacy Polyfill (Compatibility Only)"}],Wst=[{id:"focus",label:"ð¯ Focus & Navigation"},{id:"display",label:"ð¨ Display & Layout"},{id:"input",label:"â¨ï¸ Input Protection"},{id:"performance",label:"â¡ Performance"}],Yst=[{id:"appearance",label:"ð¨ Appearance"},{id:"navigation",label:"ð§­ Navigation Style"}],Xst=[{key:"textScale",label:"Text Scale",category:"appearance",options:qst,description:"Scale all text for improved TV legibility while maintaining relative sizing"},{key:"focusOutlineMode",label:"Focus Outline",category:"navigation",options:Ust,description:"Visual style of focus indicator outline"},{key:"focusTransitionMode",label:"Focus Transition Style",category:"navigation",options:jst,description:"Animation style when focus moves between elements"},{key:"focusTransitionSpeed",label:"Focus Transition Speed",category:"navigation",options:Hst,description:"Animation speed for focus transitions"}],Kst=[{id:"behavior",label:"ð§­ Behavior"}],Jst=[{key:"navigationMode",label:"Navigation Mode",category:"behavior",options:Gst,description:"Method used for directional navigation with the remote control"},{key:"viewportMode",label:"Viewport Lock Mode",category:"behavior",options:Fst,description:"Control viewport scaling behavior for this site"},{key:"userAgent",label:"User Agent Mode",category:"behavior",options:Vst,description:"Override user agent string for compatibility"}],$st=[{key:"tabindexInjection",label:"Auto-focusable Elements",category:"focus",description:"Automatically inject tabindex on interactive elements for remote control navigation"},{key:"scrollIntoView",label:"Scroll into View on Focus",category:"focus",description:"Scroll container when focused element comes into viewport"},{key:"navigationFix",label:"Navigation Fixes",category:"focus",description:"Apply site-specific navigation workarounds for better D-pad control"},{key:"focusTransitions",label:"Focus Transition Animations",category:"focus",description:"Enable smooth animations when focus moves between elements (slide, scale, glow)"},{key:"safeArea",label:"TV Safe Area (5% inset)",category:"display",description:"Override global safe area: Inset content 5% from edges to account for TV screen overscan"},{key:"cssReset",label:"CSS Normalization",category:"display",description:"Override global CSS reset: Apply baseline CSS resets for consistent Tizen display"},{key:"hideScrollbars",label:"Hide Scrollbars",category:"display",description:"Override global scrollbar hiding: Hide native scrollbars for cleaner TV interface"},{key:"wrapTextInputs",label:"Protect Text Inputs",category:"input",description:"Protect text input fields from accidental remote button presses during editing"},{key:"gpuHints",label:"GPU Acceleration",category:"performance",description:"Override global GPU hints: Apply GPU acceleration for animations on constrained hardware"}],Zst=[{id:"details",label:"ð Details",defaultCollapsed:!0},{id:"bundle",label:"ð¦ Bundle",defaultCollapsed:!0},{id:"bundleOptions",label:"âï¸ Bundle Options",defaultCollapsed:!0},{id:"globalOverrides",label:"âï¸ Global Feature Overrides (Session Only)",defaultCollapsed:!0},{id:"siteOverrides",label:"ð¥ï¸ Per-Site Feature Overrides (Persistent)",defaultCollapsed:!0},{id:"userscripts",label:"ð User Scripts",defaultCollapsed:!0}],Qst={details:!0,bundle:!0,bundleOptions:!0,globalOverrides:!0,siteOverrides:!0},tlt=[{name:"__section_details",label:"ð Details",type:"section",sectionId:"details"},{name:"name",label:"Site Name",type:"text",placeholder:"My Site",required:!0,section:"details"},{name:"url",label:"Site URL",type:"text",placeholder:"https://example.com",required:!0,section:"details"},{name:"icon",label:"Icon URL",type:"text",placeholder:"https://example.com/favicon.ico",required:!1,section:"details"},{name:"__fetchIcon",label:"Fetch Favicon",type:"button",action:"fetch-icon",section:"details"},{name:"__section_bundle",label:"ð¦ Bundle",type:"section",sectionId:"bundle"},{name:"featureBundle",label:"Site-specific Bundle",type:"bundle",required:!1,section:"bundle"},{name:"__section_bundleOptions",label:"âï¸ Bundle Options",type:"section",sectionId:"bundleOptions"},{name:"__bundleOptions",label:"Bundle Options",type:"bundleOptions",section:"bundleOptions"},{name:"__section_globalOverrides",label:"âï¸ Global Feature Overrides (Session Only)",type:"section",sectionId:"globalOverrides"},{name:"__globalOverrides",label:"Global Overrides",type:"globalOverrides",section:"globalOverrides"},{name:"__section_siteOverrides",label:"ð¥ï¸ Per-Site Feature Overrides (Persistent)",type:"section",sectionId:"siteOverrides"},{name:"__siteOverrides",label:"Site Overrides",type:"siteOverrides",section:"siteOverrides"},{name:"__features",label:"Feature Toggles",type:"featureOverrides",section:"siteOverrides"},{name:"__section_userscripts",label:"ð User Scripts",type:"section",sectionId:"userscripts"},{name:"__userscripts",label:"User Scripts",type:"userscripts",section:"userscripts"}];function elt(t){for(var e=Array.isArray(t)?t:[],r=[],n=0;n<e.length;n++){var o=e[n]||{};r.push({id:o.id||"us-"+Date.now()+"-"+Math.floor(1e5*Math.random()),name:o.name||"Custom Script "+(n+1),enabled:!0===o.enabled,source:"url"===o.source?"url":"inline",url:"string"==typeof o.url?o.url:"",inline:"string"==typeof o.inline?o.inline:"",cached:"string"==typeof o.cached?o.cached:"",lastFetched:"number"==typeof o.lastFetched?o.lastFetched:0})}return r.length||r.push(function(t){return{id:"us-"+Date.now()+"-"+Math.floor(1e5*Math.random()),name:"Custom Script "+t,enabled:!1,source:"inline",url:"",inline:"",cached:"",lastFetched:0}}(1)),r}function rlt(){return Bst.card?(Bst.card.userscriptToggles&&"object"===a(Bst.card.userscriptToggles)||(Bst.card.userscriptToggles={}),Bst.card.userscriptToggles):{}}function nlt(){Bst.card&&(Bst.card.userscripts=elt(Bst.card.userscripts||[]))}function olt(){var t=document.createElement("div");t.id="tp-site-editor",t.className="tp-site-editor",t.innerHTML='<div class="tp-editor-backdrop"></div><div class="tp-editor-panel"><div class="tp-editor-header"><h2 id="tp-editor-title">Add Site</h2><div class="tp-editor-hint">Navigate with D-pad | Changes auto-save</div></div><div class="tp-editor-body"><div class="tp-editor-fields" id="tp-editor-fields"></div><div class="tp-editor-preview" id="tp-editor-preview"><div class="tp-editor-preview-card"><div class="tp-preview-icon" id="tp-preview-icon">?</div><div class="tp-preview-name" id="tp-preview-name">Site Name</div><div class="tp-preview-url" id="tp-preview-url">https://...</div><div class="tp-preview-meta" id="tp-preview-meta"><div class="tp-preview-meta-row" id="tp-preview-bundle">Bundle: None</div><div class="tp-preview-meta-row" id="tp-preview-options">Options: Global</div><div class="tp-preview-meta-row" id="tp-preview-userscripts">Scripts: None</div></div></div></div></div><div class="tp-editor-footer"><div class="tp-editor-footer-left"><button type="button" class="tp-editor-btn tp-editor-btn-delete" id="tp-editor-delete" tabindex="0"><span class="tp-btn-icon">ð</span> Delete</button><button type="button" class="tp-editor-btn tp-editor-btn-purge" id="tp-editor-purge" tabindex="0"><span class="tp-btn-icon">ð§¹</span> Purge Data</button></div><div class="tp-editor-footer-right"><button type="button" class="tp-editor-btn tp-editor-btn-cancel" id="tp-editor-cancel" tabindex="0">Close</button></div></div></div>';var e=document.getElementById("tp-shell");e?e.appendChild(t):document.body.appendChild(t),function(t){var e=t.querySelector("#tp-editor-cancel");e&&(e.addEventListener("click",function(){clt()}),e.addEventListener("keydown",function(t){13===t.keyCode&&(t.preventDefault(),t.stopPropagation(),clt())}));var r=t.querySelector("#tp-editor-delete");r&&(r.addEventListener("click",function(){dlt()}),r.addEventListener("keydown",function(t){13===t.keyCode&&(t.preventDefault(),t.stopPropagation(),dlt())}));var n=t.querySelector("#tp-editor-purge");n&&(n.addEventListener("click",function(){glt()}),n.addEventListener("keydown",function(t){13===t.keyCode&&(t.preventDefault(),t.stopPropagation(),glt())}));var o=t.querySelector(".tp-editor-backdrop");o&&o.addEventListener("click",function(){clt()});t.addEventListener("keydown",ilt)}(t),console.log("TizenPortal: Site editor initialized")}function ilt(t){var e=t.keyCode;if(console.log("TizenPortal: Editor keydown received, keyCode =",e),27===e||10009===e)return t.preventDefault(),t.stopPropagation(),void clt();if(13===e){var r=document.activeElement;if(console.log("TizenPortal: Enter in editor, activeElement:",r),console.log("TizenPortal: - id:",r?r.id:"null"),console.log("TizenPortal: - className:",r?r.className:"null"),console.log("TizenPortal: - tagName:",r?r.tagName:"null"),r&&"tp-editor-cancel"===r.id)return console.log("TizenPortal: Enter on cancel button"),t.preventDefault(),t.stopPropagation(),void clt();if(r&&"tp-editor-delete"===r.id)return console.log("TizenPortal: Enter on delete button"),t.preventDefault(),t.stopPropagation(),void dlt();if(r&&"tp-editor-purge"===r.id)return console.log("TizenPortal: Enter on purge button"),t.preventDefault(),t.stopPropagation(),void glt();if(r&&r.classList&&r.classList.contains("tp-bundle-option-row"))return console.log("TizenPortal: Enter on bundle option row"),t.preventDefault(),t.stopPropagation(),void Flt(r);if(r&&r.classList&&r.classList.contains("tp-field-row")&&"button"===r.dataset.type)return console.log("TizenPortal: Enter on button field row"),t.preventDefault(),t.stopPropagation(),void("__fetchIcon"===r.dataset.field&&tct());if(r&&r.classList&&r.classList.contains("tp-field-row"))return console.log("TizenPortal: Enter on field row"),t.preventDefault(),t.stopPropagation(),void Dlt(r);if(r&&r.classList&&r.classList.contains("tp-bundle-option"))return console.log("TizenPortal: Enter on bundle option"),t.preventDefault(),t.stopPropagation(),void Klt(r);if(r&&r.classList&&r.classList.contains("tp-field-row")&&"__fetchIcon"===r.dataset.field)return console.log("TizenPortal: Enter on fetch icon row"),t.preventDefault(),t.stopPropagation(),void tct();console.log("TizenPortal: Enter not handled - no matching element")}}function alt(t){console.log("TizenPortal: showAddSiteEditor called"),Dst("add",""),Bst.card={name:"",url:"",featureBundle:null,viewportMode:null,focusOutlineMode:null,userAgent:null,tabindexInjection:null,scrollIntoView:null,safeArea:null,gpuHints:null,cssReset:null,hideScrollbars:null,wrapTextInputs:null,icon:"",bundleOptions:{},bundleOptionData:{},userscriptToggles:{}},Bst.onComplete=t,llt()}function slt(t,e){console.log("TizenPortal: showEditSiteEditor called with card:",t?t.name:"null","id:",t?t.id:"null"),t&&t.id?(Dst("edit",t.id),Bst.card={id:t.id,name:t.name||"",url:blt(t.url||""),featureBundle:t.featureBundle||null,navigationMode:t.hasOwnProperty("navigationMode")?t.navigationMode:null,viewportMode:t.hasOwnProperty("viewportMode")?t.viewportMode:null,focusOutlineMode:t.hasOwnProperty("focusOutlineMode")?t.focusOutlineMode:null,focusStyling:t.hasOwnProperty("focusStyling")?t.focusStyling:null,focusTransitions:t.hasOwnProperty("focusTransitions")?t.focusTransitions:null,focusTransitionMode:t.hasOwnProperty("focusTransitionMode")?t.focusTransitionMode:null,focusTransitionSpeed:t.hasOwnProperty("focusTransitionSpeed")?t.focusTransitionSpeed:null,userAgent:t.hasOwnProperty("userAgent")?t.userAgent:null,tabindexInjection:t.hasOwnProperty("tabindexInjection")?t.tabindexInjection:null,scrollIntoView:t.hasOwnProperty("scrollIntoView")?t.scrollIntoView:null,navigationFix:t.hasOwnProperty("navigationFix")?t.navigationFix:null,safeArea:t.hasOwnProperty("safeArea")?t.safeArea:null,gpuHints:t.hasOwnProperty("gpuHints")?t.gpuHints:null,cssReset:t.hasOwnProperty("cssReset")?t.cssReset:null,hideScrollbars:t.hasOwnProperty("hideScrollbars")?t.hideScrollbars:null,wrapTextInputs:t.hasOwnProperty("wrapTextInputs")?t.wrapTextInputs:null,textScale:t.hasOwnProperty("textScale")?t.textScale:null,icon:t.icon||"",bundleOptions:t.bundleOptions||{},bundleOptionData:t.bundleOptionData||{},userscriptToggles:t.userscriptToggles||{}},Bst.onComplete=e,llt()):console.error("TizenPortal: showEditSiteEditor called with invalid card!")}function llt(){var t=Lst(),e=_st();console.log("TizenPortal: openEditor mode="+t+" cardId="+e);var r=document.getElementById("tp-site-editor");if(r){var n="edit"===t,o=r.querySelector("#tp-editor-title");o&&(o.textContent=n?"Edit Site":"Add Site");var i=r.querySelector("#tp-editor-delete");i&&(i.style.display=n?"flex":"none",function(t){if(!t)return;t.dataset.confirmDelete="";var e=t.querySelector(".tp-btn-icon");e&&(e.textContent="ð");t.childNodes[1]&&(t.childNodes[1].textContent=" Delete")}(i));var s=r.querySelector("#tp-editor-purge");s&&(s.style.display=n?"flex":"none",plt(s)),function(){if(Bst.card){var t=Bst.card.featureBundle;if(t){var e=gst(t),r=e&&e.manifest;if(r&&r.options&&r.options.length){Bst.card.bundleOptions&&"object"===a(Bst.card.bundleOptions)||(Bst.card.bundleOptions={}),Bst.card.bundleOptionData&&"object"===a(Bst.card.bundleOptionData)||(Bst.card.bundleOptionData={});for(var n=r.options,o=0;o<n.length;o++){var i=n[o];i&&i.key&&(Bst.card.bundleOptions.hasOwnProperty(i.key)||(Bst.card.bundleOptions[i.key]=i.hasOwnProperty("default")?i.default:null))}}}}}(),mlt(),$lt(),Bst.active=!0,r.classList.add("visible"),window.TizenPortal&&window.TizenPortal.updatePortalHints&&window.TizenPortal.updatePortalHints(),setTimeout(function(){var t=r.querySelector(".tp-field-row");t&&t.focus()},100)}else console.error("TizenPortal: editor element not found!")}function clt(){var t=document.getElementById("tp-site-editor");t&&t.classList.remove("visible"),Bst.active=!1,window.TizenPortal&&window.TizenPortal.updatePortalHints&&window.TizenPortal.updatePortalHints(),function(){for(var t=[".tp-card:focus",'.tp-card[data-focused="true"]',".tp-card",".tp-add-card","#tp-portal-grid"],e=0;e<t.length;e++){var r=document.querySelector(t[e]);if(r&&null!==r.offsetParent)try{return r.focus(),void console.log("TizenPortal: Focus restored to:",t[e])}catch(t){}}console.log("TizenPortal: Could not restore focus after closing editor")}()}function ult(t){var e=Lst(),r=_st();if(console.log("TizenPortal: autoSaveCard mode="+e+" cardId="+r+" reason="+t),console.log("TizenPortal: autoSaveCard state.card.userscriptToggles = "+JSON.stringify(Bst.card.userscriptToggles||{})),Bst.card){var n=(Bst.card.name||"").trim(),o=(Bst.card.url||"").trim();if(o){if(!(o=cot(o)))return void console.log("TizenPortal: Auto-save skipped - invalid URL scheme");o=blt(o),Bst.card.url=o}if(n&&o){var i={name:n,url:o,featureBundle:Bst.card.featureBundle||null,navigationMode:Bst.card.hasOwnProperty("navigationMode")?Bst.card.navigationMode:null,viewportMode:Bst.card.hasOwnProperty("viewportMode")?Bst.card.viewportMode:null,focusOutlineMode:Bst.card.hasOwnProperty("focusOutlineMode")?Bst.card.focusOutlineMode:null,focusStyling:Bst.card.hasOwnProperty("focusStyling")?Bst.card.focusStyling:null,focusTransitions:Bst.card.hasOwnProperty("focusTransitions")?Bst.card.focusTransitions:null,focusTransitionMode:Bst.card.hasOwnProperty("focusTransitionMode")?Bst.card.focusTransitionMode:null,focusTransitionSpeed:Bst.card.hasOwnProperty("focusTransitionSpeed")?Bst.card.focusTransitionSpeed:null,userAgent:Bst.card.hasOwnProperty("userAgent")?Bst.card.userAgent:null,tabindexInjection:Bst.card.hasOwnProperty("tabindexInjection")?Bst.card.tabindexInjection:null,scrollIntoView:Bst.card.hasOwnProperty("scrollIntoView")?Bst.card.scrollIntoView:null,navigationFix:Bst.card.hasOwnProperty("navigationFix")?Bst.card.navigationFix:null,safeArea:Bst.card.hasOwnProperty("safeArea")?Bst.card.safeArea:null,gpuHints:Bst.card.hasOwnProperty("gpuHints")?Bst.card.gpuHints:null,cssReset:Bst.card.hasOwnProperty("cssReset")?Bst.card.cssReset:null,hideScrollbars:Bst.card.hasOwnProperty("hideScrollbars")?Bst.card.hideScrollbars:null,wrapTextInputs:Bst.card.hasOwnProperty("wrapTextInputs")?Bst.card.wrapTextInputs:null,textScale:Bst.card.hasOwnProperty("textScale")?Bst.card.textScale:null,icon:Bst.card.icon||null,bundleOptions:Bst.card.bundleOptions||{},bundleOptionData:Bst.card.bundleOptionData||{},userscriptToggles:Bst.card.userscriptToggles||{}};if("edit"===e&&r)console.log("TizenPortal: EDIT MODE - Updating card ID:",r),qit(r,i),Zlt("Saved");else{console.log("TizenPortal: ADD MODE - Creating new card");var a=Hit(i);Dst("edit",a.id),Bst.card=a;var s=document.getElementById("tp-editor-delete");s&&(s.style.display="flex");var l=document.querySelector("#tp-editor-title");l&&(l.textContent="Edit Site"),Zlt("Added")}Bst.onComplete&&Bst.onComplete()}else console.log("TizenPortal: Auto-save skipped - missing name/url")}else console.log("TizenPortal: Auto-save skipped - no card")}function dlt(){var t=Lst(),e=_st();if(console.log("TizenPortal: deleteAndClose mode="+t+" cardId="+e),"edit"===t&&e){var r=Bst.card?Bst.card.name:"Site",n=document.getElementById("tp-editor-delete");n&&"true"===n.dataset.confirmDelete?(!function(t){for(var e=Fit(),r=[],n=0;n<e.length;n++)e[n].id!==t&&r.push(e[n]);if(r.length<e.length){for(var o=0;o<r.length;o++)r[o].order=o;return Bit=r,Uit(),!0}}(e),Zlt("Deleted: "+r),clt(),bst?bst():window.TizenPortal&&window.TizenPortal._refreshPortal&&window.TizenPortal._refreshPortal(),Bst.onComplete&&Bst.onComplete()):(n&&(n.dataset.confirmDelete="true",n.querySelector(".tp-btn-icon").textContent="â ",n.childNodes[1].textContent=" Press again to confirm",setTimeout(function(){n&&(n.dataset.confirmDelete="",n.querySelector(".tp-btn-icon").textContent="ð",n.childNodes[1].textContent=" Delete")},3e3)),Zlt("Press Delete again to confirm"))}else console.log("TizenPortal: Cannot delete - not in edit mode or no card ID")}function plt(t){if(t){t.dataset.confirmPurge="";var e=t.querySelector(".tp-btn-icon");e&&(e.textContent="ð§¹"),t.childNodes[1]&&(t.childNodes[1].textContent=" Purge Data")}}function flt(t){if(!t||"string"!=typeof t)return"";var e=t.toLowerCase();return(e=e.split("#")[0].split("?")[0]).length>1&&"/"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e}function glt(){var t=Lst(),e=_st();if(console.log("TizenPortal: purgeSiteData mode="+t+" cardId="+e),"edit"===t&&e){var r=document.getElementById("tp-editor-purge");if(r&&"true"===r.dataset.confirmPurge){var n=Bst.card?Bst.card.name:"Site",o=flt(Bst.card?Bst.card.url:"");try{var i=sessionStorage.getItem("tp_last_card");if(i){var a=JSON.parse(i),s=flt(a&&a.url?a.url:"");s&&o&&s===o&&sessionStorage.removeItem("tp_last_card")}}catch(t){}try{var l=window.name;if(l&&"string"==typeof l&&0===l.indexOf("tp:")){var c=JSON.parse(l.substring(3)),u=flt(c&&c.url?c.url:"");u&&o&&u===o&&(window.name="")}}catch(t){}Bst.card&&(Bst.card.bundleOptionData={},qit(e,{bundleOptionData:{}})),plt(r),Zlt("Purged portal data for: "+n+" (site cookies unchanged)")}else r&&(r.dataset.confirmPurge="true",r.querySelector(".tp-btn-icon").textContent="â ",r.childNodes[1].textContent=" Press again to confirm",setTimeout(function(){plt(r)},3e3)),Zlt("Press Purge again to confirm")}else console.log("TizenPortal: Cannot purge - not in edit mode or no card ID")}function hlt(){var t=Bst.card?Bst.card.featureBundle:null;if(!t)return!1;var e=gst(t),r=e&&e.manifest;return!!(r&&r.options&&r.options.length)}function mlt(){var t=document.getElementById("tp-editor-fields");if(t)if(Bst.card){var e=t.scrollTop;!function(){for(var t=0;t<Zst.length;t++){var e=Zst[t];Qst.hasOwnProperty(e.id)||(Qst[e.id]=e.defaultCollapsed)}}(),rlt(),nlt();for(var r="",n=0;n<tlt.length;n++){var o=tlt[n];if(("section"!==o.type||"bundleOptions"!==o.sectionId||hlt())&&("bundleOptions"!==o.section||hlt()))if("section"!==o.type){if(!o.section||!Qst[o.section]){var i=Bst.card.hasOwnProperty(o.name)?Bst.card[o.name]:null,a=null==i?"":i;"bundle"===o.type?r+=Rlt(o,a):"select"===o.type?r+=Olt(o,i):"globalOverrides"===o.type?r+=klt():"siteOverrides"===o.type?r+=Slt():"featureOverrides"===o.type?r+=Elt():"userscripts"===o.type?r+=Nlt():"bundleOptions"===o.type?r+=Mlt():"button"===o.type?r+=Clt(o):r+=Alt(o,a)}}else r+=vlt(o)}t.innerHTML=r,function(t){for(var e=t.querySelectorAll(".tp-field-row:not(.tp-bundle-option-row)"),r=0;r<e.length;r++)e[r].addEventListener("click",function(){Dlt(this)}),e[r].addEventListener("keydown",function(t){13===t.keyCode&&(t.preventDefault(),t.stopPropagation(),Dlt(this))});for(var n=t.querySelectorAll(".tp-bundle-option-row"),o=0;o<n.length;o++)n[o].addEventListener("click",function(){Flt(this)}),n[o].addEventListener("keydown",function(t){13===t.keyCode&&(t.preventDefault(),t.stopPropagation(),Flt(this))});for(var i=t.querySelectorAll(".tp-userscript-row"),a=0;a<i.length;a++)i[a].addEventListener("click",function(){Ult(this)}),i[a].addEventListener("keydown",function(t){return 38===t.keyCode||40===t.keyCode?(_lt(this,40===t.keyCode?"down":"up"),t.preventDefault(),void t.stopPropagation()):13===t.keyCode||39===t.keyCode?(t.preventDefault(),t.stopPropagation(),void Ult(this)):void 0});for(var s=t.querySelectorAll(".tp-global-override-row"),l=0;l<s.length;l++)s[l].addEventListener("click",function(){jlt(this)}),s[l].addEventListener("keydown",function(t){return 38===t.keyCode||40===t.keyCode?(_lt(this,40===t.keyCode?"down":"up"),t.preventDefault(),void t.stopPropagation()):13===t.keyCode||39===t.keyCode?(t.preventDefault(),t.stopPropagation(),void jlt(this)):void 0});for(var c=t.querySelectorAll(".tp-site-override-row"),u=0;u<c.length;u++)c[u].addEventListener("click",function(){Hlt(this)}),c[u].addEventListener("keydown",function(t){return 38===t.keyCode||40===t.keyCode?(_lt(this,40===t.keyCode?"down":"up"),t.preventDefault(),void t.stopPropagation()):13===t.keyCode||39===t.keyCode?(t.preventDefault(),t.stopPropagation(),void Hlt(this)):void 0});for(var d=t.querySelectorAll(".tp-feature-row"),p=0;p<d.length;p++)d[p].addEventListener("click",function(){qlt(this)}),d[p].addEventListener("keydown",function(t){return 38===t.keyCode||40===t.keyCode?(_lt(this,40===t.keyCode?"down":"up"),t.preventDefault(),void t.stopPropagation()):13===t.keyCode||39===t.keyCode?(t.preventDefault(),t.stopPropagation(),void qlt(this)):void 0});for(var f=t.querySelectorAll(".tp-bundle-option"),g=0;g<f.length;g++)f[g].addEventListener("click",function(){Klt(this)}),f[g].addEventListener("keydown",function(t){13===t.keyCode&&(t.preventDefault(),t.stopPropagation(),console.log("TizenPortal: Bundle option keydown Enter"),Klt(this))});for(var h=t.querySelectorAll(".tp-editor-btn-action"),m=0;m<h.length;m++)h[m].addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),"fetch-icon"===this.dataset.action&&tct()}),h[m].addEventListener("keydown",function(t){13===t.keyCode&&(t.preventDefault(),t.stopPropagation(),"fetch-icon"===this.dataset.action&&tct())})}(t),t.scrollTop=e}else console.error("TizenPortal: state.card is null in renderFields")}function vlt(t){var e=t.sectionId,r=!!Qst[e]?"â¶":"â¼",n=ylt(e);return'<div class="tp-field-row tp-field-section-row" data-type="section" data-section="'+e+'" tabindex="0"><div class="tp-field-label">'+t.label+'</div><div class="tp-field-value"><span class="tp-section-summary">'+sot(n)+'</span><span class="tp-section-indicator">'+r+"</span></div></div>"}function ylt(t){if(!Bst.card)return"";if("bundle"===t){var e=Bst.card.featureBundle||null;if(!e)return"Bundle: None";var r=gst(e),n=r&&r.manifest;return"Bundle: "+(n&&n.displayName?n.displayName:e)}if("bundleOptions"===t){var o=function(){var t=Bst.card.featureBundle||null;if(!t)return"";var e=gst(t),r=e&&e.manifest;if(!r||!r.options||!r.options.length)return"";for(var n=[],o=0;o<r.options.length;o++){var i=r.options[o];if(i&&i.key){var a=xlt(i,Vlt(i.key,i));if(n.push((i.label||i.key)+": "+a),n.length>=2)break}}return n.join(" â¢ ")}();return o||"None"}if("globalOverrides"===t)return"Text: "+wlt(qst,Bst.card.textScale)+" â¢ Focus: "+wlt(Ust,Bst.card.focusOutlineMode)+" â¢ Transition: "+wlt(jst,Bst.card.focusTransitionMode)+" â¢ Speed: "+wlt(Hst,Bst.card.focusTransitionSpeed);if("siteOverrides"===t){var i=wlt(Gst,Bst.card.navigationMode),a=wlt(Fst,Bst.card.viewportMode),s=wlt(Vst,Bst.card.userAgent),l=function(){if(!Bst.card)return"None";var t=[];Tlt();for(var e=0;e<$st.length;e++){var r=$st[e];if(Bst.card.hasOwnProperty(r.key)&&null!==Bst.card[r.key]&&void 0!==Bst.card[r.key]){var n=!0===Bst.card[r.key]?"â":"â";t.push(n+" "+r.label)}}return t.length?t.length<=2?t.join(" â¢ "):t.slice(0,2).join(" â¢ ")+" + "+(t.length-2)+" more":"None"}();return"Nav: "+i+" â¢ Viewport: "+a+" â¢ UA: "+s+(l?" â¢ "+l:"")}if("userscripts"===t)return function(){for(var t=Sst.query({type:Sst.ITEM_TYPES.USERSCRIPT}),e=Nst.getUserscriptsConfig(),r=rlt(),n=[],o=0;o<t.length;o++){var i=t[o]||{},a=i.id||"global-"+o,s=!0===e.enabled[a];r&&r.hasOwnProperty(a)&&(s=!0===r[a]),s&&n.push(i.name||a)}return t.length?n.length>0?n.join(", "):"None enabled":"None"}();if("details"===t){var c=Bst.card.name||"Unnamed",u=Bst.card.url||"No URL",d=Bst.card.icon?"â":"â";return c+" â¢ "+function(t){if(!t)return"";var e=blt(t).replace(/^https?:\/\//i,"");e.length>40&&(e=e.substring(0,37)+"...");return e}(u)+" â¢ Icon: "+d}return""}function blt(t){if(!t||"string"!=typeof t)return t;var e=t.trim();if(!e)return e;if("/"!==e.charAt(e.length-1))return e;var r=e.toLowerCase(),n=1;return 0===r.indexOf("https://")?n=8:0===r.indexOf("http://")&&(n=7),e.length>n?e.substring(0,e.length-1):e}function wlt(t,e){for(var r=0;r<t.length;r++)if(t[r].value===e)return t[r].label;return t.length?t[0].label:""}function xlt(t,e){var r=t.type||"text";if("toggle"===r)return e?"On":"Off";if("select"===r&&t.options)for(var n=0;n<t.options.length;n++)if(t.options[n].value===e)return t.options[n].label;return null==e||""===e?"(not set)":String(e)}function Tlt(){return window.TizenPortal&&window.TizenPortal.config&&TizenPortal.config.get("tp_features")||{}}function Plt(t,e){return t&&"object"===a(t)&&t.hasOwnProperty(e)?t[e]:null}function klt(){for(var t='<div class="tp-field-section">',e=Tlt(),r=0;r<Yst.length;r++){var n=Yst[r];t+='<div class="tp-field-section-label">'+n.label+"</div>";for(var o=0;o<Xst.length;o++){var i=Xst[o];if(i.category===n.id){var a=Bst.card&&Bst.card.hasOwnProperty(i.key),s=Plt(e,i.key),l=a?Bst.card[i.key]:null;a&&null===l&&(a=!1);for(var c=a?l:s,u="Not set",d=0;d<i.options.length;d++)if(i.options[d].value===c){u=i.options[d].label;break}var p=(a?"ð§":"ð")+" "+u;t+='<div class="tp-userscript-line tp-global-override-row" data-global-key="'+i.key+'" tabindex="0"><div class="tp-userscript-label"><div style="font-weight: 500;">'+sot(i.label)+'</div><div style="font-size: 12px; color: #666; margin-top: 2px;">'+sot(i.description||"")+'</div></div><div class="tp-userscript-status">'+p+"</div></div>"}}}return t+="</div>"}function Slt(){for(var t='<div class="tp-field-section">',e=Tlt(),r=0;r<Kst.length;r++){var n=Kst[r];t+='<div class="tp-field-section-label">'+n.label+"</div>";for(var o=0;o<Jst.length;o++){var i=Jst[o];if(i.category===n.id){var a=Bst.card&&Bst.card.hasOwnProperty(i.key),s=Plt(e,i.key),l=a?Bst.card[i.key]:null;a&&null===l&&(a=!1);for(var c=a?l:s,u="Not set",d=0;d<i.options.length;d++)if(i.options[d].value===c){u=i.options[d].label;break}var p=(a?"ð§":"ð")+" "+u;t+='<div class="tp-userscript-line tp-site-override-row" data-site-key="'+i.key+'" tabindex="0"><div class="tp-userscript-label"><div style="font-weight: 500;">'+sot(i.label)+'</div><div style="font-size: 12px; color: #666; margin-top: 2px;">'+sot(i.description||"")+'</div></div><div class="tp-userscript-status">'+p+"</div></div>"}}}return t+="</div>"}function Elt(){for(var t='<div class="tp-field-section">',e=Tlt(),r=0;r<Wst.length;r++){var n=Wst[r];t+='<div class="tp-field-section-label">'+n.label+"</div>";for(var o=0;o<$st.length;o++){var i=$st[o];if(i.category===n.id){var a=Bst.card&&Bst.card.hasOwnProperty(i.key),s=!1!==e[i.key],l=a?!0===Bst.card[i.key]:s,c=(a?"ð§":"ð")+" "+(l?"â ":"â ")+(l?"Enabled":"Disabled");t+='<div class="tp-userscript-line tp-feature-row" data-feature-key="'+i.key+'" tabindex="0"><div class="tp-userscript-label"><div style="font-weight: 500;">'+sot(i.label)+'</div><div style="font-size: 12px; color: #666; margin-top: 2px;">'+sot(i.description||"")+'</div></div><div class="tp-userscript-status">'+c+"</div></div>"}}}return t+="</div>"}function Alt(t,e){var r=e||t.placeholder||"",n=!e;return'<div class="tp-field-row" data-field="'+t.name+'" tabindex="0"><div class="tp-field-label">'+t.label+(t.required?" *":"")+'</div><div class="tp-field-value'+(n?" empty":"")+'">'+sot(r)+"</div></div>"}function Clt(t){var e="Fetch Favicon";return"fetch-icon"===t.action&&(e="Fetch Favicon"),'<div class="tp-field-row" data-field="'+t.name+'" data-type="button" tabindex="0"><div class="tp-field-label">'+t.label+'</div><div class="tp-field-value"><button type="button" class="tp-editor-btn tp-editor-btn-action" data-action="'+t.action+'" tabindex="0">'+e+"</button></div></div>"}function Olt(t,e){for(var r=e,n=0;n<t.options.length;n++)if(t.options[n].value===e){r=t.options[n].label;break}return'<div class="tp-field-row" data-field="'+t.name+'" data-type="select" tabindex="0"><div class="tp-field-label">'+t.label+'</div><div class="tp-field-value">'+sot(r)+"</div></div>"}function Ilt(t){if(!t||t<=0)return"0 B";if(t<1024)return t+" B";var e=t/1024;return e<1024?e.toFixed(1)+" KB":(e/1024).toFixed(1)+" MB"}function zlt(t){if(!t)return"";var e=[];return t.cssBytes&&t.cssBytes>0&&e.push("CSS: "+Ilt(t.cssBytes)),t.jsBytes&&t.jsBytes>0&&e.push("JS: "+Ilt(t.jsBytes)),e.join(" â¢ ")}function Rlt(t,e){var r=mst(),n='<div class="tp-field-section">';n+='<div class="tp-field-section-label">'+t.label+"</div>",n+='<div class="tp-bundle-list">';var o=!e||null===e;n+='<div class="tp-bundle-option'+(o?" selected":"")+'" data-bundle="none" tabindex="0"><div class="tp-bundle-check">'+(o?"â":"â")+'</div><div class="tp-bundle-info"><div class="tp-bundle-name">None</div><div class="tp-bundle-desc">Use only global site settings</div></div></div>';for(var i=0;i<r.length;i++){var a=r[i],s=a.name,l=s===e,c=a.displayName||s,u=a.description||"No description",d=zlt(a);n+='<div class="tp-bundle-option'+(l?" selected":"")+'" data-bundle="'+s+'" tabindex="0"><div class="tp-bundle-check">'+(l?"â":"â")+'</div><div class="tp-bundle-info"><div class="tp-bundle-name">'+sot(c)+'</div><div class="tp-bundle-desc">'+sot(u)+"</div>"+(d?'<div class="tp-bundle-size">'+sot(d)+"</div>":"")+"</div></div>"}return n+="</div>",n+="</div>"}function Mlt(){var t=Bst.card?Bst.card.featureBundle:null,e=t?gst(t):null,r=e&&e.manifest;return t&&r&&r.options&&r.options.length?function(t){var e=gst(t),r=e&&e.manifest;if(!r||!r.options||!r.options.length)return"";Bst.card.bundleOptions&&"object"===a(Bst.card.bundleOptions)||(Bst.card.bundleOptions={});Bst.card.bundleOptionData&&"object"===a(Bst.card.bundleOptionData)||(Bst.card.bundleOptionData={});for(var n='<div class="tp-field-section">',o=0;o<r.options.length;o++){var i=r.options[o];if(i&&i.key)n+=Llt(i,Bst.card.bundleOptions.hasOwnProperty(i.key)?Bst.card.bundleOptions[i.key]:i.default,Bst.card.bundleOptionData[i.key]||"")}return n+="</div>",n}(t):'<div class="tp-field-row" tabindex="-1"><div class="tp-field-label">Bundle Options</div><div class="tp-field-value">Select a bundle to configure options</div></div>'}function Nlt(){var t='<div class="tp-field-section">',e=Nst.getUserscriptsConfig(),r=Bst.card.userscriptToggles||{},n=Sst.CATEGORIES;for(var o in n){var i=Sst.query({type:Sst.ITEM_TYPES.USERSCRIPT,category:n[o]});if(0!==i.length){t+='<div class="tp-field-section-label">'+Blt(n[o])+"</div>";for(var a=0;a<i.length;a++){var s=i[a],l=s.id,c=!0===e.enabled[l],u=r.hasOwnProperty(l),d=u?!0===r[l]:c,p=(u?"ð§":"ð")+" "+(d?"â ":"â ")+(d?"Enabled":"Disabled");t+='<div class="tp-userscript-line tp-userscript-row" data-userscript-id="'+sot(l)+'" tabindex="0"><div class="tp-userscript-label">'+sot(s.name)+'</div><div class="tp-userscript-status">'+p+"</div></div>"}}}return t+='<div class="tp-field-row" style="margin-top: 12px; color: #8ab4f8; font-size: 14px;" tabindex="-1"><div class="tp-field-label">ð¡ Tip</div><div class="tp-field-value">Toggle scripts globally in Preferences. Here you can override per-site.</div></div>',t+="</div>"}function Blt(t){return{accessibility:"â¿ Accessibility",reading:"ð Reading",video:"ð¬ Video",navigation:"ð§­ Navigation",privacy:"ð Privacy",experimental:"ð§ª Experimental"}[t]||t}function Llt(t,e,r){var n=t.label||t.key,o=t.type||"text",i="",a=null==e||""===e;if("toggle"===o)i=e?"â On":"â Off";else if("select"===o&&t.options){i=e;for(var s=0;s<t.options.length;s++)if(t.options[s].value===e){i=t.options[s].label;break}}else"url"===o?(i=e||t.placeholder||"(not set)",r&&(i+=" (saved)")):i=e||t.placeholder||"(not set)";return'<div class="tp-field-row tp-bundle-option-row" data-option-key="'+t.key+'" data-option-type="'+o+'" tabindex="0"><div class="tp-field-label">'+n+'</div><div class="tp-field-value'+(a?" empty":"")+'">'+sot(i)+"</div></div>"}function _lt(t,e){var r=document.getElementById("tp-editor-fields");if(!r)return!1;var n=r.querySelectorAll(".tp-field-row, .tp-userscript-row, .tp-bundle-option, .tp-global-override-row, .tp-site-override-row, .tp-feature-row");if(!n.length)return!1;var o=t.classList&&(t.classList.contains("tp-field-row")||t.classList.contains("tp-userscript-row")||t.classList.contains("tp-bundle-option")||t.classList.contains("tp-global-override-row")||t.classList.contains("tp-site-override-row")||t.classList.contains("tp-feature-row"))?t:t.closest(".tp-field-row, .tp-userscript-row, .tp-bundle-option, .tp-global-override-row, .tp-site-override-row, .tp-feature-row");if(!o)return!1;for(var i=-1,a=0;a<n.length;a++)if(n[a]===o){i=a;break}if(-1===i)return!1;for(var s="down"===e?1:-1,l=i+s;l>=0&&l<n.length;l+=s){var c=n[l];if(c&&null!==c.offsetParent){try{c.focus(),c.scrollIntoView&&c.scrollIntoView({block:"nearest",inline:"nearest"})}catch(t){}return!0}}if("down"===e)for(var u=["#tp-editor-delete","#tp-editor-purge","#tp-editor-cancel"],d=0;d<u.length;d++){var p=document.querySelector(u[d]);if(p&&null!==p.offsetParent){try{p.focus()}catch(t){}return!0}}return!1}function Dlt(t){var e=t.dataset.field,r=t.dataset.type||"text",n=function(t){for(var e=0;e<tlt.length;e++)if(tlt[e].name===t)return tlt[e];return null}(e);t.dataset.userscriptAction?function(t){var e=t.dataset.userscriptAction||"",r=t.dataset.userscriptId||"";if("toggle"===e&&r){var n=Nst.getUserscriptsConfig(),o=Bst.card.userscriptToggles||{},i=!0===n.enabled[r];o.hasOwnProperty(r)?(delete o[r],Zlt("Reset to global setting")):(o[r]=!i,Zlt(i?"Disabled for this site":"Enabled for this site")),Bst.card.userscriptToggles=o,mlt(),ult("userscript:toggle"),setTimeout(function(){var t=document.querySelector('.tp-userscript-btn[data-userscript-id="'+r+'"]');t&&t.focus()},50)}}(t):"section"!==r?n&&("button"!==r?"select"===r?function(t,e){for(var r=Bst.card[t],n=e.options,o=-1,i=0;i<n.length;i++)if(n[i].value===r){o=i;break}var a=0;-1!==o&&(a=(o+1)%n.length);Bst.card[t]=n[a].value,mlt(),ult("select:"+t),Jlt(t)}(e,n):function(t,e){var r=document.querySelector('.tp-field-row[data-field="'+t+'"]');Xlt(r,Bst.card[t]||"",{placeholder:e.placeholder||"",onConfirm:function(e){Bst.card[t]=e,mlt(),$lt(),ult("text:"+t),setTimeout(function(){Jlt(t)},50)},onCancel:function(){setTimeout(function(){Jlt(t)},50)}})}(e,n):"fetch-icon"===n.action&&tct()):function(t){if(!t)return;Qst[t]=!Qst[t],mlt(),function(t){var e=document.querySelector('.tp-field-section-row[data-section="'+t+'"]');e&&e.focus()}(t)}(t.dataset.section)}function Flt(t){var e=t.dataset.optionKey,r=t.dataset.optionType||"text",n=function(t){if(!Bst.card||!Bst.card.featureBundle)return null;var e=gst(Bst.card.featureBundle),r=e&&e.manifest;if(!r||!r.options||!r.options.length)return null;for(var n=0;n<r.options.length;n++)if(r.options[n].key===t)return r.options[n];return null}(e);n&&("toggle"===r?(Glt(e,!Vlt(e,n)),mlt(),ult("option:"+e),Ylt(e)):"select"===r?function(t,e){for(var r=e.options||[],n=Vlt(t,e),o=-1,i=0;i<r.length;i++)if(r[i].value===n){o=i;break}var a=0;-1!==o&&(a=(o+1)%r.length);Glt(t,r[a].value),mlt(),ult("option:"+t),Ylt(t)}(e,n):"url"===r?function(t,e){var r=document.querySelector('.tp-bundle-option-row[data-option-key="'+t+'"]');Xlt(r,Vlt(t,e)||"",{placeholder:e.placeholder||"",onConfirm:function(e){Glt(t,e),mlt(),ult("option:"+t),e?function(t,e){try{Zlt("Fetching "+t+"...");var r=new XMLHttpRequest;r.open("GET",e,!0),r.onreadystatechange=function(){4===r.readyState&&(r.status>=200&&r.status<300?(Wlt(t,r.responseText||""),ult("optionData:"+t),mlt(),Zlt("Saved "+t+" data")):Zlt("Failed to fetch "+t))},r.send()}catch(e){Zlt("Failed to fetch "+t)}}(t,e):(Wlt(t,""),ult("optionData:"+t)),setTimeout(function(){Ylt(t)},50)},onCancel:function(){setTimeout(function(){Ylt(t)},50)}})}(e,n):function(t,e){var r=document.querySelector('.tp-bundle-option-row[data-option-key="'+t+'"]');Xlt(r,Vlt(t,e)||"",{placeholder:e.placeholder||"",onConfirm:function(e){Glt(t,e),mlt(),ult("option:"+t),setTimeout(function(){Ylt(t)},50)},onCancel:function(){setTimeout(function(){Ylt(t)},50)}})}(e,n))}function Ult(t){if(t){var e=t.dataset.userscriptId||"";if(e){var r=Nst.getUserscriptsConfig(),n=Bst.card.userscriptToggles||{},o=!0===r.enabled[e],i=n.hasOwnProperty(e),a=i?n[e]:null;console.log("TizenPortal: [Userscript Toggle] scriptId="+e+", globalEnabled="+o+", hasSiteOverride="+i+", currentOverride="+a),i?a===!o?(n[e]=o,Zlt(o?"Enabled for this site":"Disabled for this site"),console.log("TizenPortal: [Userscript Toggle] Toggled override for "+e+" = "+n[e])):(delete n[e],Zlt("Reset to global setting"),console.log("TizenPortal: [Userscript Toggle] Cleared override for "+e)):(n[e]=!o,Zlt(o?"Disabled for this site":"Enabled for this site"),console.log("TizenPortal: [Userscript Toggle] Set override for "+e+" = "+n[e])),Bst.card.userscriptToggles=n,console.log("TizenPortal: [Userscript Toggle] Final state.card.userscriptToggles = "+JSON.stringify(Bst.card.userscriptToggles)),mlt(),ult("userscript:toggle"),setTimeout(function(){var t=document.querySelector('.tp-userscript-row[data-userscript-id="'+e+'"]');t&&t.focus()},50)}}}function jlt(t){if(t&&Bst.card){var e=t.dataset.globalKey||"";if(e){for(var r=null,n=0;n<Xst.length;n++)if(Xst[n].key===e){r=Xst[n];break}if(r){var o=Tlt(),i=Bst.card.hasOwnProperty(e);if(i&&null===Bst.card[e]&&(delete Bst.card[e],i=!1),i){for(var a=Bst.card[e],s=-1,l=0;l<r.options.length;l++)if(r.options[l].value===a){s=l;break}var c=(s+1)%r.options.length,u=Plt(o,e),d=r.options[c].value;d===u||null===d&&void 0===u?(delete Bst.card[e],Zlt("Reset to global: "+r.options[c].label)):(Bst.card[e]=d,Zlt("Override: "+r.options[c].label))}else{for(u=Plt(o,e),s=0,l=0;l<r.options.length;l++)if(r.options[l].value===u){s=l;break}c=(s+1)%r.options.length;Bst.card[e]=r.options[c].value,Zlt("Override: "+r.options[c].label)}mlt(),ult("global:"+e),setTimeout(function(){var t=document.querySelector('.tp-global-override-row[data-global-key="'+e+'"]');t&&t.focus()},50)}}}}function Hlt(t){if(t&&Bst.card){var e=t.dataset.siteKey||"";if(e){for(var r=null,n=0;n<Jst.length;n++)if(Jst[n].key===e){r=Jst[n];break}if(r){var o=Tlt(),i=Bst.card.hasOwnProperty(e);if(i&&null===Bst.card[e]&&(delete Bst.card[e],i=!1),i){for(var a=Bst.card[e],s=-1,l=0;l<r.options.length;l++)if(r.options[l].value===a){s=l;break}var c=(s+1)%r.options.length,u=Plt(o,e),d=r.options[c].value;d===u||null===d&&void 0===u?(delete Bst.card[e],Zlt("Reset to global: "+r.options[c].label)):(Bst.card[e]=d,Zlt("Setting: "+r.options[c].label))}else{for(u=Plt(o,e),s=0,l=0;l<r.options.length;l++)if(r.options[l].value===u){s=l;break}c=(s+1)%r.options.length;Bst.card[e]=r.options[c].value,Zlt("Setting: "+r.options[c].label)}mlt(),ult("site:"+e),setTimeout(function(){var t=document.querySelector('.tp-site-override-row[data-site-key="'+e+'"]');t&&t.focus()},50)}}}}function qlt(t){if(t&&Bst.card){var e=t.dataset.featureKey||"";if(e){var r=!1!==Tlt()[e];Bst.card.hasOwnProperty(e)?(delete Bst.card[e],Zlt("Reset to global setting")):(Bst.card[e]=!r,Zlt(r?"Disabled for this site":"Enabled for this site")),mlt(),ult("feature:"+e),setTimeout(function(){var t=document.querySelector('.tp-feature-row[data-feature-key="'+e+'"]');t&&t.focus()},50)}}}function Vlt(t,e){return Bst.card.bundleOptions&&"object"===a(Bst.card.bundleOptions)||(Bst.card.bundleOptions={}),Bst.card.bundleOptions.hasOwnProperty(t)?Bst.card.bundleOptions[t]:e&&e.hasOwnProperty("default")?e.default:null}function Glt(t,e){Bst.card.bundleOptions&&"object"===a(Bst.card.bundleOptions)||(Bst.card.bundleOptions={}),Bst.card.bundleOptions[t]=e}function Wlt(t,e){Bst.card.bundleOptionData&&"object"===a(Bst.card.bundleOptionData)||(Bst.card.bundleOptionData={}),Bst.card.bundleOptionData[t]=e}function Ylt(t){var e=document.querySelector('.tp-bundle-option-row[data-option-key="'+t+'"]');e&&e.focus()}function Xlt(t,e,r){if(t&&(r=r||{},!t.querySelector(".tp-inline-edit-input"))){var n=t.querySelector(".tp-field-value");if(n){var o=document.createElement("input");o.type="text",o.className="tp-inline-edit-input",o.value=e||"",r.placeholder&&o.setAttribute("placeholder",r.placeholder),n.style.display="none",t.appendChild(o),t.setAttribute("tabindex","-1");var i=!1;o.addEventListener("click",function(t){t.stopPropagation()}),o.addEventListener("keydown",function(t){t.keyCode===Rot.ENTER?(t.preventDefault(),t.stopPropagation(),a()):27!==t.keyCode&&t.keyCode!==Rot.BACK&&t.keyCode!==Rot.IME_CANCEL||(t.preventDefault(),t.stopPropagation(),s())}),o.addEventListener("blur",function(){var t=document.activeElement;t&&t!==o&&t.classList&&t.classList.contains("tp-inline-edit-input")?s():i||a()});try{o.focus(),o.value&&o.select()}catch(t){}}}function a(){i||(i=!0,l(),"function"==typeof r.onConfirm&&r.onConfirm(o.value))}function s(){i||(i=!0,l(),"function"==typeof r.onCancel&&r.onCancel())}function l(){n.style.display="",o.parentNode&&o.parentNode.removeChild(o),t.setAttribute("tabindex","0")}}function Klt(t){var e=t.dataset.bundle;Bst.card.featureBundle,Bst.card&&(Bst.card.userscripts=elt(Bst.card.userscripts||[])),Bst.card.featureBundle="none"===e?null:e,function(t){if(Bst.card&&(Bst.card.bundleOptions={},Bst.card.bundleOptionData={},t)){var e=gst(t),r=e&&e.manifest;if(r&&r.options&&r.options.length)for(var n=0;n<r.options.length;n++){var o=r.options[n];o&&o.key&&(Bst.card.bundleOptions[o.key]=o.hasOwnProperty("default")?o.default:null)}}}(Bst.card.featureBundle),nlt(Bst.card.featureBundle),mlt(),ult("bundle"),setTimeout(function(){var t=document.querySelector('.tp-bundle-option[data-bundle="'+e+'"]');t&&t.focus()},50)}function Jlt(t){var e=document.querySelector('.tp-field-row[data-field="'+t+'"]');e&&e.focus()}function $lt(){var t=document.getElementById("tp-preview-name"),e=document.getElementById("tp-preview-url"),r=document.getElementById("tp-preview-icon"),n=document.getElementById("tp-preview-bundle"),o=document.getElementById("tp-preview-options"),i=document.getElementById("tp-preview-userscripts");if(t&&(t.textContent=Bst.card.name||"Site Name"),e){var a=Bst.card.url?blt(Bst.card.url):"https://...";e.textContent=a}if(r){var s=window.TizenPortal&&window.TizenPortal._portalFaviconUrl?window.TizenPortal._portalFaviconUrl:"",l=Bst.card.icon||s;if(l){r.textContent="";var c=document.createElement("img");c.src=l,c.alt="",c.addEventListener("error",function(){r.textContent=Bst.card.name?Bst.card.name.charAt(0).toUpperCase():"?"}),r.appendChild(c)}else Bst.card.name?r.textContent=Bst.card.name.charAt(0).toUpperCase():r.textContent="?"}n&&(n.textContent=ylt("bundle")||"Bundle: None"),o&&(o.textContent=ylt("options")||"Options: Global"),i&&(i.textContent=ylt("userscripts")||"Scripts: None")}function Zlt(t){window.TizenPortal&&window.TizenPortal.showToast?window.TizenPortal.showToast(t):console.log("TizenPortal:",t)}var Qlt=["/favicon.ico","/favicon-32x32.png","/favicon-16x16.png","/site.webmanifest","/manifest.webmanifest","/manifest.json","/favicon.svg","/favicon.png","/apple-touch-icon.png","/apple-touch-icon-180x180.png","/apple-touch-icon-152x152.png","/apple-touch-icon-120x120.png","/apple-touch-icon-precomposed.png","/android-chrome-512x512.png","/android-chrome-192x192.png","/static/favicon.ico","/static/favicon.svg","/static/favicon.png","/assets/favicon.ico","/assets/favicon.svg","/assets/favicon.png","/images/favicon.ico","/images/favicon.png","/img/favicon.ico","/img/favicon.png"];function tct(){var t=Bst.card.url;if(t){var e="",r="";try{var n=t.match(/^(https?:\/\/[^\/]+)/i);n&&n[1]&&(e=n[1],r=n[1].replace(/^https?:\/\//i,""))}catch(t){return void Zlt("Invalid URL")}e?(Zlt("Searching for favicon..."),function(t,e){var r=!1;function n(t){r||(r=!0,e(t||[]))}try{var o=new XMLHttpRequest;o.open("GET",t,!0),o.timeout=5e3,o.onreadystatechange=function(){if(4===o.readyState)if(o.status<200||o.status>=400)n([]);else{var e=o.responseText||"";if(e){for(var r,i=[],a=/<link[^>]*>/gi,s=/href\s*=\s*["']([^"']+)["']/i,l=/rel\s*=\s*["']([^"']+)["']/i;r=a.exec(e);){var c=r[0]||"",u=l.exec(c);if(u&&u[1]){var d=u[1].toLowerCase();if(-1!==d.indexOf("icon")||-1!==d.indexOf("apple-touch-icon")||-1!==d.indexOf("mask-icon")){var p=s.exec(c);if(p&&p[1]){var f=ect(t,p[1]);f&&i.push(f)}}}}n(i)}else n([])}},o.onerror=function(){n([])},o.ontimeout=function(){n([])},o.send()}catch(t){n([])}}(e,function(t){var n=function(t,e){for(var r=[],n=0;n<Qlt.length;n++)r.push(t+Qlt[n]);return r.push("https://icons.duckduckgo.com/ip3/"+encodeURIComponent(e)+".ico"),r.push("https://www.google.com/s2/favicons?domain="+encodeURIComponent(e)+"&sz=128"),r.push("https://www.google.com/s2/favicons?domain="+encodeURIComponent(e)+"&sz=64"),r}(e,r),o=function(t,e){for(var r=[],n={},o=[t||[],e||[]],i=0;i<o.length;i++)for(var a=0;a<o[i].length;a++){var s=o[i][a];s&&(n[s]||(n[s]=!0,r.push(s)))}return r}(t,n);o.length?rct(o,0):Zlt("No favicon candidates found")})):Zlt("Could not extract domain")}else Zlt("Enter a URL first")}function ect(t,e){if(!e||"string"!=typeof e)return"";var r=e.replace(/^\s+|\s+$/g,"");return r?/^https?:\/\//i.test(r)?r:/^\/\//.test(r)?(0===t.indexOf("https://")?"https:":"http:")+r:"/"===r.charAt(0)?t+r:t+"/"+r:""}function rct(t,e){if(!t||e>=t.length)Zlt("Could not find favicon");else{var r=t[e],n=new Image;n.onload=function(){n.naturalWidth&&n.naturalWidth<=0||n.naturalHeight&&n.naturalHeight<=0?rct(t,e+1):(Bst.card.icon=r,mlt(),$lt(),setTimeout(function(){var t=document.querySelector('.tp-field-row[data-field="__fetchIcon"]');t&&t.focus()},100),ult("favicon"),Zlt("Found favicon"))},n.onerror=function(){rct(t,e+1)},n.onabort=function(){rct(t,e+1)},n.src=r}}function nct(){return Bst.active}var oct=null;var ict={name:"focusStyling",displayName:"Focus Styling",_ringMode:"off",getCSS:function(t){var e=":focus:not(#tp-focus-never)",r=["","/* Portal card focus */","[data-tp-card] {","  cursor: pointer;","  transition: transform 0.15s ease-out;","}","","[data-tp-card]:focus,","a[data-tp-card]:focus,","div[data-tp-card]:focus,","button[data-tp-card]:focus {","  z-index: 100 !important;","  position: relative !important;","  transform: scale(1.02);","}","",'[data-tp-card="multi"].tp-card-entered,','[data-tp-card="multi"][data-tp-entered="true"] {',"  outline: 4px solid #fcd34d !important;","  outline-offset: 2px !important;","}","","[data-tp-card].tp-card-entered "+e+",",'[data-tp-card][data-tp-entered="true"] '+e+" {","  outline: 2px solid #fff !important;","  outline-offset: 2px !important;","}"];return["/* TizenPortal Focus Styling */","","/* Remove browser default tap highlight */","*:focus {","  -webkit-tap-highlight-color: transparent;","}",""].concat("portal"===t?["/* Portal-style focus ring (box-shadow, rounded-aware) */",e+" {","  outline: none !important;","  box-shadow:","    0 0 0 2px rgba(0,0,0,0.6),","    0 0 0 5px rgba(0, 178, 255, 0.9),","    0 0 18px rgba(0, 178, 255, 0.55) !important;","}"]:"high"===t?["/* Yellow focus ring */",e+" {","  outline: 3px solid #fcd34d !important;","  outline-offset: 6px !important;","  box-shadow: 0 0 14px rgba(252, 211, 77, 0.6) !important;","}"]:"white"===t?["/* White focus ring */",e+" {","  outline: 3px solid #ffffff !important;","  outline-offset: 4px !important;","  box-shadow: 0 0 10px rgba(255,255,255,0.45) !important;","}"]:"off"===t?["/* Subtle blue focus ring (fallback) */",e+" {","  outline: 3px solid rgba(0, 178, 255, 0.7) !important;","  outline-offset: 2px !important;","  box-shadow: 0 0 8px rgba(0, 178, 255, 0.35) !important;","}"]:["/* Blue focus ring */",e+" {","  outline: 3px solid #00b2ff !important;","  outline-offset: 6px !important;","  box-shadow: 0 0 14px rgba(0, 178, 255, 0.55) !important;","}"]).concat(r).join("\n")},appendHighlightCSS:function(t){return t},apply:function(t){if(t){var e=arguments.length>1?arguments[1]:"off";this._ringMode=e,this.remove(t),"none"!==e&&(fot(t,"tp-focus-styling",this.getCSS(e)),function(t){if(!oct&&"undefined"!=typeof MutationObserver){var e=t.head||t.documentElement;(oct=new MutationObserver(function(){var r=t.getElementById("tp-focus-styling");r&&e.lastChild!==r&&e.appendChild(r)})).observe(e,{childList:!0})}}(t),TizenPortal.log("Focus styling applied: "+e))}},remove:function(t){t&&(oct&&(oct.disconnect(),oct=null),got(t,"tp-focus-styling"),TizenPortal.log("Focus styling removed"))}},act=null,sct={fast:150,medium:250,slow:400};var lct={name:"focusTransitions",displayName:"Focus Transitions",getCSS:function(t,e){if("off"===(t=t||"slide"))return"";var r=(sct[e=e||"medium"]||sct.medium)+"ms",n=["/* TizenPortal Focus Transitions */","","/* Base transition for all focusable elements */",":focus {","  transition: outline 0ms, outline-offset 0ms, transform "+r+" ease-out, opacity "+r+" ease-out, box-shadow "+r+" ease-out !important;","}",""];return"slide"===t?n.push("/* Slide transition - direction-aware */",'[data-tp-focus-from="left"]:focus {',"  animation: tp-slide-from-left "+r+" ease-out;","}","",'[data-tp-focus-from="right"]:focus {',"  animation: tp-slide-from-right "+r+" ease-out;","}","",'[data-tp-focus-from="top"]:focus {',"  animation: tp-slide-from-top "+r+" ease-out;","}","",'[data-tp-focus-from="bottom"]:focus {',"  animation: tp-slide-from-bottom "+r+" ease-out;","}","","@keyframes tp-slide-from-left {","  from {","    transform: translateX(-8px);","    opacity: 0.6;","  }","  to {","    transform: translateX(0);","    opacity: 1;","  }","}","","@keyframes tp-slide-from-right {","  from {","    transform: translateX(8px);","    opacity: 0.6;","  }","  to {","    transform: translateX(0);","    opacity: 1;","  }","}","","@keyframes tp-slide-from-top {","  from {","    transform: translateY(-8px);","    opacity: 0.6;","  }","  to {","    transform: translateY(0);","    opacity: 1;","  }","}","","@keyframes tp-slide-from-bottom {","  from {","    transform: translateY(8px);","    opacity: 0.6;","  }","  to {","    transform: translateY(0);","    opacity: 1;","  }","}"):"scale"===t?n.push("/* Scale transition */",":focus {","  animation: tp-scale-in "+r+" ease-out;","}","","@keyframes tp-scale-in {","  from {","    transform: scale(0.95);","    opacity: 0.7;","  }","  to {","    transform: scale(1);","    opacity: 1;","  }","}"):"glow"===t&&n.push("/* Glow transition */",":focus {","  animation: tp-glow-pulse "+r+" ease-out;","}","","@keyframes tp-glow-pulse {","  0% {","    box-shadow: 0 0 0 rgba(0, 168, 255, 0);","  }","  50% {","    box-shadow: 0 0 20px rgba(0, 168, 255, 0.6);","  }","  100% {","    box-shadow: 0 0 0 rgba(0, 168, 255, 0);","  }","}"),n.join("\n")},calculateDirection:function(t,e){if(!t||!e)return null;if(!t.getBoundingClientRect||!e.getBoundingClientRect)return null;try{var r=t.getBoundingClientRect(),n=e.getBoundingClientRect(),o=r.left+r.width/2,i=r.top+r.height/2,a=n.left+n.width/2,s=n.top+n.height/2,l=a-o,c=s-i;return Math.abs(l)>Math.abs(c)?l>0?"right":"left":Math.abs(c)>5?c>0?"bottom":"top":null}catch(t){return null}},apply:function(t,e,r){if(t){if(e=e||"slide",r=r||"medium",this.remove(t),"off"!==e){var n=function(t){if(!t||!t.querySelectorAll)return 0;try{return t.querySelectorAll('a[href], button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])').length}catch(t){return 0}}(t);n>250&&(e="off",window.TizenPortal&&window.TizenPortal.log?window.TizenPortal.log("Focus transitions disabled (too many focusables: "+n+")"):console.log("TizenPortal [FocusTransitions]: Disabled, focusable count="+n))}if("off"!==e){fot(t,"tp-focus-transitions",this.getCSS(e,r)),window.TizenPortal&&window.TizenPortal.log&&window.TizenPortal.log("Focus transitions applied: "+e+", "+r);var o=this,i=function(t){var r=t.target;if(act&&act!==r)try{act.removeAttribute("data-tp-focus-from")}catch(t){}if("slide"===e&&act&&r){var n=o.calculateDirection(act,r);n&&r.setAttribute("data-tp-focus-from",n)}act=r};t._tpFocusTransitionHandler||(t._tpFocusTransitionHandler=i,t.addEventListener("focusin",i,!0))}}},remove:function(t){t&&(got(t,"tp-focus-transitions"),t._tpFocusTransitionHandler&&(t.removeEventListener("focusin",t._tpFocusTransitionHandler,!0),t._tpFocusTransitionHandler=null),act=null,window.TizenPortal&&window.TizenPortal.log&&window.TizenPortal.log("Focus transitions removed"))},update:function(t,e,r){this.apply(t,e,r)}},cct=["a[href]","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","summary",'[role="button"]','[role="link"]','[role="menuitem"]','[role="menuitemcheckbox"]','[role="menuitemradio"]','[role="tab"]','[role="option"]','[role="checkbox"]','[role="radio"]','[role="combobox"]','[role="treeitem"]','[role="gridcell"]','[role="switch"]','[role="slider"]','[role="spinbutton"]',"[onclick]:not(a):not(button):not(input):not(select):not(textarea)","[data-href]"],uct=null;function dct(t,e){if(t&&1===t.nodeType){!function(t,e){if(1===t.nodeType&&!t.hasAttribute("tabindex"))try{t.matches&&t.matches(e)&&(t.setAttribute("tabindex","0"),t.setAttribute("data-tp-tabindex","auto"))}catch(t){}}(t,e);try{for(var r=t.querySelectorAll(e),n=0;n<r.length;n++)r[n].hasAttribute("tabindex")||(r[n].setAttribute("tabindex","0"),r[n].setAttribute("data-tp-tabindex","auto"))}catch(t){}}}function pct(){uct&&(uct.disconnect(),uct=null)}var fct={name:"tabindexInjection",displayName:"Auto-focusable Elements",selectors:cct,apply:function(t){if(t){pct();var e=cct.join(",");try{for(var r=t.querySelectorAll(e),n=0,o=0;o<r.length;o++){var i=r[o];i.hasAttribute("tabindex")||(i.setAttribute("tabindex","0"),i.setAttribute("data-tp-tabindex","auto"),n++)}n>0&&TizenPortal.log("Tabindex injection: Made "+n+" elements focusable")}catch(t){TizenPortal.warn("Tabindex injection failed: "+t.message)}!function(t,e){if(!uct&&"undefined"!=typeof MutationObserver){var r=t.body||t.documentElement;r&&(uct=new MutationObserver(function(t){for(var r=0;r<t.length;r++)for(var n=t[r].addedNodes,o=0;o<n.length;o++)dct(n[o],e)}),uct.observe(r,{childList:!0,subtree:!0}))}}(t,e)}},remove:function(t){if(pct(),t)try{for(var e=t.querySelectorAll('[data-tp-tabindex="auto"]'),r=0;r<e.length;r++)e[r].removeAttribute("tabindex"),e[r].removeAttribute("data-tp-tabindex")}catch(t){TizenPortal.warn("Tabindex removal failed: "+t.message)}}},gct={name:"scrollIntoView",displayName:"Scroll-into-View",_active:!1,apply:function(){this._active||window.TizenPortal&&window.TizenPortal.focus&&(TizenPortal.focus.setScrollEnabled(!0),this._active=!0,TizenPortal.log("Scroll-into-view: Enabled"))},remove:function(){this._active&&window.TizenPortal&&window.TizenPortal.focus&&(TizenPortal.focus.setScrollEnabled(!1),this._active=!1,TizenPortal.log("Scroll-into-view: Disabled"))}},hct={name:"safeArea",displayName:"TV Safe Area (5% inset)",getCSS:function(){return["/* TizenPortal TV Safe Area - 5% inset on all edges */","body {","  position: relative !important;","  margin: 0 !important;","  padding: 54px 96px !important;","  min-height: 100% !important;","  box-sizing: border-box !important;","}","","/* Ensure TizenPortal overlays respect safe area */","#tp-shell,","#tp-site-editor,","#tp-preferences,","#tp-addressbar,","#tp-diagnostics,","#tp-bundlemenu,","#tp-modal-container {","  position: fixed !important;","  top: 54px !important;","  left: 96px !important;","  right: 96px !important;","  bottom: 54px !important;","  width: auto !important;","  height: auto !important;","  box-sizing: border-box !important;","}"].join("\n")},apply:function(t){t&&(fot(t,"tp-safe-area",this.getCSS())?TizenPortal.log("TV safe area: Applied 5% inset"):TizenPortal.warn("TV safe area: Failed to apply 5% inset"))},remove:function(t){t&&(got(t,"tp-safe-area")&&TizenPortal.log("TV safe area: Removed"))}},mct={name:"gpuHints",displayName:"GPU Acceleration",getCSS:function(){return["/* TizenPortal GPU Acceleration Hints */","","/* Force GPU layers for common animated elements */",'[class*="modal"],','[class*="dialog"],','[class*="menu"],','[class*="dropdown"],','[class*="popup"],','[class*="toast"],','[class*="notification"],','[class*="overlay"] {',"  transform: translateZ(0);","  will-change: transform, opacity;","}","","/* Smooth scrolling containers */",'[class*="scroll"],','[class*="list"],','[class*="grid"] {',"  -webkit-overflow-scrolling: touch;","}","","/* Reduce repaints */","video, canvas {","  backface-visibility: hidden;","}"].join("\n")},apply:function(t){t&&(fot(t,"tp-gpu-hints",this.getCSS()),TizenPortal.log("GPU hints: Applied hardware acceleration"))},remove:function(t){t&&(got(t,"tp-gpu-hints"),TizenPortal.log("GPU hints: Removed"))}},vct={name:"cssReset",displayName:"CSS Normalization",getCSS:function(){return["/* TizenPortal CSS Reset */","","/* Box-sizing reset */","*, *::before, *::after {","  box-sizing: border-box;","}","","/* Prevent text selection on TV (can interfere with navigation) */","* {","  -webkit-user-select: none;","  user-select: none;","}","","/* But allow selection in input fields */",'input, textarea, [contenteditable="true"] {',"  -webkit-user-select: text;","  user-select: text;","}","","/* Remove tap highlight */","* {","  -webkit-tap-highlight-color: transparent;","}","","/* Font smoothing */","body {","  -webkit-font-smoothing: antialiased;","  -moz-osx-font-smoothing: grayscale;","}","","/* Cursor hints for interactive elements */",'a, button, [role="button"] {',"  cursor: pointer;","}"].join("\n")},apply:function(t){t&&(fot(t,"tp-css-reset",this.getCSS()),TizenPortal.log("CSS reset: Applied normalization"))},remove:function(t){t&&(got(t,"tp-css-reset"),TizenPortal.log("CSS reset: Removed"))}},yct={name:"hideScrollbars",displayName:"Hide Scrollbars",getCSS:function(){return["/* TizenPortal Hide Scrollbars */","::-webkit-scrollbar {","  width: 0px;","  height: 0px;","}","","::-webkit-scrollbar-track {","  background: transparent;","}","","::-webkit-scrollbar-thumb {","  background: transparent;","}"].join("\n")},apply:function(t){t&&(fot(t,"tp-hide-scrollbars",this.getCSS()),TizenPortal.log("Hide scrollbars: Applied"))},remove:function(t){t&&(got(t,"tp-hide-scrollbars"),TizenPortal.log("Hide scrollbars: Removed"))}},bct={name:"navigationFix",displayName:"Navigation Hit Test Fix",getCSS:function(){return["/* TizenPortal Navigation Fix */","/* Ensure child elements don't block spatial navigation hit testing */","","/* Generic focusable containers */",'[tabindex]:not([tabindex="-1"]) > *,',"button > *,","a[href] > *,",'[role="button"] > *,','[role="link"] > *,','[role="menuitem"] > *,','[role="tab"] > *,','[role="option"] > * {',"  pointer-events: none !important;","}","","/* Re-enable for nested interactive elements */",'[tabindex]:not([tabindex="-1"]) > button,','[tabindex]:not([tabindex="-1"]) > a[href],','[tabindex]:not([tabindex="-1"]) > input,','[tabindex]:not([tabindex="-1"]) > select,','[tabindex]:not([tabindex="-1"]) > textarea,','[tabindex]:not([tabindex="-1"]) > [tabindex]:not([tabindex="-1"]),',"button > button,","button > a[href],","button > input,","a[href] > button,","a[href] > a[href] {","  pointer-events: auto !important;","}"].join("\n")},apply:function(t){t&&(this.remove(t),fot(t,"tp-navigation-fix",this.getCSS()),TizenPortal.log("Navigation fix CSS injected"))},remove:function(t){t&&(got(t,"tp-navigation-fix"),TizenPortal.log("Navigation fix CSS removed"))}},wct={"extra-small":.75,small:.9,off:1,medium:1.15,large:1.35,"extra-large":1.6},xct={name:"textScale",displayName:"Text Scale",getCSS:function(t){var e=wct[t]||1;if(1===e)return"";return["/* TizenPortal Text Scale ("+t+") */","html {","  font-size: "+16*e+"px !important;","}","","/* Reset all elements to use rem units for clean scaling */","body, p, span, div, h1, h2, h3, h4, h5, h6, li, td, th, label, button, input, select, textarea, a {","  font-size: 1rem !important;","}","","/* Improve readability with better spacing */","body, p, div, li, td, th {","  line-height: "+(1.4+.4*(e-1))+" !important;","}","","/* Letter spacing for large text */","p, li, td, th, span {","  letter-spacing: "+.02*(e-1)+"em !important;","}"].join("\n")},apply:function(t,e){if(t){this.remove(t),e=e||"off";var r=this.getCSS(e);if(r)fot(t,"tp-text-scale",r)?TizenPortal.log("Text scale applied: "+e):TizenPortal.warn("Failed to apply text scale: "+e)}},remove:function(t){t&&(got(t,"tp-text-scale")&&TizenPortal.log("Text scale removed"))}},Tct={name:"wrapTextInputs",displayName:"Text Input Protection",getCSS:function(){return["/* TizenPortal Text Input Protection */","","/* Wrapper - takes over the layout position of the original input */",".tp-input-wrapper {","  display: -webkit-box !important;","  display: -webkit-flex !important;","  display: flex !important;","  -webkit-box-align: center !important;","  -webkit-align-items: center !important;","  align-items: center !important;","  position: relative !important;","  width: 100% !important;","  box-sizing: border-box !important;","  background: transparent;","  border: 1px solid rgba(128, 128, 128, 0.4) !important;","  cursor: pointer !important;","}","","/* Remove wrapper border while editing to avoid double-border with the real input */",".tp-input-wrapper.editing {","  border: none !important;","}","","/* Display span - shows the current value or placeholder */",".tp-input-display {","  display: block !important;","  -webkit-box-flex: 1 !important;","  -webkit-flex: 1 !important;","  flex: 1 !important;","  overflow: hidden !important;","  text-overflow: ellipsis !important;","  white-space: nowrap !important;","  pointer-events: none !important;","  opacity: 0.6 !important;","}","","/* Value present - restore full opacity */",".tp-input-display.has-value {","  opacity: 1 !important;","}","","/* Real input - hidden until activated; shown inline like the portal */",".tp-input-wrapper input.tp-wrapped {","  display: none !important;","}","",".tp-input-wrapper.editing .tp-input-display {","  display: none !important;","}","",".tp-input-wrapper.editing input.tp-wrapped {","  display: block !important;","  -webkit-box-flex: 1 !important;","  -webkit-flex: 1 !important;","  flex: 1 !important;","}"].join("\n")},apply:function(t){t&&(fot(t,"tp-text-input-protection",this.getCSS())?TizenPortal.log("Text input protection: CSS applied"):TizenPortal.warn("Text input protection: Failed to apply CSS"))},remove:function(t){t&&(got(t,"tp-text-input-protection")&&TizenPortal.log("Text input protection: CSS removed"))}};function Pct(){return{focusStyling:!0,focusOutlineMode:"on",focusTransitions:!0,focusTransitionMode:"slide",focusTransitionSpeed:"medium",tabindexInjection:!0,scrollIntoView:!0,safeArea:!1,gpuHints:!0,cssReset:!0,hideScrollbars:!1,wrapTextInputs:!0,viewportMode:"locked",uaMode:"tizen",navigationFix:!0,textScale:"medium"}}function kct(){if(!window.TizenPortal||!window.TizenPortal.config)return{focusStyling:!0,focusOutlineMode:"on",focusTransitions:!0,focusTransitionMode:"slide",focusTransitionSpeed:"medium",tabindexInjection:!0,scrollIntoView:!0,safeArea:!1,gpuHints:!0,cssReset:!0,hideScrollbars:!1,wrapTextInputs:!0,viewportMode:"locked",uaMode:"tizen",navigationFix:!0,textScale:"medium"};var t=TizenPortal.config.get("tp_features");if(console.log("getConfig() - stored from localStorage:",t),t){var e={focusStyling:!0,focusOutlineMode:"on",focusTransitions:!0,focusTransitionMode:"slide",focusTransitionSpeed:"medium",tabindexInjection:!0,scrollIntoView:!0,safeArea:!1,gpuHints:!0,cssReset:!0,hideScrollbars:!1,wrapTextInputs:!0,viewportMode:"locked",uaMode:"tizen",navigationFix:!0,textScale:"medium"},r=!1;for(var n in e)n in t||(console.log("getConfig() - adding missing key from defaults:",n,"=",e[n]),t[n]=e[n],r=!0);r&&(console.log("getConfig() - saving updated config with new defaults"),TizenPortal.config.set("tp_features",t))}else console.log("getConfig() - no stored config, using defaults"),t={focusStyling:!0,focusOutlineMode:"on",focusTransitions:!0,focusTransitionMode:"slide",focusTransitionSpeed:"medium",tabindexInjection:!0,scrollIntoView:!0,safeArea:!1,gpuHints:!0,cssReset:!0,hideScrollbars:!1,wrapTextInputs:!0,viewportMode:"locked",uaMode:"tizen",navigationFix:!0,textScale:"medium"},TizenPortal.config.set("tp_features",t);return console.log("getConfig() returning:",{textScale:t.textScale,focusOutlineMode:t.focusOutlineMode,full:t}),t}Sst.register({id:"focusStyling",type:Sst.ITEM_TYPES.FEATURE,name:"focusStyling",displayName:"Focus Styling",category:Sst.CATEGORIES.STYLING,description:"Provides outline focus indicators for TV navigation",defaultEnabled:!0,configKeys:["focusStyling","focusOutlineMode"],implementation:ict,applyArgs:function(t){var e=t.focusOutlineMode||"off";return!1===t.focusStyling&&(e="none"),[e]}}),Sst.register({id:"focusTransitions",type:Sst.ITEM_TYPES.FEATURE,name:"focusTransitions",displayName:"Focus Transitions",category:Sst.CATEGORIES.STYLING,description:"Smooth animated transitions between focused elements",defaultEnabled:!0,configKeys:["focusTransitions","focusTransitionMode","focusTransitionSpeed"],implementation:lct,applyArgs:function(t){return[t.focusTransitionMode||"slide",t.focusTransitionSpeed||"medium"]}}),Sst.register({id:"tabindexInjection",type:Sst.ITEM_TYPES.FEATURE,name:"tabindexInjection",displayName:"Tab Index Injection",category:Sst.CATEGORIES.NAVIGATION,description:"Automatically makes elements focusable for TV navigation",defaultEnabled:!0,configKeys:["tabindexInjection"],implementation:fct,applyArgs:function(){return[]}}),Sst.register({id:"scrollIntoView",type:Sst.ITEM_TYPES.FEATURE,name:"scrollIntoView",displayName:"Scroll Into View",category:Sst.CATEGORIES.NAVIGATION,description:"Automatically scrolls focused elements into viewport",defaultEnabled:!0,configKeys:["scrollIntoView"],implementation:gct,applyArgs:function(){return[]}}),Sst.register({id:"safeArea",type:Sst.ITEM_TYPES.FEATURE,name:"safeArea",displayName:"TV Safe Area",category:Sst.CATEGORIES.STYLING,description:"Adds padding for TV overscan areas",defaultEnabled:!1,configKeys:["safeArea"],implementation:hct,applyArgs:function(){return[]}}),Sst.register({id:"gpuHints",type:Sst.ITEM_TYPES.FEATURE,name:"gpuHints",displayName:"GPU Acceleration",category:Sst.CATEGORIES.PERFORMANCE,description:"Hardware acceleration hints for better performance",defaultEnabled:!0,configKeys:["gpuHints"],implementation:mct,applyArgs:function(){return[]}}),Sst.register({id:"cssReset",type:Sst.ITEM_TYPES.FEATURE,name:"cssReset",displayName:"CSS Normalization",category:Sst.CATEGORIES.CORE,description:"Base CSS normalization for TV browsers",defaultEnabled:!0,configKeys:["cssReset"],implementation:vct,applyArgs:function(){return[]}}),Sst.register({id:"hideScrollbars",type:Sst.ITEM_TYPES.FEATURE,name:"hideScrollbars",displayName:"Hide Scrollbars",category:Sst.CATEGORIES.LAYOUT,description:"Hide native scrollbars while keeping scroll behavior",defaultEnabled:!1,configKeys:["hideScrollbars"],implementation:yct,applyArgs:function(){return[]}}),Sst.register({id:"navigationFix",type:Sst.ITEM_TYPES.FEATURE,name:"navigationFix",displayName:"Navigation Fix",category:Sst.CATEGORIES.NAVIGATION,description:"Fixes for common navigation issues",defaultEnabled:!0,configKeys:["navigationFix"],implementation:bct,applyArgs:function(){return[]}}),Sst.register({id:"textScale",type:Sst.ITEM_TYPES.FEATURE,name:"textScale",displayName:"Text Scale",category:Sst.CATEGORIES.STYLING,description:"Adjustable text size for improved TV legibility",defaultEnabled:!0,configKeys:["textScale"],implementation:xct,applyArgs:function(t){return[t.textScale||"medium"]}}),Sst.register({id:"wrapTextInputs",type:Sst.ITEM_TYPES.FEATURE,name:"wrapTextInputs",displayName:"Text Input Protection",category:Sst.CATEGORIES.INPUT,description:"Wraps text fields so the on-screen keyboard only opens on explicit Enter/click",defaultEnabled:!0,configKeys:["wrapTextInputs"],implementation:Tct,applyArgs:function(){return[]}});var Sct={applyFeatures:function(t,e){t||(t=document);var r=kct(),n=Object.assign({},r);function o(t,e,r){t.apply.apply(t,[e].concat(r))}function i(t,e){var r=e[t.configKeys&&t.configKeys.length>0?t.configKeys[0]:t.id];if("focusStyling"===t.id){var n=e.focusOutlineMode||"off";return!1===e.focusStyling&&(n="none"),"none"===n?{shouldApply:!1,shouldRemove:!0,args:[]}:{shouldApply:!0,shouldRemove:!1,args:t.applyArgs?t.applyArgs(e):[]}}if("focusTransitions"===t.id){var o=e.focusTransitionMode||"slide";return!1===e.focusTransitions||"off"===o?{shouldApply:!1,shouldRemove:!0,args:[]}:{shouldApply:!0,shouldRemove:!1,args:t.applyArgs?t.applyArgs(e):[]}}return"textScale"===t.id?"off"===(e.textScale||"off")?{shouldApply:!1,shouldRemove:!0,args:[]}:{shouldApply:!0,shouldRemove:!1,args:t.applyArgs?t.applyArgs(e):[]}:"navigationFix"===t.id?e.navigationFix?{shouldApply:!0,shouldRemove:!1,args:t.applyArgs?t.applyArgs(e):[]}:!1===e.navigationFix?{shouldApply:!1,shouldRemove:!0,args:[]}:{shouldApply:!1,shouldRemove:!1,args:[]}:r?{shouldApply:!0,shouldRemove:!1,args:t.applyArgs?t.applyArgs(e):[]}:{shouldApply:!1,shouldRemove:!0,args:[]}}e&&Object.keys(e).forEach(function(t){e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t])}),window.TizenPortal?window.TizenPortal.log("[Features] Effective config: "+JSON.stringify(n)):console.log("[Features] Effective config:",n);try{for(var a=Sst.query({type:Sst.ITEM_TYPES.FEATURE}),s=0;s<a.length;s++){var l=a[s],c=l.implementation;if(c){var u=i(l,n);u.shouldRemove?(window.TizenPortal&&window.TizenPortal.log("[Features] Removing "+l.id),c.remove&&c.remove(t)):u.shouldApply&&(window.TizenPortal&&window.TizenPortal.log("[Features] Applying "+l.id),o(c,t,u.args))}}window.TizenPortal&&window.TizenPortal.log("[Features] All features applied successfully")}catch(t){window.TizenPortal?window.TizenPortal.warn("[Features] Failed to apply:",t.message):console.warn("TizenPortal Features: Failed to apply:",t.message)}},removeFeatures:function(t){t||(t=document);try{for(var e=Sst.query({type:Sst.ITEM_TYPES.FEATURE}),r=0;r<e.length;r++){var n=e[r];n.implementation&&n.implementation.remove&&n.implementation.remove(t)}window.TizenPortal&&TizenPortal.log("Features: Removed")}catch(t){window.TizenPortal&&TizenPortal.warn("Features: Failed to remove:",t.message)}},getFeatures:function(){return Sst.query({type:Sst.ITEM_TYPES.FEATURE}).map(function(t){return{key:t.id,name:t.name,displayName:t.displayName}})},getDefaults:Pct,getConfig:kct,addNavigableSelector:function(t){if(t&&"string"==typeof t){var e=Sst.getById("tabindexInjection");e&&e.implementation&&Array.isArray(e.implementation.selectors)&&-1===e.implementation.selectors.indexOf(t)&&e.implementation.selectors.push(t)}},registry:Sst},Ect={active:!1,currentRow:0,settings:{},sectionCollapsed:{}},Act=[{value:"dark",label:"Dark"},{value:"light",label:"Light"},{value:"auto",label:"Automatic (Sunset)"},{value:"portal",label:"Portal (Blue & Orange)"},{value:"backdrop",label:"Custom Backdrop"},{value:"custom",label:"Custom Colours"}],Cct=[{value:"glow",label:"Glow"},{value:"crisp",label:"Crisp"},{value:"flat",label:"Flat"},{value:"vignette",label:"Vignette"}],Oct=[{value:"corners",label:"Corners"},{value:"opposite",label:"Opposite Corners"},{value:"top",label:"Top Arc"},{value:"bottom",label:"Bottom Arc"},{value:"sides",label:"Sides"}],Ict=[{value:"off",label:"Off"},{value:"top-right",label:"Top Right"},{value:"top-left",label:"Top Left"},{value:"bottom-right",label:"Bottom Right"},{value:"bottom-left",label:"Bottom Left"}],zct=[{value:"off",label:"Off"},{value:"top-right",label:"Top Right"},{value:"top-left",label:"Top Left"},{value:"bottom-right",label:"Bottom Right"},{value:"bottom-left",label:"Bottom Left"}];function Rct(t){if("number"==typeof t)return Act[t%Act.length].value;if("string"==typeof t)for(var e=0;e<Act.length;e++)if(Act[e].value===t)return t;return"dark"}function Mct(t){if("number"==typeof t)return Cct[t%Cct.length].value;if("string"==typeof t)for(var e=0;e<Cct.length;e++)if(Cct[e].value===t)return t;return"glow"}function Nct(t){if("number"==typeof t)return Oct[t%Oct.length].value;if("string"==typeof t)for(var e=0;e<Oct.length;e++)if(Oct[e].value===t)return t;return"corners"}function Bct(t){if("number"==typeof t)return Ict[t%Ict.length].value;if("string"==typeof t)for(var e=0;e<Ict.length;e++)if(Ict[e].value===t)return t;return"off"}function Lct(t){if("number"==typeof t)return zct[t%zct.length].value;if("string"==typeof t)for(var e=0;e<zct.length;e++)if(zct[e].value===t)return t;return"bottom-left"}var _ct=[{id:"theme",label:"Theme Mode",type:"select",options:Act,key:"theme",config:"portal",section:"portal",category:"appearance"},{id:"portalFilter",label:"Portal Filter",type:"select",options:Cct,key:"portalFilter",config:"portal",section:"portal",category:"appearance"},{id:"portalAccentPosition",label:"Portal Accent Positions",type:"select",options:Oct,key:"portalAccentPosition",config:"portal",section:"portal",category:"appearance"},{id:"customColor1",label:"Gradient Color 1",type:"color",key:"customColor1",config:"portal",showIf:"custom",section:"portal",category:"appearance"},{id:"customColor2",label:"Gradient Color 2",type:"color",key:"customColor2",config:"portal",showIf:"custom",section:"portal",category:"appearance"},{id:"backgroundImage",label:"Backdrop Image URL",type:"text",key:"backgroundImage",config:"portal",showIf:"backdrop",section:"portal",category:"appearance"},{id:"hudPosition",label:"Debug HUD",type:"select",options:Ict,key:"hudPosition",config:"portal",section:"portal",category:"hints"},{id:"hintsPosition",label:"Color Hints",type:"select",options:zct,key:"hintsPosition",config:"portal",section:"portal",category:"hints"},{id:"textScale",label:"Text Scale",type:"select",options:[{value:"extra-small",label:"Extra Small (75%)"},{value:"small",label:"Small (90%)"},{value:"off",label:"Normal (100%)"},{value:"medium",label:"Medium (115%)"},{value:"large",label:"Large (135%)"},{value:"extra-large",label:"Extra Large (160%)"}],key:"textScale",config:"features",section:"global",category:"appearance",description:"Scale all text for improved TV legibility while maintaining relative sizing"},{id:"focusOutlineMode",label:"Focus Outline",type:"select",options:[{value:"off",label:"Subtle Blue"},{value:"on",label:"Blue Ring"},{value:"high",label:"Yellow Ring"},{value:"portal",label:"Portal Style (Glow)"},{value:"white",label:"White Ring"}],key:"focusOutlineMode",config:"features",section:"global",category:"navigation"},{id:"focusTransitionMode",label:"Focus Transition Style",type:"select",options:[{value:"slide",label:"Slide (Directional)"},{value:"scale",label:"Scale (Grow)"},{value:"glow",label:"Glow (Pulse)"},{value:"off",label:"Off"}],key:"focusTransitionMode",config:"features",section:"global",category:"navigation"},{id:"focusTransitionSpeed",label:"Focus Transition Speed",type:"select",options:[{value:"fast",label:"Fast (150ms)"},{value:"medium",label:"Medium (250ms)"},{value:"slow",label:"Slow (400ms)"}],key:"focusTransitionSpeed",config:"features",section:"global",category:"navigation"},{id:"safeArea",label:"TV Safe Area (5% inset)",type:"toggle",key:"safeArea",config:"features",section:"global",category:"layout",description:"Inset content 5% from edges to account for TV screen overscan (applies globally including portal)"},{id:"cssReset",label:"CSS Normalization",type:"toggle",key:"cssReset",config:"features",section:"global",category:"layout",description:"Apply baseline CSS resets for consistent display across Tizen browsers (applies globally)"},{id:"hideScrollbars",label:"Hide Scrollbars",type:"toggle",key:"hideScrollbars",config:"features",section:"global",category:"layout",description:"Hide native scrollbars for a cleaner TV interface (applies globally including portal)"},{id:"gpuHints",label:"GPU Acceleration",type:"toggle",key:"gpuHints",config:"features",section:"global",category:"performance",description:"Apply GPU hints to improve animation performance on constrained hardware (applies globally)"},{id:"navigationMode",label:"Navigation Mode",type:"select",options:[{value:"geometric",label:"Grid Navigation (Geometric) - Default"},{value:"directional",label:"Smart Navigation (Directional)"},{value:"polyfill",label:"Legacy Polyfill (Compatibility Only)"}],key:"navigationMode",config:"features",section:"site",category:"navigation"},{id:"viewportMode",label:"Viewport Lock Mode",type:"select",options:[{value:"auto",label:"Auto"},{value:"locked",label:"Locked (1920)"},{value:"unlocked",label:"Unlocked"}],key:"viewportMode",config:"features",section:"site",category:"navigation"},{id:"uaMode",label:"User Agent Mode",type:"select",options:[{value:"tizen",label:"Tizen TV"},{value:"desktop",label:"Desktop"},{value:"mobile",label:"Mobile"}],key:"uaMode",config:"features",section:"site",category:"compatibility"},{id:"tabindexInjection",label:"Auto-focusable Elements",type:"toggle",key:"tabindexInjection",config:"features",section:"site",category:"input",description:"Automatically inject tabindex on interactive elements for remote control navigation"},{id:"scrollIntoView",label:"Scroll into View on Focus",type:"toggle",key:"scrollIntoView",config:"features",section:"site",category:"input",description:"Scroll container when focused element comes into viewport"},{id:"wrapTextInputs",label:"Protect Text Inputs",type:"toggle",key:"wrapTextInputs",config:"features",section:"site",category:"input",description:"Protect text input fields from accidental remote button presses during editing"}],Dct=[{id:"global",label:"âï¸ Global Preferences",defaultCollapsed:!0},{id:"portal",label:"ð¼ï¸ Portal Preferences",defaultCollapsed:!0},{id:"site",label:"ð¥ï¸ Site Preferences",defaultCollapsed:!0},{id:"userscripts",label:"ð User Scripts",defaultCollapsed:!0}],Fct={appearance:"ð¨ Appearance",navigation:"ð§­ Navigation",input:"â¨ï¸ Input",layout:"ð Layout",performance:"â¡ Performance",compatibility:"ð§ Compatibility",hints:"ð¡ HUD & Hints"},Uct={global:["appearance","navigation","layout","performance"],portal:["appearance","hints"],site:["navigation","compatibility","input"]};function jct(){var t=document.createElement("div");t.id="tp-preferences",t.className="tp-preferences",t.innerHTML='<div class="tp-prefs-backdrop"></div><div class="tp-prefs-panel"><div class="tp-prefs-header"><h2 id="tp-prefs-title">Preferences</h2><div class="tp-prefs-hint">Navigate with D-pad | Changes auto-save</div></div><div class="tp-prefs-body"><div class="tp-prefs-rows" id="tp-prefs-rows"></div></div><div class="tp-prefs-footer"><button type="button" class="tp-prefs-btn tp-prefs-btn-cancel" id="tp-prefs-cancel" tabindex="0">Close</button></div></div>';var e=document.getElementById("tp-shell");e?e.appendChild(t):document.body.appendChild(t),function(t){var e=t.querySelector("#tp-prefs-cancel");e&&(e.addEventListener("click",function(){aut()}),e.addEventListener("keydown",function(t){13===t.keyCode&&(t.preventDefault(),aut())}));var r=t.querySelector(".tp-prefs-backdrop");r&&r.addEventListener("click",function(){aut()});t.addEventListener("keydown",Hct)}(t),console.log("TizenPortal: Preferences initialized")}function Hct(t){var e=t.keyCode;if(27===e||10009===e)return t.preventDefault(),t.stopPropagation(),void aut();if(38===e||40===e)return t.preventDefault(),t.stopPropagation(),void function(t){var e=Wct().length+1,r=Ect.currentRow+t;r<0&&(r=0);r>=e&&(r=e-1);r!==Ect.currentRow&&(Ect.currentRow=r,nut(r))}(38===e?-1:1);if(13===e){var r=document.activeElement;if(r&&"tp-prefs-cancel"===r.id)return t.preventDefault(),void aut();if(r&&r.classList&&r.classList.contains("tp-prefs-row"))return t.preventDefault(),void out(r)}}function qct(){if(console.log("TizenPortal: showPreferences called"),window.TizenPortal){var t=document.getElementById("tp-preferences");if(t){if(Ect.settings={portalConfig:TizenPortal.config.get("tp_portal")||{theme:"dark",customColor1:"#0d1117",customColor2:"#161b22",backgroundImage:"",portalFilter:"glow",portalAccentPosition:"corners",hudPosition:"off",hintsPosition:"bottom-left",showHints:!0},featuresConfig:Sct.getConfig?Sct.getConfig():TizenPortal.config.get("tp_features")||{focusStyling:!0,focusOutlineMode:"on",focusTransitions:!0,focusTransitionMode:"slide",focusTransitionSpeed:"medium",tabindexInjection:!0,scrollIntoView:!0,safeArea:!1,gpuHints:!0,cssReset:!0,hideScrollbars:!1,wrapTextInputs:!0,viewportMode:"locked",uaMode:"tizen",navigationFix:!0,textScale:"medium"}},Ect.settings.portalConfig){var e=Rct(Ect.settings.portalConfig.theme);Ect.settings.portalConfig.theme!==e&&(Ect.settings.portalConfig.theme=e,TizenPortal.config.set("tp_portal",Ect.settings.portalConfig));var r=Mct(Ect.settings.portalConfig.portalFilter);Ect.settings.portalConfig.portalFilter!==r&&(Ect.settings.portalConfig.portalFilter=r,TizenPortal.config.set("tp_portal",Ect.settings.portalConfig));var n=Nct(Ect.settings.portalConfig.portalAccentPosition);Ect.settings.portalConfig.portalAccentPosition!==n&&(Ect.settings.portalConfig.portalAccentPosition=n,TizenPortal.config.set("tp_portal",Ect.settings.portalConfig));var o=Bct(Ect.settings.portalConfig.hudPosition);Ect.settings.portalConfig.hudPosition!==o&&(Ect.settings.portalConfig.hudPosition=o,TizenPortal.config.set("tp_portal",Ect.settings.portalConfig)),Ect.settings.portalConfig.hintsPosition||!1!==Ect.settings.portalConfig.showHints||(Ect.settings.portalConfig.hintsPosition="off");var i=Lct(Ect.settings.portalConfig.hintsPosition);Ect.settings.portalConfig.hintsPosition!==i&&(Ect.settings.portalConfig.hintsPosition=i,TizenPortal.config.set("tp_portal",Ect.settings.portalConfig))}Ect.currentRow=0,Ect.active=!0,Ect.sectionCollapsed=function(){for(var t={},e=0;e<Dct.length;e++)t[Dct[e].id]=Dct[e].defaultCollapsed;return t}(),window.TizenPortal&&window.TizenPortal.updatePortalHints&&window.TizenPortal.updatePortalHints(),$ct(),t.classList.add("visible"),setTimeout(function(){nut(0)},50)}else console.error("TizenPortal: preferences element not found")}else console.error("TizenPortal not initialized")}function Vct(){Ect.sectionCollapsed||(Ect.sectionCollapsed={});for(var t=0;t<Dct.length;t++){var e=Dct[t].id;Ect.sectionCollapsed.hasOwnProperty(e)||(Ect.sectionCollapsed[e]=Dct[t].defaultCollapsed)}}function Gct(){for(var t=Rct(Ect.settings.portalConfig.theme||"dark"),e=[],r=[],n=0;n<_ct.length;n++){var o=_ct[n];o.showIf&&o.showIf!==t||(o.showIf?r.push(o):e.push(o))}if(r.length){for(var i=1,a=0;a<e.length;a++)if("theme"===e[a].id){i=a+1;break}e.splice.apply(e,[i,0].concat(r))}return e}function Wct(){Vct();for(var t=Gct(),e={},r=0;r<t.length;r++){var n=t[r],o=n.section||"global";e[o]||(e[o]=[]),e[o].push(n)}e.userscripts=function(){var t=[],e=Sst.CATEGORIES;for(var r in e){var n=Sst.query({type:Sst.ITEM_TYPES.USERSCRIPT,category:e[r]});if(n.length>0){t.push({type:"userscript-category",category:e[r],label:Xct(e[r])});for(var o=0;o<n.length;o++)t.push({type:"userscript-toggle",scriptId:n[o].id,scriptName:n[o].name,scriptDesc:n[o].description,label:n[o].name})}}return t}();for(var i=[],a=0;a<Dct.length;a++){var s=Dct[a];if(i.push({type:"section",id:s.id,label:s.label}),!Ect.sectionCollapsed[s.id]){var l=e[s.id]||[];if("userscripts"===s.id)for(var c=0;c<l.length;c++)i.push(l[c]);else for(var u=Yct(s.id,l),d=0;d<u.length;d++)i.push(u[d])}}return i}function Yct(t,e){for(var r=Uct[t]||[],n={},o=0;o<e.length;o++){var i=e[o],a=i.category||"appearance";n[a]||(n[a]=[]),n[a].push(i)}for(var s=[],l=r.length?r:Object.keys(n),c=0;c<l.length;c++){var u=l[c],d=n[u];if(d&&d.length){s.push({type:"category",label:Kct(u),category:u,section:t});for(var p=0;p<d.length;p++)s.push(d[p])}}return s}function Xct(t){return{accessibility:"â¿ Accessibility",reading:"ð Reading",video:"ð¬ Video",navigation:"ð§­ Navigation",privacy:"ð Privacy",experimental:"ð§ª Experimental"}[t]||t}function Kct(t){return Fct[t]||t}function Jct(t){return!0===Nst.getUserscriptsConfig().enabled[t]}function $ct(){var t=document.getElementById("tp-prefs-rows");if(t){var e=t.scrollTop;Vct();for(var r=Wct(),n="",o=0;o<r.length;o++){var i=r[o];if("section"===i.type){var a=!!Ect.sectionCollapsed[i.id]?"â¶":"â¼",s=Zct(i.id);n+='<div class="tp-prefs-row tp-prefs-section-row" data-index="'+o+'" data-id="'+i.id+'" data-type="section" tabindex="0"><div class="tp-prefs-label">'+i.label+'</div><div class="tp-prefs-value"><span class="tp-prefs-section-summary">'+sot(s)+'</span><span class="tp-prefs-section-indicator">'+a+"</span></div></div>"}else if("category"===i.type)n+='<div class="tp-prefs-row tp-prefs-category" data-index="'+o+'" data-type="category" tabindex="-1"><div class="tp-prefs-label" style="font-weight: bold; color: #8ab4f8;">'+sot(i.label)+'</div><div class="tp-prefs-value"></div></div>';else if("userscript-category"===i.type)n+='<div class="tp-prefs-row tp-prefs-userscript-category" data-index="'+o+'" data-type="userscript-category" tabindex="-1"><div class="tp-prefs-label" style="font-weight: bold; color: #8ab4f8;">'+i.label+'</div><div class="tp-prefs-value"></div></div>';else if("userscript-toggle"===i.type){var l=Jct(i.scriptId)?"â Enabled":"â Disabled";n+='<div class="tp-prefs-row" data-index="'+o+'" data-type="userscript-toggle" data-script-id="'+sot(i.scriptId)+'" tabindex="0"><div class="tp-prefs-label">'+sot(i.label)+'</div><div class="tp-prefs-value">'+l+"</div></div>"}else{l=rut(i,tut(i));n+='<div class="tp-prefs-row" data-index="'+o+'" data-id="'+i.id+'" tabindex="0"><div class="tp-prefs-label">'+i.label+'</div><div class="tp-prefs-value">'+l+"</div></div>"}}t.innerHTML=n;for(var c=t.querySelectorAll(".tp-prefs-row"),u=0;u<c.length;u++)c[u].addEventListener("click",function(){out(this)});t.scrollTop=e}}function Zct(t){if("userscripts"===t){var e=Sst.query({type:Sst.ITEM_TYPES.USERSCRIPT});if(!e.length)return"No scripts registered";for(var r=[],n=0;n<e.length;n++){var o=e[n];Jct(o.id)&&r.push(o.name)}return r.length>0?r.join(", "):"None enabled"}for(var i=Gct(),a=[],s=0;s<i.length;s++){var l=i[s];if(l.section===t){var c=Qct(l,tut(l));a.push(l.label+": "+c)}}return a.join(" â¢ ")}function Qct(t,e){if("toggle"===t.type)return e?"On":"Off";if("select"===t.type&&t.options){var r=function(t,e){for(var r=0;r<t.length;r++)if(t[r].value===e)return t[r].label;return""}(t.options,e);return r||e||"(not set)"}return"color"===t.type?e||"(not set)":"text"===t.type&&"backgroundImage"===t.id?function(t){if(!t)return"";var e=t.replace(/^https?:\/\//i,"");e.length>40&&(e=e.substring(0,37)+"...");return e}(e||""):e||"(not set)"}function tut(t){var e="portal"===t.config?Ect.settings.portalConfig:Ect.settings.featuresConfig,r=e[t.key];return"textScale"===t.key&&console.log("getValue(textScale): value="+r+", full config:",e),r}function eut(t,e){("portal"===t.config?Ect.settings.portalConfig:Ect.settings.featuresConfig)[t.key]=e}function rut(t,e){if("toggle"===t.type)return e?"â On":"â Off";if("select"===t.type&&t.options){for(var r=0;r<t.options.length;r++)if(t.options[r].value===e)return t.options[r].label;return t.options.length?t.options[0].label:e||"(not set)"}return"color"===t.type?e?"â  "+e:"(not set)":e||"(not set)"}function nut(t){if(t>=Wct().length){var e=document.getElementById("tp-prefs-cancel");e&&e.focus()}else{var r=document.getElementById("tp-prefs-rows");if(r){var n=r.querySelectorAll(".tp-prefs-row");n[t]&&n[t].focus()}}}function out(t){var e=parseInt(t.dataset.index,10),r=Wct()[e];if(r){if("section"===r.type)return Ect.sectionCollapsed[r.id]=!Ect.sectionCollapsed[r.id],$ct(),void nut(e);if("userscript-toggle"!==r.type){if("userscript-category"!==r.type)if("category"!==r.type)if(console.log("TizenPortal: Activate preference row:",r.id,"type:",r.type),"toggle"===r.type)eut(r,!tut(r)),$ct(),nut(e),sut("toggle:"+r.id);else"select"===r.type?function(t,e){for(var r=tut(t),n=t.options,o=-1,i=0;i<n.length;i++)if(n[i].value===r){o=i;break}var a=0;-1!==o&&(a=(o+1)%n.length);var s=n[a].value;eut(t,s),$ct(),nut(e),sut("select:"+t.id)}(r,e):"text"===r.type?function(t,e){var r=document.querySelector('.tp-prefs-row[data-id="'+t.id+'"]');iut(r,tut(t)||"",{onConfirm:function(r){eut(t,r),$ct(),nut(e),sut("text:"+t.id)},onCancel:function(){nut(e)}})}(r,e):"color"===r.type&&function(t,e){var r=document.querySelector('.tp-prefs-row[data-id="'+t.id+'"]');iut(r,tut(t)||"#1a1a2e",{placeholder:"#rrggbb",onConfirm:function(r){if(!uot(r))return window.TizenPortal&&window.TizenPortal.showToast&&TizenPortal.showToast("Invalid color. Use hex format like #ff0000"),void nut(e);eut(t,r),$ct(),nut(e),sut("color:"+t.id)},onCancel:function(){nut(e)}})}(r,e)}else{var n=t.dataset.scriptId;n&&(!function(t,e){Nst.setGlobalUserscriptEnabled(t,e)}(n,!Jct(n)),$ct(),nut(e),sut("userscript-toggle:"+n))}}}function iut(t,e,r){if(t&&(r=r||{},!t.querySelector(".tp-inline-edit-input"))){var n=t.querySelector(".tp-prefs-value");if(n){var o=document.createElement("input");o.type="text",o.className="tp-inline-edit-input",o.value=e||"",r.placeholder&&o.setAttribute("placeholder",r.placeholder),n.style.display="none",t.appendChild(o),t.setAttribute("tabindex","-1");var i=!1;o.addEventListener("click",function(t){t.stopPropagation()}),o.addEventListener("keydown",function(t){t.keyCode===Rot.ENTER?(t.preventDefault(),t.stopPropagation(),a()):27!==t.keyCode&&t.keyCode!==Rot.BACK&&t.keyCode!==Rot.IME_CANCEL||(t.preventDefault(),t.stopPropagation(),i||(i=!0,s(),"function"==typeof r.onCancel&&r.onCancel()))}),o.addEventListener("blur",function(){i||a()});try{o.focus(),o.value&&o.select()}catch(t){}}}function a(){i||(i=!0,s(),"function"==typeof r.onConfirm&&r.onConfirm(o.value))}function s(){n.style.display="",o.parentNode&&o.parentNode.removeChild(o),t.setAttribute("tabindex","0")}}function aut(){var t=document.getElementById("tp-preferences");t&&t.classList.remove("visible"),Ect.active=!1,window.TizenPortal&&window.TizenPortal.updatePortalHints&&window.TizenPortal.updatePortalHints(),function(){var t=document.querySelector(".tp-card:focus");if(t)t.focus();else{var e=document.querySelector(".tp-card");e&&e.focus()}}()}function sut(t){if(console.log("TizenPortal: Auto-saving preferences",t||""),Ect.settings.portalConfig){Ect.settings.portalConfig.theme=Rct(Ect.settings.portalConfig.theme||"dark"),Ect.settings.portalConfig.portalFilter=Mct(Ect.settings.portalConfig.portalFilter||"glow"),Ect.settings.portalConfig.portalAccentPosition=Nct(Ect.settings.portalConfig.portalAccentPosition||"corners"),Ect.settings.portalConfig.hudPosition=Bct(Ect.settings.portalConfig.hudPosition||"off");var e=Lct(Ect.settings.portalConfig.hintsPosition||"bottom-left");Ect.settings.portalConfig.hintsPosition=e,Ect.settings.portalConfig.showHints="off"!==e}TizenPortal.config.set("tp_portal",Ect.settings.portalConfig),console.log("Saving features config:",{textScale:Ect.settings.featuresConfig.textScale,focusOutlineMode:Ect.settings.featuresConfig.focusOutlineMode,full:Ect.settings.featuresConfig}),TizenPortal.config.set("tp_features",Ect.settings.featuresConfig),TizenPortal.config.set("tp_userscripts",Ect.settings.userscriptsConfig),lut(Ect.settings.portalConfig),Sct.applyFeatures(document,Ect.settings.featuresConfig),window.TizenPortal&&window.TizenPortal.showToast&&TizenPortal.showToast("Saved")}function lut(t){!t&&window.TizenPortal&&window.TizenPortal.config&&(t=TizenPortal.config.get("tp_portal")),t||(t={theme:"dark",customColor1:"#0d1117",customColor2:"#161b22",backgroundImage:"",portalFilter:"glow",portalAccentPosition:"corners",hudPosition:"off",hintsPosition:"bottom-left",showHints:!0}),t.hintsPosition||!1!==t.showHints||(t.hintsPosition="off");var e,r=Rct(t.theme||"dark"),n=Mct(t.portalFilter||"glow"),o=Nct(t.portalAccentPosition||"corners");"auto"===r&&(r=(e=(new Date).getHours())<6||e>=18?"dark":"light"),cut(!0===t.siteTheme?r:"off");var i=document.getElementById("tp-shell");if(i)if(i.setAttribute("data-theme",r),i.style.backgroundColor="",i.style.backgroundImage="",i.style.background="","backdrop"===r)t.backgroundImage&&lot(t.backgroundImage)&&(i.style.backgroundImage="url("+encodeURI(t.backgroundImage)+")",i.style.backgroundSize="cover",i.style.backgroundPosition="center",i.style.backgroundColor="#0d1117");else{var a="";if("custom"===r)a="linear-gradient(135deg, "+(uot(t.customColor1)?t.customColor1:"#0d1117")+" 0%, "+(uot(t.customColor2)?t.customColor2:"#161b22")+" 100%)";else a="portal"===r?"linear-gradient(135deg, #0d1117 0%, #1a2332 50%, #0d1117 100%)":"light"===r?"linear-gradient(135deg, #f5f5f5 0%, #e0e0e0 100%)":"linear-gradient(135deg, #0d1117 0%, #161b22 50%, #0d1117 100%)";i.style.background=function(t,e,r,n,o){var i=function(t,e,r){var n="160px 160px",o=.28,i=.26,a=62,s=.5,l=.5,c=36,u=38;r&&(o*=.7,i*=.7,s*=.65,l*=.65);var d="18% 22%",p="82% 78%";"opposite"===t?(d="82% 22%",p="18% 78%"):"top"===t?(d="25% 18%",p="75% 18%"):"bottom"===t?(d="25% 82%",p="75% 82%"):"sides"===t&&(d="12% 50%",p="88% 50%");return{blue:"0, 170, 255",orange:"255, 140, 0",large:"820px 560px",size:n,glowAlpha:o.toFixed(2),glowAlpha2:i.toFixed(2),glowEnd:a,crispAlpha:s.toFixed(2),crispAlpha2:l.toFixed(2),crispStop:c,crispEnd:u,first:d,second:p}}(e,0,o);if("flat"===t)return r;var a="",s="",l="";"crisp"===t?(a="radial-gradient("+i.size+" at "+i.first+", rgba("+i.blue+", "+i.crispAlpha+") 0%, rgba("+i.blue+", "+i.crispAlpha+") "+i.crispStop+"%, transparent "+i.crispEnd+"%)",s="radial-gradient("+i.size+" at "+i.second+", rgba("+i.orange+", "+i.crispAlpha2+") 0%, rgba("+i.orange+", "+i.crispAlpha2+") "+i.crispStop+"%, transparent "+i.crispEnd+"%)"):"vignette"===t?(a="radial-gradient("+i.large+" at "+i.first+", rgba("+i.blue+", "+i.glowAlpha+") 0%, transparent "+i.glowEnd+"%)",s="radial-gradient("+i.large+" at "+i.second+", rgba("+i.orange+", "+i.glowAlpha2+") 0%, transparent "+i.glowEnd+"%)",l="radial-gradient(140% 140% at 50% 50%, rgba(0, 0, 0, 0) 55%, rgba(0, 0, 0, 0.45) 100%)"):(a="radial-gradient("+i.large+" at "+i.first+", rgba("+i.blue+", "+i.glowAlpha+") 0%, transparent "+i.glowEnd+"%)",s="radial-gradient("+i.large+" at "+i.second+", rgba("+i.orange+", "+i.glowAlpha2+") 0%, transparent "+i.glowEnd+"%)");if(l)return a+", "+s+", "+l+", "+r;return a+", "+s+", "+r}(n,o,a,0,"light"===r)}if(window.TizenPortal&&window.TizenPortal.setPortalHintsPosition){var s=Lct(t.hintsPosition||"bottom-left");window.TizenPortal.setPortalHintsPosition(s)}else window.TizenPortal&&window.TizenPortal.setPortalHintsVisible&&window.TizenPortal.setPortalHintsVisible(!0);!function(t){var e=document.getElementById("tp-hud");if(!e)return;var r=t||"off";if("off"===r)return void(e.style.display="none");e.style.display="block",e.style.top="",e.style.right="",e.style.bottom="",e.style.left="","top-left"===r?(e.style.top="0",e.style.left="0"):"bottom-right"===r?(e.style.bottom="0",e.style.right="0"):"bottom-left"===r?(e.style.bottom="0",e.style.left="0"):(e.style.top="0",e.style.right="0")}(Bct(t.hudPosition||"off"))}function cut(t){var e=!!document.getElementById("tp-shell"),r=document.documentElement;if(r)if(e){r.classList.remove("tp-dark-mode");var n=document.getElementById("tp-site-theme");n&&n.parentNode&&n.parentNode.removeChild(n)}else{var o="dark"===t;o?r.classList.contains("tp-dark-mode")||r.classList.add("tp-dark-mode"):r.classList.remove("tp-dark-mode");var i=document.getElementById("tp-site-theme");o?(i||((i=document.createElement("style")).id="tp-site-theme",(document.head||document.documentElement).appendChild(i)),i.textContent=["/* TizenPortal Site Dark Mode */","html.tp-dark-mode {","  background: #111 !important;","  filter: invert(1) hue-rotate(180deg);","}","html.tp-dark-mode body {","  background: #111 !important;","}","html.tp-dark-mode img,","html.tp-dark-mode video,","html.tp-dark-mode canvas,","html.tp-dark-mode iframe {","  filter: invert(1) hue-rotate(180deg) !important;","}","html.tp-dark-mode .tp-site-hints,","html.tp-dark-mode #tp-toast,","html.tp-dark-mode .tp-addressbar,","html.tp-dark-mode #tp-diagnostics,","html.tp-dark-mode .tp-pointer {","  filter: invert(1) hue-rotate(180deg) !important;","}"].join("\n")):i&&i.parentNode&&i.parentNode.removeChild(i)}}function uut(){return Ect.active}var dut=null,put=null,fut=0;function gut(){(dut=document.getElementById("tp-portal"),put=document.getElementById("tp-grid"),dut&&put)?(bst=Tut,lut(),function(){var t=document.getElementById("tp-header-logo");if(!t)return;t.addEventListener("click",function(){qct()}),t.addEventListener("keydown",function(t){13!==t.keyCode&&32!==t.keyCode||(t.preventDefault(),t.stopPropagation(),qct())})}(),hut(),xut(0)):console.error("TizenPortal: Portal elements not found")}function hut(){if(put){put.innerHTML="";for(var t=jit(),e=0;e<t.length;e++){var r=vut(t[e],e);put.appendChild(r)}var n=function(t){var e=document.createElement("div");e.className="tp-card tp-card-add",e.setAttribute("tabindex","0"),e.setAttribute("data-index",t),e.setAttribute("data-tp-card","single");var r=document.createElement("div");r.className="tp-card-icon",r.textContent="+",e.appendChild(r);var n=document.createElement("div");return n.className="tp-card-name",n.textContent="Add Site",e.appendChild(n),e.addEventListener("click",function(){wut()}),e.addEventListener("keydown",function(t){13===t.keyCode&&(t.preventDefault(),wut())}),e.addEventListener("focus",function(){fut=t}),e}(t.length);put.appendChild(n)}}var mut=500;function vut(t,e){var r=document.createElement("div");r.className="tp-card",r.setAttribute("tabindex","0"),r.setAttribute("data-card-id",t.id),r.setAttribute("data-index",e);var n=document.createElement("div");n.className="tp-card-icon";var o=window.TizenPortal&&window.TizenPortal._portalFaviconUrl?window.TizenPortal._portalFaviconUrl:"",i=t.icon||o;if(i){var a=document.createElement("img");a.src=i,a.alt=t.name,a.style.width="100%",a.style.height="100%",a.style.objectFit="cover",a.style.borderRadius="8px",a.onerror=function(){this.style.display="none",n.textContent=yut(t.name)},n.appendChild(a)}else n.textContent=yut(t.name);r.appendChild(n);var s=document.createElement("div");if(s.className="tp-card-name",s.textContent=t.name||"Untitled",r.appendChild(s),t.featureBundle){var l=gst(t.featureBundle),c=l&&l.manifest,u=c&&c.displayName?c.displayName:t.featureBundle,d=document.createElement("div");d.className="tp-card-subtitle",d.textContent=u,r.appendChild(d)}var p=0,f=null;return r.addEventListener("click",function(){but(t)}),r.addEventListener("keydown",function(e){13!==e.keyCode||e.repeat||(e.preventDefault(),p=Date.now(),f=setTimeout(function(){console.log("TizenPortal: Long press - edit card"),slt(t,Tut),f=null},mut))}),r.addEventListener("keyup",function(e){if(13===e.keyCode){var r=Date.now()-p;f&&(clearTimeout(f),f=null,r<mut&&but(t))}}),r.addEventListener("focus",function(){fut=e}),r}function yut(t){return t?t.charAt(0).toUpperCase():"?"}function but(t){console.log("TizenPortal: Launching card:",t.name,t.url),window.TizenPortal&&window.TizenPortal.loadSite&&window.TizenPortal.loadSite(t)}function wut(){console.log("TizenPortal: Add card dialog"),alt(Tut)}function xut(t){var e=put.querySelectorAll(".tp-card");t>=0&&t<e.length&&(e[t].focus(),fut=t)}function Tut(){hut(),xut(Math.min(fut,jit().length))}function Put(){return{width:window.innerWidth||document.documentElement.clientWidth||1920,height:window.innerHeight||document.documentElement.clientHeight||1080}}var kut=null,Sut=null,Eut=960,Aut=540,Cut=!1,Out={};function Iut(){!function(){if(kut)return;(kut=document.createElement("div")).id="tp-pointer",kut.className="tp-pointer",kut.innerHTML='<div class="tp-pointer-cursor"></div>',document.body.appendChild(kut),document.addEventListener("mousemove",Dut,!0),zut()}(),Pot("pointerMode")&&Rut()}function zut(){kut?(kut.style.left=Eut+"px",kut.style.top=Aut+"px",Lut(Eut,Aut)):console.error("TizenPortal [Pointer]: updatePointerPosition called but pointerElement is null")}function Rut(){if(!Cut){Cut=!0,kot("pointerMode",!0),kut&&kut.classList.add("visible");var t=Put();Eut=t.width/2,Aut=t.height/2,zut(),console.log("TizenPortal: Pointer mode enabled")}}function Mut(){return Cut?Cut&&(Cut=!1,kot("pointerMode",!1),kut&&kut.classList.remove("visible"),Sut&&(Sut.classList.remove("tp-pointer-hover"),Sut=null),Out={},console.log("TizenPortal: Pointer mode disabled")):Rut(),Cut}function Nut(){return!!Cut||!(!kut||!kut.classList.contains("visible"))&&(console.warn("TizenPortal [Pointer]: State mismatch detected, resyncing isActive"),Cut=!0,!0)}function But(t){if(!Cut)return!1;var e=t.keyCode;t.repeat||Out[e]||(Out[e]=Date.now());var r,n=Date.now()-(Out[e]||Date.now()),o=n>600?60:n>300?30:15,i=!1,a=0,s=Put();switch(e){case Rot.LEFT:Eut=Math.max(0,Eut-o),i=!0;break;case Rot.RIGHT:Eut=Math.min(s.width-1,Eut+o),i=!0;break;case Rot.UP:var l=Aut-o;l<0?(a=-100,Aut=0):Aut=l,i=!0;break;case Rot.DOWN:var c=Aut+o;c>=s.height?(a=100,Aut=s.height-1):Aut=c,i=!0;break;case Rot.ENTER:!function(){console.log("TizenPortal: Click at",Eut,Aut),kut&&(kut.classList.add("clicking"),setTimeout(function(){kut&&kut.classList.remove("clicking")},150));var t=document.elementFromPoint(Eut,Aut);t&&function(t,e,r){if(!t)return;if(console.log("TizenPortal: Clicking on",t.tagName,t.className),t.focus)try{t.focus()}catch(t){}var n={bubbles:!0,cancelable:!0,view:t.ownerDocument.defaultView,clientX:e,clientY:r,screenX:e,screenY:r,button:0};try{var o=new MouseEvent("mousedown",n),i=new MouseEvent("mouseup",n),a=new MouseEvent("click",n);t.dispatchEvent(o),t.dispatchEvent(i),t.dispatchEvent(a)}catch(e){try{t.click()}catch(t){console.warn("TizenPortal: Click simulation failed")}}if("INPUT"===t.tagName||"TEXTAREA"===t.tagName)try{t.focus()}catch(t){}else"A"===t.tagName&&t.href&&console.log("TizenPortal: Clicked link:",t.href)}(t,Eut,Aut)}(),i=!0}return i&&(zut(),0!==a&&(r=a,(document.scrollingElement||document.documentElement||document.body).scrollTop+=r),kut&&e!==Rot.ENTER&&kut.classList.add("moving")),i}function Lut(t,e){try{var r=function(t,e){var r=document.elementFromPoint(t,e);return r?function(t){var e=t,r=10;for(;e&&r>0;){if(_ut(e))return e;e=e.parentElement,r--}return null}(r):null}(t,e);if(Sut&&Sut!==r)try{Sut.classList.remove("tp-pointer-hover")}catch(t){}if(r&&r!==Sut)try{r.classList.add("tp-pointer-hover")}catch(t){}Sut=r}catch(t){Sut=null}}function _ut(t){if(!t||!t.tagName)return!1;var e=t.tagName.toUpperCase();if("A"===e||"BUTTON"===e||"INPUT"===e||"SELECT"===e||"TEXTAREA"===e)return!0;if(t.onclick||null!==t.getAttribute("tabindex"))return!0;var r=t.getAttribute("role");if("button"===r||"link"===r||"menuitem"===r||"tab"===r||"option"===r)return!0;try{var n=t.ownerDocument?t.ownerDocument.defaultView:window;if(n){var o=n.getComputedStyle(t);if(o&&"pointer"===o.cursor)return!0}}catch(t){}return!1}function Dut(t){Cut||Lut(t.clientX,t.clientY)}var Fut=new WeakMap,Uut=!1,jut=0,Hut={wrapperClass:"tp-input-wrapper",displayClass:"tp-input-display",activeClass:"editing",hasValueClass:"has-value",defaultPlaceholder:"Enter text...",onActivate:null,onDeactivate:null};function qut(t,e){for(var r=Object.assign({},Hut,e||{}),n=document.querySelectorAll(t),o=0,i=0;i<n.length;i++){var a=n[i];Fut.has(a)||a.classList.contains(_ot)||Vut(a)&&!Gut(a)&&("hidden"===a.type||a.closest('[style*="display: none"]')||(Wut(a,r),o++))}return o>0&&(window.TizenPortal&&window.TizenPortal.log?TizenPortal.log("TextInput: Wrapped "+o+" inputs"):console.log("TizenPortal [TextInput]: Wrapped",o,"inputs")),o}function Vut(t){if(!t||!t.tagName)return!1;var e=t.tagName.toUpperCase();if("TEXTAREA"===e)return!0;if("INPUT"!==e)return!1;var r=(t.getAttribute("type")||"").toLowerCase();return!r||("text"===r||"search"===r||"email"===r||"url"===r||"password"===r||"tel"===r||"number"===r)}function Gut(t){try{if(!t)return!1;var e=t.id||"",r=t.className||"";if(0===e.indexOf("tp-")||-1!==r.indexOf("tp-"))return!0;if(t.closest&&(t.closest("#tp-addressbar")||t.closest("#tp-site-editor")||t.closest("#tp-preferences")||t.closest("#tp-modal-container")))return!0}catch(t){}return!1}function Wut(t,e){var r=null;try{var n=window.getComputedStyle(t);n&&(r={borderRadius:n.borderRadius,backgroundColor:n.backgroundColor,paddingTop:n.paddingTop,paddingRight:n.paddingRight,paddingBottom:n.paddingBottom,paddingLeft:n.paddingLeft})}catch(t){}var o=document.createElement("div");o.className=e.wrapperClass,o.setAttribute("tabindex","0");try{r&&(r.borderRadius&&"0px"!==r.borderRadius&&(o.style.borderRadius=r.borderRadius),r.backgroundColor&&"rgba(0, 0, 0, 0)"!==r.backgroundColor&&"transparent"!==r.backgroundColor&&(o.style.backgroundColor=r.backgroundColor))}catch(t){}var i=document.createElement("span");i.className=e.displayClass;var a=t.getAttribute("placeholder")||e.defaultPlaceholder;i.textContent=t.value||a,t.value&&i.classList.add(e.hasValueClass);try{r&&(r.paddingTop&&(i.style.paddingTop=r.paddingTop),r.paddingRight&&(i.style.paddingRight=r.paddingRight),r.paddingBottom&&(i.style.paddingBottom=r.paddingBottom),r.paddingLeft&&(i.style.paddingLeft=r.paddingLeft))}catch(t){}t.parentNode.insertBefore(o,t),o.appendChild(i),o.appendChild(t),t.classList.add(_ot),t.setAttribute("tabindex","-1"),t.hasAttribute("autofocus")&&t.removeAttribute("autofocus"),t.style.display="none",Fut.set(t,{wrapper:o,display:i,opts:e});try{document.activeElement===t&&(t.blur(),setTimeout(function(){o.focus()},0))}catch(t){}o.addEventListener("keydown",function(e){e.keyCode===Rot.ENTER&&(e.preventDefault(),e.stopPropagation(),Yut(t))}),o.addEventListener("click",function(){Yut(t)}),t.addEventListener("blur",function(){Xut(t)}),t.addEventListener("keydown",function(e){27===e.keyCode||e.keyCode===Rot.BACK||e.keyCode===Rot.IME_CANCEL?(e.preventDefault(),Xut(t),setTimeout(function(){try{o.focus()}catch(t){}},Dot)):e.keyCode===Rot.ENTER&&setTimeout(function(){Xut(t)},Dot)}),t.addEventListener("input",function(){i.textContent=t.value||a,t.value?i.classList.add(e.hasValueClass):i.classList.remove(e.hasValueClass)})}function Yut(t){var e=Fut.get(t);if(e){var r=e.wrapper,n=e.display,o=e.opts;r.classList.add(o.activeClass),n.style.display="none",t.style.display="block",t.setAttribute("tabindex","0");try{t.focus(),t.select()}catch(t){console.warn("TizenPortal [TextInput]: Focus error:",t.message)}$ut(!0);try{window.TizenPortal&&window.TizenPortal.input&&window.TizenPortal.input.setExitKeyCapture&&window.TizenPortal.input.setExitKeyCapture(!0)}catch(t){}"function"==typeof o.onActivate&&o.onActivate(t),console.log("TizenPortal [TextInput]: Input activated")}}function Xut(t){var e=Fut.get(t);if(e){var r=e.wrapper,n=e.display,o=e.opts;if(r.classList.contains(o.activeClass)){try{document.activeElement===t&&(t.blur(),r.focus())}catch(t){console.warn("TizenPortal [TextInput]: Blur/focus error:",t.message)}r.classList.remove(o.activeClass);var i=t.getAttribute("placeholder")||o.defaultPlaceholder;n.textContent=t.value||i,n.style.display="block",t.style.display="none",t.setAttribute("tabindex","-1"),t.value?n.classList.add(o.hasValueClass):n.classList.remove(o.hasValueClass),"function"==typeof o.onDeactivate&&o.onDeactivate(t),$ut(!1);try{window.TizenPortal&&window.TizenPortal.input&&window.TizenPortal.input.setExitKeyCapture&&window.TizenPortal.input.setExitKeyCapture(!1)}catch(t){}console.log("TizenPortal [TextInput]: Input deactivated")}}}function Kut(t){var e=Fut.get(t);if(e){var r=e.wrapper;r.parentNode.insertBefore(t,r),r.parentNode.removeChild(r),t.classList.remove(_ot),t.removeAttribute("tabindex"),t.style.display="",Fut.delete(t),$ut(!1);try{window.TizenPortal&&window.TizenPortal.input&&window.TizenPortal.input.setExitKeyCapture&&window.TizenPortal.input.setExitKeyCapture(!1)}catch(t){}console.log("TizenPortal [TextInput]: Input unwrapped")}}function Jut(){return Uut}function $ut(t){(Uut=!!t)||(jut=Date.now())}function Zut(t){for(var e=document.querySelectorAll(t),r=0;r<e.length;r++)Kut(e[r])}var Qut={},tdt=0;function edt(){var t=Date.now();if(Jut())return!0;if(tdt&&t-tdt<2e3)return!0;var e=jut||0;return!!(e&&t-e<2e3)}function rdt(t){if(!t||"function"!=typeof t.focus)return!1;if(t.disabled)return!1;if(t.getAttribute&&"-1"===t.getAttribute("tabindex"))return!1;var e=null;try{e=window.getComputedStyle?window.getComputedStyle(t):null}catch(t){e=null}if(e&&("none"===e.display||"hidden"===e.visibility))return!1;if(!t.getBoundingClientRect)return!1;var r=t.getBoundingClientRect();if(!r||r.width<=0||r.height<=0)return!1;var n=window.innerWidth||document.documentElement.clientWidth||1920,o=window.innerHeight||document.documentElement.clientHeight||1080;return r.bottom>0&&r.top<o&&r.right>0&&r.left<n}function ndt(t){if("down"!==t&&"up"!==t)return!1;var e=document.activeElement,r=e&&e.getBoundingClientRect?e.getBoundingClientRect():null,n=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,o=window.innerHeight||document.documentElement.clientHeight||1080,i=Math.max(120,Math.floor(.22*o)),a="down"===t?i:-i;if(window.scrollBy(0,a),(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0)===n)return!1;var s=function(){for(var t=document.querySelectorAll('a[href], button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])'),e=[],r=0;r<t.length;r++)rdt(t[r])&&e.push(t[r]);return e}(),l=function(t,e,r){if(!e||!e.length)return null;var n=null,o="down"===t?-1/0:1/0,i=!!r;function a(e){return"down"===t?e.bottom:e.top}function s(e){return!r||("down"===t?e.top>=r.top+2:e.bottom<=r.bottom-2)}for(var l=0;l<2;l++){for(var c=0;c<e.length;c++){var u=e[c],d=u.getBoundingClientRect();if(d&&(!i||0!==l||s(d))){var p=a(d);(!n||"down"===t&&p>o||"up"===t&&p<o)&&(n=u,o=p)}}if(n)return n}return null}(t,s,r);if(l)try{return l.focus(),!0}catch(t){}return!0}var odt=[],idt=null;function adt(){document.addEventListener("keydown",sdt,!0),document.addEventListener("keyup",ldt,!0),console.log("TizenPortal: Input handler initialized")}function sdt(t){var e=t.keyCode;t.repeat||(Qut[e]=Date.now());var r=e===Rot.LEFT||e===Rot.RIGHT||e===Rot.UP||e===Rot.DOWN;if(r&&iit())return t.preventDefault(),t.stopPropagation(),void(e===Rot.UP?uit(-100):e===Rot.DOWN?uit(100):e===Rot.LEFT?dit(-1):e===Rot.RIGHT&&dit(1));var n=function(t){for(var e in Rot)if(Rot.hasOwnProperty(e)&&Rot[e]===t)return e;return null}(e);if(n&&console.log("TizenPortal: Key down - "+n+" ("+e+")"),e===Rot.BACK){if(iit())return t.preventDefault(),t.stopPropagation(),void oit();if(!(l=window.TizenPortal&&window.TizenPortal.isPortalPage)){if(t.preventDefault(),t.stopPropagation(),idt&&!0===idt(t))return;try{history.back()}catch(t){console.warn("TizenPortal: Back navigation failed:",t.message)}return}}if(e===Rot.IME_DONE||e===Rot.IME_CANCEL){if((u=document.activeElement)&&("INPUT"===u.tagName||"TEXTAREA"===u.tagName))if(u.classList.contains(_ot))Xut(u);else try{u.blur(),document.body.hasAttribute("tabindex")||document.body.setAttribute("tabindex","-1"),document.body.focus()}catch(t){}return $ut(!1),void(tdt=Date.now())}if(e===Rot.EXIT){if(edt())return t.preventDefault(),t.stopPropagation(),$ut(!1),void console.log("TizenPortal: EXIT suppressed (IME cancel/done)");var o=(u=document.activeElement)&&("INPUT"===u.tagName||"TEXTAREA"===u.tagName||u.isContentEditable),i=nct(),a=iit()||Eit();return o||i||a?(t.preventDefault(),t.stopPropagation(),console.log("TizenPortal: EXIT suppressed (input/modal active)"),i&&clt(),iit()&&oit(),void(Eit()&&Sit())):void 0}if(!Jut()||Fot(e)){for(var s=0;s<odt.length;s++)try{if(!0===odt[s](t))return t.preventDefault(),void t.stopPropagation()}catch(t){console.error("TizenPortal: Custom key handler error:",t)}if(Nut()&&!nct()&&But(t))return t.preventDefault(),void t.stopPropagation();if(Fot(e))return t.preventDefault(),void t.stopPropagation();var l=window.TizenPortal&&window.TizenPortal.isPortalPage;if(e!==Rot.ENTER||l){if(27===e&&yat&&(wat(),1))return t.preventDefault(),t.stopPropagation(),void console.log("TizenPortal: Card interaction - Back handled");if(r&&"directional"===function(){try{if(!window.SpatialNavigation||"function"!=typeof window.SpatialNavigation.getConfig)return null;var t=window.SpatialNavigation.getConfig();return t&&t.mode?t.mode:null}catch(t){return null}}()){var c=null;if(e===Rot.LEFT?c="left":e===Rot.RIGHT?c="right":e===Rot.UP?c="up":e===Rot.DOWN&&(c="down"),c&&function(t){if(!window.SpatialNavigation||"function"!=typeof window.SpatialNavigation.navigate)return!1;try{if(window.SpatialNavigation.navigate(t))return!0}catch(t){console.warn("TizenPortal [Navigation]: Directional navigate error:",t.message)}return ndt(t)}(c))return t.preventDefault(),void t.stopPropagation()}}else{var u,d=function(t){for(;t&&t!==document.body;){if(Pat(t))return t;t=t.parentElement}return null}(u=document.activeElement);if(d&&!xat()&&Tat(d))return t.preventDefault(),t.stopPropagation(),void console.log("TizenPortal: Card interaction - OK handled");if(u&&u!==document.body){var p=u.tagName.toUpperCase();if("INPUT"===p||"SELECT"===p)return;try{!function(t){if(t){var e=t.getBoundingClientRect(),r=e.left+e.width/2,n=e.top+e.height/2,o={bubbles:!0,cancelable:!0,view:window,clientX:r,clientY:n,screenX:r,screenY:n,button:0,buttons:1};t.dispatchEvent(new MouseEvent("mousedown",o)),t.dispatchEvent(new MouseEvent("mouseup",o)),t.dispatchEvent(new MouseEvent("click",o))}}(u),t.preventDefault(),t.stopPropagation(),console.log("TizenPortal: Simulated click on",p)}catch(t){console.warn("TizenPortal: Click simulation failed:",t.message);try{u.click()}catch(t){}}}}}}function ldt(t){var e=t.keyCode,r=Qut[e]||Date.now(),n=Date.now()-r>=500;return delete Qut[e],e===Rot.EXIT&&edt()?(t.preventDefault(),t.stopPropagation(),$ut(!1),void console.log("TizenPortal: EXIT suppressed on keyup (IME cancel/done)")):Nut()&&function(t){if(!Cut)return!1;var e=t.keyCode;return delete Out[e],kut&&kut.classList.remove("moving"),e===Rot.LEFT||e===Rot.RIGHT||e===Rot.UP||e===Rot.DOWN||e===Rot.ENTER}(t)?(t.preventDefault(),void t.stopPropagation()):Fot(e)?(t.preventDefault(),t.stopPropagation(),void function(t,e){var r=window.TizenPortal&&window.TizenPortal.isPortalPage;if(t===Rot.YELLOW&&iit())return void ait();var n=null;switch(t){case Rot.RED:n=e?Mot.long:Mot.short;break;case Rot.GREEN:n=e&&r?"editFocusedCard":e?Not.long:Not.short;break;case Rot.YELLOW:n=e?Bot.long:Bot.short;break;case Rot.BLUE:n=e?Lot.long:Lot.short}n&&(console.log("TizenPortal: Color button action - "+n),cdt(n))}(e,n)):void 0}function cdt(t){var e=window.TizenPortal&&window.TizenPortal.isPortalPage;switch(t){case"addressbar":if(!e){window.TizenPortal&&window.TizenPortal.toggleSiteAddressBar&&window.TizenPortal.toggleSiteAddressBar();break}Sit();break;case"reload":window.TizenPortal&&window.TizenPortal.showToast("Reloading..."),window.location.reload();break;case"pointerMode":var r=Mut();window.TizenPortal&&window.TizenPortal.showToast("Mouse mode: "+(r?"ON":"OFF"));break;case"focusHighlight":if(window.TizenPortal&&window.TizenPortal.config){var n=window.TizenPortal.config.get("tp_features")||{},o=n.focusStyling;void 0===o&&(o=!0),n.focusStyling=!o,window.TizenPortal.config.set("tp_features",n),window.TizenPortal._featureLoader&&"function"==typeof window.TizenPortal._featureLoader.applyFeatures&&window.TizenPortal._featureLoader.applyFeatures(document),window.TizenPortal.showToast("Focus highlight: "+(o?"OFF":"ON"))}break;case"editFocusedCard":if(!e)break;if(nct()||uut())break;var i=function(){var t=jit();if(!t||!t.length)return null;function e(e){if(!e)return null;for(var r=0;r<t.length;r++)if(t[r].id===e)return t[r];return null}var r=document.activeElement;if(r){var n=r;if(n.classList&&n.classList.contains("tp-card")||(n=r.closest?r.closest(".tp-card"):null),n&&n.classList&&!n.classList.contains("tp-card-add")){var o=e(n.getAttribute("data-card-id"));if(o)return o}}if(put){var i=put.querySelector(".tp-card[data-card-id]:focus");if(i){var a=e(i.getAttribute("data-card-id"));if(a)return a}}return fut>=0&&fut<t.length?t[fut]:null}();if(!i){window.TizenPortal&&window.TizenPortal.showToast("Focus a site card to edit");break}slt(i,function(){window.TizenPortal&&window.TizenPortal._refreshPortal&&window.TizenPortal._refreshPortal()});break;case"preferences":if(!e){window.TizenPortal&&window.TizenPortal.returnToPortal&&window.TizenPortal.returnToPortal();break}if(nct()||uut())break;qct();break;case"addSite":if(!e){window.TizenPortal&&window.TizenPortal.addCurrentSiteAndReturn&&window.TizenPortal.addCurrentSiteAndReturn();break}if(nct()||uut())break;alt(function(){window.TizenPortal&&window.TizenPortal._refreshPortal&&window.TizenPortal._refreshPortal()});break;case"cycleBundle":break;case"diagnostics":e?oit():window.TizenPortal&&window.TizenPortal.toggleSiteDiagnostics&&window.TizenPortal.toggleSiteDiagnostics();break;case"safeMode":kot("safeMode",!0),window.TizenPortal&&window.TizenPortal.showToast("Entering safe mode..."),setTimeout(function(){window.TizenPortal&&!window.TizenPortal.isPortalPage?window.TizenPortal.returnToPortal():window.location.reload()},500);break;default:console.warn("TizenPortal: Unknown color action:",t)}}var udt=null,ddt=null;function pdt(t,e){udt=t,ddt=e}function fdt(){return gdt.apply(this,arguments)}function gdt(){return(gdt=r(o().m(function t(){var e;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:if(udt){t.n=1;break}return t.a(2);case 1:if(console.log('TizenPortal Loader: Unloading bundle "'+(udt.name||"unknown")+'"'),t.p=2,"function"!=typeof udt.onDeactivate){t.n=3;break}return console.log("TizenPortal Loader: Calling onDeactivate"),t.n=3,udt.onDeactivate(window,ddt);case 3:t.n=5;break;case 4:t.p=4,e=t.v,console.error("TizenPortal Loader: Error in onDeactivate:",e.message);case 5:try{Nst.clearUserscripts()}catch(t){console.warn("TizenPortal Loader: Failed to clear userscripts:",t.message)}udt=null,ddt=null;case 6:return t.a(2)}},t,null,[[2,4]])}))).apply(this,arguments)}for(var hdt={ACCESSIBILITY:"accessibility",READING:"reading",VIDEO:"video",NAVIGATION:"navigation",PRIVACY:"privacy",EXPERIMENTAL:"experimental"},mdt=[{id:"subtitle-enhancer",name:"Subtitle Size Enhancer",category:hdt.ACCESSIBILITY,description:"Increases subtitle/caption size for TV viewing",defaultEnabled:!1,source:"inline",provides:["subtitle-enhancement"],inline:"(function(){var s=document.createElement('style');s.id='tp-subtitle-enhance';s.textContent='.ytp-caption-segment,.caption-window,.captions-text,::cue,video::cue{font-size:200%!important;line-height:1.4!important;background-color:rgba(0,0,0,0.85)!important;padding:8px 12px!important;border-radius:4px!important;text-shadow:2px 2px 4px rgba(0,0,0,0.9)!important}.caption-window{bottom:10%!important}';document.head.appendChild(s);var observer=new MutationObserver(function(){var captions=document.querySelectorAll('.ytp-caption-segment,.caption-window,.captions-text');for(var i=0;i<captions.length;i++){captions[i].style.fontSize='200%';captions[i].style.lineHeight='1.4';}});observer.observe(document.body,{childList:true,subtree:true,attributes:true,attributeFilter:['style']});userscript.cleanup=function(){var el=document.getElementById('tp-subtitle-enhance');if(el)el.remove();if(observer)observer.disconnect();}})();"},{id:"keyboard-help",name:"Keyboard Shortcuts Overlay",category:hdt.ACCESSIBILITY,description:"Display available TV remote shortcuts (Press Info or ?)",defaultEnabled:!1,source:"inline",provides:["keyboard-help"],inline:"(function(){var overlay=null;var visible=false;function createOverlay(){var div=document.createElement('div');div.id='tp-kbd-help';div.style.cssText='position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,0.95);color:#e8e6e3;padding:30px;border-radius:8px;z-index:999998;display:none;max-width:600px;font-family:sans-serif;box-shadow:0 4px 20px rgba(0,0,0,0.5);';div.innerHTML='<h2 style=\"margin:0 0 20px 0;color:#8ab4f8;font-size:24px;\">TV Remote Shortcuts</h2><div style=\"line-height:2;\"><strong style=\"color:#c58af9;\">Navigation:</strong><br>â â â â : Move focus<br>Enter : Select<br>Back : Go back<br><br><strong style=\"color:#c58af9;\">Color Buttons:</strong><br>Red : Address bar<br>Green : Mouse mode<br>Yellow : Return to portal<br>Blue : Diagnostics<br><br><strong style=\"color:#c58af9;\">Media:</strong><br>Play/Pause : Toggle playback<br>Stop : Stop media<br>FF/Rewind : Seek<br><br><strong style=\"color:#c58af9;\">This Overlay:</strong><br>Info / ? : Toggle help</div>';document.body.appendChild(div);return div;}function toggleOverlay(){if(!overlay)overlay=createOverlay();visible=!visible;overlay.style.display=visible?'block':'none';}var keyHandler=function(e){if(e.keyCode===457||e.keyCode===63||e.keyCode===191){toggleOverlay();e.preventDefault();e.stopPropagation();}else if(visible&&(e.keyCode===10009||e.keyCode===13)){toggleOverlay();e.preventDefault();e.stopPropagation();}};document.addEventListener('keydown',keyHandler,true);userscript.cleanup=function(){document.removeEventListener('keydown',keyHandler,true);if(overlay)overlay.remove();}})();"},{id:"dark-reading-mode",name:"Dark Reading Mode",category:hdt.READING,description:"Optimized dark-themed reading experience for TV viewing",defaultEnabled:!1,source:"inline",provides:["dark-mode","reading-mode","clutter-removal"],inline:'(function(){var s=document.createElement(\'style\');s.id=\'tp-dark-reader\';s.textContent=\'aside,nav:not([role="navigation"]):not(.ytp-chrome-bottom),.sidebar,[class*="sidebar"],[id*="sidebar"],.ad,[class*="advertisement"],[id*="advertisement"],[class*="social-share"],[id*="social"]:not(article):not(main),.comments,[id*="comment"]:not(article):not(main),.related,[class*="related"]:not(main){display:none!important}body{background-color:#1a1a1a!important;color:#e8e6e3!important;padding:40px 20px!important}article,main,[role="main"]{max-width:900px!important;margin:0 auto!important;padding:30px!important;background-color:#242424!important;border-radius:8px!important;box-shadow:0 2px 8px rgba(0,0,0,0.3)!important}article *,main *,[role="main"] *{background-color:transparent!important}p,li,td,th,div{color:#e8e6e3!important;line-height:1.9!important;font-size:22px!important}h1,h2,h3,h4,h5,h6{color:#f0f0f0!important;margin-top:1.5em!important;margin-bottom:0.8em!important;line-height:1.4!important}a{color:#8ab4f8!important;text-decoration:underline!important}a:visited{color:#c58af9!important}img,video{opacity:0.95!important;border-radius:4px!important}code,pre{background-color:#2d2d2d!important;color:#a8dadc!important;padding:2px 6px!important;border-radius:3px!important}blockquote{border-left:4px solid #8ab4f8!important;padding-left:20px!important;margin-left:0!important;color:#d0d0d0!important}\';document.head.appendChild(s);userscript.cleanup=function(){var el=document.getElementById(\'tp-dark-reader\');if(el)el.remove();}})();'},{id:"light-reading-mode",name:"Light Reading Mode",category:hdt.READING,description:"Optimized light-themed reading experience for TV viewing",defaultEnabled:!1,source:"inline",provides:["light-mode","reading-mode","clutter-removal"],inline:'(function(){var s=document.createElement(\'style\');s.id=\'tp-light-reader\';s.textContent=\'aside,nav:not([role="navigation"]):not(.ytp-chrome-bottom),.sidebar,[class*="sidebar"],[id*="sidebar"],.ad,[class*="advertisement"],[id*="advertisement"],[class*="social-share"],[id*="social"]:not(article):not(main),.comments,[id*="comment"]:not(article):not(main),.related,[class*="related"]:not(main){display:none!important}body{background-color:#faf8f5!important;color:#2c2c2c!important;padding:40px 20px!important}article,main,[role="main"]{max-width:900px!important;margin:0 auto!important;padding:30px!important;background-color:#ffffff!important;border-radius:8px!important;box-shadow:0 2px 12px rgba(0,0,0,0.08)!important}article *,main *,[role="main"] *{background-color:transparent!important}p,li,td,th,div{color:#2c2c2c!important;line-height:1.9!important;font-size:22px!important}h1,h2,h3,h4,h5,h6{color:#1a1a1a!important;margin-top:1.5em!important;margin-bottom:0.8em!important;line-height:1.4!important}a{color:#0066cc!important;text-decoration:underline!important}a:visited{color:#551a8b!important}img,video{border-radius:4px!important}code,pre{background-color:#f5f5f5!important;color:#d63384!important;padding:2px 6px!important;border-radius:3px!important;border:1px solid #e0e0e0!important}blockquote{border-left:4px solid #0066cc!important;padding-left:20px!important;margin-left:0!important;color:#555!important;font-style:italic!important}\';document.head.appendChild(s);userscript.cleanup=function(){var el=document.getElementById(\'tp-light-reader\');if(el)el.remove();}})();'},{id:"smart-dark-mode",name:"Smart Dark Mode",category:hdt.READING,description:"Intelligent dark theme without image distortion",defaultEnabled:!1,source:"inline",provides:["dark-mode"],inline:"(function(){var s=document.createElement('style');s.id='tp-smart-dark';s.textContent='html{background-color:#181818!important;color:#e8e6e3!important}body{background-color:#181818!important;color:#e8e6e3!important}:root div,:root section,:root article,:root main,:root aside,:root nav,:root header,:root footer,:root p,:root span,:root li,:root ul,:root ol,:root td,:root th,:root h1,:root h2,:root h3,:root h4,:root h5,:root h6,:root form,:root fieldset{background-color:transparent!important;color:#e8e6e3!important}:root a{color:#8ab4f8!important}:root a:visited{color:#c58af9!important}:root input,:root textarea,:root select,:root button,:root input[type=submit],:root input[type=button],:root input[type=reset]{background-color:#303134!important;color:#e8e6e3!important;border:1px solid #5f6368!important}:root input::placeholder,:root textarea::placeholder{color:#9aa0a6!important}img,video,canvas,iframe{opacity:0.9!important}:root [role=listbox],:root [role=option],:root [role=combobox],:root [role=menu],:root [role=menuitem],:root [aria-autocomplete],:root [aria-haspopup=listbox]{background-color:#303134!important;color:#e8e6e3!important;border-color:#5f6368!important}:root *[style*=\"background\"]:not(img):not(video):not(canvas){background-color:#202124!important}:root *[style*=\"color\"]{color:#e8e6e3!important}';document.head.appendChild(s);userscript.cleanup=function(){var el=document.getElementById('tp-smart-dark');if(el)el.remove();}})();"},{id:"page-simplifier",name:"Page Simplifier",category:hdt.READING,description:"Remove clutter for focused reading",defaultEnabled:!1,source:"inline",provides:["clutter-removal"],inline:'(function(){var s=document.createElement(\'style\');s.id=\'tp-simplify\';s.textContent=\'aside,nav:not([role="navigation"]):not(.ytp-chrome-bottom),.sidebar,[class*="sidebar"],[id*="sidebar"],.ad,[class*="advertisement"],[id*="advertisement"],[class*="social-share"],[id*="social"]:not(article):not(main),.comments,[id*="comment"]:not(article):not(main),.related,[class*="related"]:not(main){display:none!important}article,main,[role="main"]{max-width:1400px!important;margin:0 auto!important;padding:20px!important}body{background:#181818!important}\';document.head.appendChild(s);userscript.cleanup=function(){var el=document.getElementById(\'tp-simplify\');if(el)el.remove();}})();'},{id:"grayscale-mode",name:"Grayscale Mode",category:hdt.READING,description:"Convert page to grayscale for focus or accessibility",defaultEnabled:!1,source:"inline",provides:["grayscale"],inline:"(function(){var s=document.createElement('style');s.id='tp-grayscale';s.textContent='html{-webkit-filter:grayscale(100%)!important;filter:grayscale(100%)!important}';document.head.appendChild(s);userscript.cleanup=function(){var el=document.getElementById('tp-grayscale');if(el)el.remove();}})();"},{id:"video-speed-controller",name:"Video Speed Controller",category:hdt.VIDEO,description:"Fine-tune video playback speed (Shift+Up/Down)",defaultEnabled:!1,source:"inline",provides:["video-speed-control"],inline:"(function(){var log=function(msg){if(window.TizenPortal&&TizenPortal.log)TizenPortal.log(msg);};var currentSpeed=1.0;var speeds=[0.25,0.5,0.75,1.0,1.25,1.5,1.75,2.0];var speedIndex=3;function setSpeed(speed){var vids=document.querySelectorAll('video');for(var i=0;i<vids.length;i++){vids[i].playbackRate=speed;}currentSpeed=speed;log('Video speed: '+speed+'x');}var keyHandler=function(e){if(e.shiftKey&&e.keyCode===38){speedIndex=Math.min(speeds.length-1,speedIndex+1);setSpeed(speeds[speedIndex]);e.preventDefault();}else if(e.shiftKey&&e.keyCode===40){speedIndex=Math.max(0,speedIndex-1);setSpeed(speeds[speedIndex]);e.preventDefault();}else if(e.shiftKey&&(e.keyCode===37||e.keyCode===39)){speedIndex=3;setSpeed(1.0);e.preventDefault();}};document.addEventListener('keydown',keyHandler);var observer=new MutationObserver(function(){var vids=document.querySelectorAll('video');for(var i=0;i<vids.length;i++){if(Math.abs(vids[i].playbackRate-currentSpeed)>0.01){vids[i].playbackRate=currentSpeed;}}});observer.observe(document.body,{childList:true,subtree:true});log('Video speed control active (Shift+Up/Down: adjust, Shift+Left/Right: reset)');userscript.cleanup=function(){document.removeEventListener('keydown',keyHandler);if(observer)observer.disconnect();}})();"},{id:"video-autopause",name:"Video Auto-Pause on Blur",category:hdt.VIDEO,description:"Pause videos when app loses focus",defaultEnabled:!1,source:"inline",provides:["video-auto-pause"],inline:"(function(){var log=function(msg){if(window.TizenPortal&&TizenPortal.log)TizenPortal.log(msg);};var pausedByScript=[];function pauseAll(){var vids=document.querySelectorAll('video');for(var i=0;i<vids.length;i++){if(!vids[i].paused){vids[i].pause();if(!pausedByScript.includes(vids[i])){pausedByScript.push(vids[i]);log('Paused video (visibility lost)');}}}}function resumeAll(){for(var i=0;i<pausedByScript.length;i++){try{pausedByScript[i].play();log('Resumed video (visibility restored)');}catch(e){}}pausedByScript=[];}var blurHandler=function(){pauseAll();};var focusHandler=function(){resumeAll();};var visibilityHandler=function(){if(document.hidden){pauseAll();}else{resumeAll();}};window.addEventListener('blur',blurHandler);window.addEventListener('focus',focusHandler);document.addEventListener('visibilitychange',visibilityHandler);userscript.cleanup=function(){window.removeEventListener('blur',blurHandler);window.removeEventListener('focus',focusHandler);document.removeEventListener('visibilitychange',visibilityHandler);}})();"},{id:"autoplay-blocker",name:"Auto-Play Video Blocker",category:hdt.VIDEO,description:"Prevents videos from auto-playing",defaultEnabled:!1,source:"inline",provides:["autoplay-blocking"],inline:"(function(){var pausedVideos=[];var log=function(msg){if(window.TizenPortal&&TizenPortal.log)TizenPortal.log(msg);};function pauseVideo(vid){if(!vid.paused&&!pausedVideos.includes(vid)){vid.pause();pausedVideos.push(vid);log('Auto-paused video');}}function checkVideos(){var vids=document.querySelectorAll('video');for(var i=0;i<vids.length;i++){if(!vids[i].paused&&vids[i].currentTime>0){pauseVideo(vids[i]);}}}var observer=new MutationObserver(checkVideos);observer.observe(document.body,{childList:true,subtree:true});checkVideos();var interval=setInterval(checkVideos,1000);userscript.cleanup=function(){if(observer)observer.disconnect();if(interval)clearInterval(interval);}})();"},{id:"youtube-tv",name:"YouTube TV Enhancements",category:hdt.VIDEO,description:"Improves YouTube experience on TV (Note: Browser warnings automatically hidden)",defaultEnabled:!1,source:"inline",provides:["youtube-enhancement"],inline:"(function(){if(!window.location.host.includes('youtube.com'))return;var log=function(msg){if(window.TizenPortal&&TizenPortal.log)TizenPortal.log(msg);};var s=document.createElement('style');s.id='tp-yt-tv';s.textContent='.ytp-chrome-top,.ytp-chrome-bottom,.ytp-gradient-top,.ytp-gradient-bottom{display:block!important;opacity:1!important}.html5-video-player:not(.ytp-fullscreen) .ytp-chrome-bottom{height:auto!important;padding:10px!important}.ytp-play-button,.ytp-time-display,.ytp-volume-panel{font-size:140%!important;min-width:50px!important;min-height:50px!important}video{max-height:90vh!important}';document.head.appendChild(s);var hideWarning=function(){var warnings=document.querySelectorAll('[class*=\"unsupported\"],[id*=\"unsupported\"],[class*=\"browser-update\"],[id*=\"browser-update\"]');for(var i=0;i<warnings.length;i++){if(warnings[i].textContent&&warnings[i].textContent.toLowerCase().indexOf('update')!==-1){warnings[i].style.display='none';log('Hid browser warning');}}};var observer=new MutationObserver(hideWarning);observer.observe(document.body,{childList:true,subtree:true});hideWarning();var checkInterval=setInterval(function(){var vid=document.querySelector('video');if(vid){vid.playbackRate=1.0;clearInterval(checkInterval);}},1000);userscript.cleanup=function(){var el=document.getElementById('tp-yt-tv');if(el)el.remove();if(checkInterval)clearInterval(checkInterval);if(observer)observer.disconnect();}})();"},{id:"autoscroll",name:"Smart Auto-Scroll",category:hdt.NAVIGATION,description:"Intelligent auto-scrolling with speed control (Up/Down: speed, Enter: pause)",defaultEnabled:!1,source:"inline",provides:["auto-scroll"],inline:"(function(){var speed=1;var interval=null;var scrolling=true;var log=function(msg){if(window.TizenPortal&&TizenPortal.log)TizenPortal.log(msg);};function startScroll(){if(interval)clearInterval(interval);interval=setInterval(function(){if(scrolling)window.scrollBy(0,speed);},30);}function stopScroll(){if(interval){clearInterval(interval);interval=null;}}function toggleScroll(){scrolling=!scrolling;log('Auto-scroll '+(scrolling?'resumed':'paused'));}var keyHandler=function(e){if(e.keyCode===38){speed=Math.max(0.5,speed-0.5);log('Scroll speed: '+speed+'px');e.preventDefault();}else if(e.keyCode===40){speed=Math.min(5,speed+0.5);log('Scroll speed: '+speed+'px');e.preventDefault();}else if(e.keyCode===19||e.keyCode===415||e.keyCode===13){toggleScroll();e.preventDefault();}else if(e.keyCode===413||e.keyCode===10009){stopScroll();document.removeEventListener('keydown',keyHandler);log('Auto-scroll stopped');e.preventDefault();}};document.addEventListener('keydown',keyHandler);startScroll();log('Auto-scroll started (Up/Down: speed, Enter/Pause: toggle, Stop/Back: exit)');userscript.cleanup=function(){stopScroll();document.removeEventListener('keydown',keyHandler);}})();"},{id:"focus-escape",name:"Focus Trap Escape",category:hdt.NAVIGATION,description:"Break out of stuck focus loops (ESC to escape)",defaultEnabled:!1,source:"inline",provides:["focus-escape"],inline:"(function(){var log=function(msg){if(window.TizenPortal&&TizenPortal.log)TizenPortal.log(msg);};var escapeAttempts=0;var lastFocused=null;var keyHandler=function(e){if(e.keyCode===27||e.keyCode===10182){var current=document.activeElement;if(current&&current!==document.body){current.blur();document.body.focus();log('Focus trap escaped - blur current element');e.preventDefault();}}else if(e.keyCode===37||e.keyCode===38||e.keyCode===39||e.keyCode===40){var current=document.activeElement;if(current===lastFocused){escapeAttempts++;if(escapeAttempts>5){var focusable=document.querySelectorAll('a[href],button:not([disabled]),input:not([disabled]),[tabindex]:not([tabindex=\"-1\"])');if(focusable.length>0){var randomIdx=Math.floor(Math.random()*Math.min(focusable.length,10));focusable[randomIdx].focus();log('Broke focus loop - jumped to random element');escapeAttempts=0;e.preventDefault();}}}else{escapeAttempts=0;}lastFocused=current;}};document.addEventListener('keydown',keyHandler,true);userscript.cleanup=function(){document.removeEventListener('keydown',keyHandler,true);}})();"},{id:"remove-sticky",name:"Remove Sticky Headers",category:hdt.NAVIGATION,description:"Removes fixed/sticky headers that block content",defaultEnabled:!1,source:"inline",provides:["sticky-removal"],inline:'(function(){var s=document.createElement(\'style\');s.id=\'tp-no-sticky\';s.textContent=\'*[style*="position: fixed"],*[style*="position:fixed"]{position:static!important}header[style*="position"],nav[style*="position"]{position:static!important}.fixed,.sticky,[class*="fixed"],[class*="sticky"]{position:static!important}\';document.head.appendChild(s);userscript.cleanup=function(){var el=document.getElementById(\'tp-no-sticky\');if(el)el.remove();}})();'},{id:"image-zoom",name:"Image Focus Zoom",category:hdt.NAVIGATION,description:"Click any image to view it fullscreen",defaultEnabled:!1,source:"inline",provides:["image-zoom"],inline:"(function(){var zoomedImg=null;var overlay=null;function createOverlay(){overlay=document.createElement('div');overlay.id='tp-zoom-overlay';overlay.style.cssText='position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.9);z-index:999999;display:none;align-items:center;justify-content:center;';var img=document.createElement('img');img.id='tp-zoom-img';img.style.cssText='max-width:95%;max-height:95%;object-fit:contain;';overlay.appendChild(img);document.body.appendChild(overlay);return overlay;}function showZoom(src){if(!overlay)overlay=createOverlay();var img=document.getElementById('tp-zoom-img');img.src=src;overlay.style.display='flex';zoomedImg=img;}function hideZoom(){if(overlay)overlay.style.display='none';zoomedImg=null;}var keyHandler=function(e){if(zoomedImg&&(e.keyCode===10009||e.keyCode===13)){hideZoom();e.preventDefault();e.stopPropagation();}};var clickHandler=function(e){var target=e.target;if(target.tagName==='IMG'&&target.src&&!target.closest('#tp-zoom-overlay')){showZoom(target.src);e.preventDefault();}};document.addEventListener('keydown',keyHandler,true);document.addEventListener('click',clickHandler,true);userscript.cleanup=function(){document.removeEventListener('keydown',keyHandler,true);document.removeEventListener('click',clickHandler,true);if(overlay)overlay.remove();}})();"},{id:"link-target-control",name:"Link Target Controller",category:hdt.NAVIGATION,description:"Prevent links from opening in new tabs/windows",defaultEnabled:!1,source:"inline",provides:["link-target-control"],inline:"(function(){var log=function(msg){if(window.TizenPortal&&TizenPortal.log)TizenPortal.log(msg);};var processed=0;function processLinks(){var links=document.querySelectorAll('a[target=\"_blank\"],a[target=\"_new\"]');for(var i=0;i<links.length;i++){links[i].removeAttribute('target');processed++;}if(processed>0){log('Removed target from '+processed+' links');processed=0;}}var observer=new MutationObserver(function(){setTimeout(processLinks,100);});observer.observe(document.body,{childList:true,subtree:true});processLinks();userscript.cleanup=function(){if(observer)observer.disconnect();}})();"},{id:"cookie-consent",name:"Cookie Consent Auto-Closer",category:hdt.PRIVACY,description:"Automatically dismiss cookie consent banners",defaultEnabled:!1,source:"inline",provides:["cookie-consent-dismissal"],inline:"(function(){var log=function(msg){if(window.TizenPortal&&TizenPortal.log)TizenPortal.log(msg);};var dismissed=[];var cookieSelectors=['.cookie-banner','#cookie-banner','[class*=\"cookie-consent\"]','[id*=\"cookie-consent\"]','[class*=\"gdpr\"]','[id*=\"gdpr\"]','[class*=\"cookie-notice\"]','[id*=\"cookie-notice\"]','[aria-label*=\"cookie\" i]','[aria-label*=\"consent\" i]'];function dismissBanner(){var found=false;for(var i=0;i<cookieSelectors.length;i++){try{var banners=document.querySelectorAll(cookieSelectors[i]);for(var j=0;j<banners.length;j++){var banner=banners[j];if(banner.offsetParent&&!dismissed.includes(banner)){var acceptBtn=banner.querySelector('button,a');if(acceptBtn){acceptBtn.click();dismissed.push(banner);log('Dismissed cookie banner');found=true;}else{banner.style.display='none';dismissed.push(banner);log('Hidden cookie banner');found=true;}}}}catch(err){}}var allButtons=document.querySelectorAll('button,a');for(var k=0;k<allButtons.length;k++){var btn=allButtons[k];var text=(btn.textContent||'').toLowerCase();if(btn.offsetParent&&!dismissed.includes(btn)&&(text.indexOf('accept')!==-1||text.indexOf('agree')!==-1||text.indexOf('got it')!==-1)){var parent=btn.closest('[class*=\"cookie\"],[id*=\"cookie\"],[class*=\"consent\"],[id*=\"consent\"]');if(parent&&!dismissed.includes(parent)){btn.click();dismissed.push(parent);dismissed.push(btn);log('Clicked consent button');found=true;break;}}}return found;}var checkInterval=setInterval(dismissBanner,1500);var observer=new MutationObserver(function(){setTimeout(dismissBanner,200);});observer.observe(document.body,{childList:true,subtree:true});dismissBanner();userscript.cleanup=function(){if(checkInterval)clearInterval(checkInterval);if(observer)observer.disconnect();}})();"},{id:"ad-skip-helper",name:"Video Ad Skip Helper",category:hdt.PRIVACY,description:'Automatically clicks "Skip Ad" buttons when they appear',defaultEnabled:!1,source:"inline",provides:["ad-skip"],inline:"(function(){var observer=null;var log=function(msg){if(window.TizenPortal&&TizenPortal.log)TizenPortal.log(msg);};var skipButtons=['button[class*=\"skip\"]','button[class*=\"Skip\"]','button[id*=\"skip\"]','button[aria-label*=\"Skip\"]','.ytp-ad-skip-button','.ytp-skip-ad-button'];function clickSkip(){for(var i=0;i<skipButtons.length;i++){try{var btns=document.querySelectorAll(skipButtons[i]);for(var j=0;j<btns.length;j++){if(btns[j].offsetParent!==null){btns[j].click();log('Clicked skip button');return true;}}}catch(err){}}var allButtons=document.querySelectorAll('button');for(var k=0;k<allButtons.length;k++){var btn=allButtons[k];if(btn.offsetParent!==null&&btn.textContent&&btn.textContent.toLowerCase().indexOf('skip')!==-1){btn.click();log('Clicked skip button');return true;}}return false;}var checkInterval=setInterval(clickSkip,2000);observer=new MutationObserver(function(){setTimeout(clickSkip,100);});observer.observe(document.body,{childList:true,subtree:true});userscript.cleanup=function(){if(checkInterval)clearInterval(checkInterval);if(observer)observer.disconnect();}})();"}],vdt=0;vdt<mdt.length;vdt++){var ydt=mdt[vdt];Sst.register({id:ydt.id,type:Sst.ITEM_TYPES.USERSCRIPT,name:ydt.name,displayName:ydt.name,category:ydt.category,description:ydt.description,defaultEnabled:ydt.defaultEnabled||!1,source:ydt.source,inline:ydt.inline,url:ydt.url,provides:ydt.provides})}var bdt={getAllUserscripts:function(){return Sst.query({type:Sst.ITEM_TYPES.USERSCRIPT})},getUserscriptById:function(t){var e=Sst.query({type:Sst.ITEM_TYPES.USERSCRIPT,id:t});return e.length>0?e[0]:null},getUserscriptsByCategory:function(t){return Sst.query({type:Sst.ITEM_TYPES.USERSCRIPT,category:t})},getCategories:function(){return hdt},checkConflicts:function(t){return Sst.checkConflicts(t)},CATEGORIES:hdt,registry:Sst},wdt=[],xdt=null,Tdt=null,Pdt=null;function kdt(){wdt=[],console.log("TizenPortal [Cards]: Cleared all registrations")}function Sdt(){for(var t=0,e=0;e<wdt.length;e++){var r=wdt[e],n=r.container?document.querySelector(r.container):document;if(n)try{for(var o=n.querySelectorAll(r.selector),i=0;i<o.length;i++){var a=o[i];if(a.getAttribute("data-tp-card")!==r.type||"0"!==a.getAttribute("tabindex")){"0"!==a.getAttribute("tabindex")&&a.setAttribute("tabindex","0"),a.setAttribute("data-tp-card",r.type);var s=a.tagName.toUpperCase();"A"===s||"BUTTON"===s||a.hasAttribute("role")||a.setAttribute("role","button"),t++}}}catch(t){console.warn("TizenPortal [Cards]: Error processing selector",r.selector,t.message)}}return t>0&&console.log("TizenPortal [Cards]: Processed",t,"new cards"),t}function Edt(){xdt&&(xdt.disconnect(),xdt=null),Tdt&&(clearTimeout(Tdt),Tdt=null),Pdt&&(clearInterval(Pdt),Pdt=null),console.log("TizenPortal [Cards]: Observer stopped")}function Adt(){Pdt||(Pdt=setInterval(function(){Sdt()},2e3))}function Cdt(){Sdt(),function(){if(!xdt){if("undefined"==typeof MutationObserver)return console.warn("TizenPortal [Cards]: MutationObserver not available, using interval only"),void Adt();(xdt=new MutationObserver(function(t){Tdt&&clearTimeout(Tdt),Tdt=setTimeout(function(){Sdt()},100)})).observe(document.body,{childList:!0,subtree:!0}),console.log("TizenPortal [Cards]: Observer started"),Adt()}}(),console.log("TizenPortal [Cards]: Initialized")}function Odt(){Edt(),kdt(),console.log("TizenPortal [Cards]: Shutdown")}var Idt=[],zdt=null,Rdt=null,Mdt=null,Ndt=0,Bdt=["focusable","class","attribute","style","hide","show","remove"],Ldt=["HTML","HEAD","BODY"];function _dt(t){var e={};switch(t.operation){case"focusable":t.nav&&(e.nav=t.nav),t.classes&&(e.classes=t.classes);break;case"class":e.classes=t.classes||[],e.remove=t.remove||!1;break;case"attribute":e.attributes=t.attributes||{};break;case"style":e.styles=t.styles||{},e.important=t.important||!1}return e}function Ddt(){var t=Idt.length;Idt=[],qdt(),console.log("TizenPortal [Elements]: Cleared",t,"registration(s)")}function Fdt(){for(var t=0,e=0;e<Idt.length;e++){t+=Udt(Idt[e])}return t>0&&console.log("TizenPortal [Elements]: Processed",t,"element(s)"),t}function Udt(t){var e=0,r=t.container?document.querySelector(t.container):document;if(!r)return 0;try{for(var n=r.querySelectorAll(t.selector),o=0;o<n.length;o++){var i=n[o],a="data-tp-processed-"+t.id;if("true"!==i.getAttribute(a))if(!t.condition||t.condition(i))jdt(i,t)&&(i.setAttribute(a,"true"),e++)}t.processed+=e,t.lastProcessed=new Date}catch(e){console.warn("TizenPortal [Elements]: Error processing",t.selector,e.message)}return e}function jdt(t,e){try{switch(e.operation){case"focusable":return function(t,e){t.hasAttribute("tabindex")||t.setAttribute("tabindex","0");e.nav&&t.setAttribute("data-tp-nav",e.nav);if(e.classes&&e.classes.length>0)for(var r=0;r<e.classes.length;r++)t.classList.contains(e.classes[r])||t.classList.add(e.classes[r]);var n=t.tagName.toUpperCase();"A"===n||"BUTTON"===n||"INPUT"===n||"SELECT"===n||"TEXTAREA"===n||t.hasAttribute("role")||t.setAttribute("role","button");return!0}(t,e.config);case"class":return function(t,e){for(var r=e.classes||[],n=e.remove||!1,o=0;o<r.length;o++){var i=r[o];n?t.classList.contains(i)&&t.classList.remove(i):t.classList.contains(i)||t.classList.add(i)}return!0}(t,e.config);case"attribute":return function(t,e){var r=e.attributes||{};for(var n in r)if(r.hasOwnProperty(n)){var o=r[n];"function"==typeof o&&(o=o(t)),null===o?t.removeAttribute(n):t.setAttribute(n,String(o))}return!0}(t,e.config);case"style":return function(t,e){var r=e.styles||{},n=e.important||!1;for(var o in r)if(r.hasOwnProperty(o)){var i=r[o],a=o.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()});n?t.style.setProperty(a,i,"important"):t.style.setProperty(a,i)}return!0}(t,e.config);case"hide":return function(t){if(!t.hasAttribute("data-tp-original-display")){var e=window.getComputedStyle(t).display;t.setAttribute("data-tp-original-display",e)}return t.style.display="none",!0}(t);case"show":return function(t){var e=t.getAttribute("data-tp-original-display");t.style.display=e&&"none"!==e?e:"";return!0}(t);case"remove":return function(t){var e=t.tagName.toUpperCase();if(-1!==Ldt.indexOf(e))return console.warn("TizenPortal [Elements]: Cannot remove protected element",e),!1;if(t.parentNode)return t.parentNode.removeChild(t),!0;return!1}(t);default:return console.warn("TizenPortal [Elements]: Unknown operation",e.operation),!1}}catch(t){return console.warn("TizenPortal [Elements]: Error applying",e.operation,"to element:",t.message),!1}}function Hdt(t){Rdt&&clearTimeout(Rdt),Rdt=setTimeout(function(){Fdt(),Rdt=null},t)}function qdt(){zdt&&(zdt.disconnect(),zdt=null),Rdt&&(clearTimeout(Rdt),Rdt=null),Mdt&&(clearInterval(Mdt),Mdt=null),console.log("TizenPortal [Elements]: Observer stopped")}function Vdt(){Mdt||(Mdt=setInterval(function(){Fdt()},2e3))}function Gdt(){console.log("TizenPortal [Elements]: System initialized")}function Wdt(){qdt(),function(){try{for(var t=0;t<Idt.length;t++){var e=Idt[t];if(e&&e.id){var r,n="data-tp-processed-"+e.id,o="["+n+"]";try{r=document.querySelectorAll(o)}catch(t){continue}if(r&&r.length)for(var i=0;i<r.length;i++){var a=r[i];a&&a.removeAttribute&&a.removeAttribute(n)}}}}catch(t){console.warn("TizenPortal [Elements]: Failed to cleanup processed attributes (non-critical):",t&&t.message?t.message:t)}}(),Ddt(),Ndt=0,console.log("TizenPortal [Elements]: System shutdown")}var Ydt=!0;function Xdt(t){if(!t)return!1;try{return t.focus(),document.activeElement===t}catch(t){return console.warn("TizenPortal [Navigation]: Error focusing element:",t),!1}}function Kdt(t){if(!t)return[];var e=t.querySelectorAll('a[href], button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])');return Array.prototype.slice.call(e)}function Jdt(t,e,r){if(!t||0===t.length)return!1;var n=t.indexOf(e);if(-1===n)return!1;var o=n+r;return o<0&&(o=0),o>=t.length&&(o=t.length-1),o!==n&&Xdt(t[o])}var $dt=!1;var Zdt="1115",Qdt="https://axelnanol.github.io/tizenportal/dist",tpt=Qdt+"/assets/favicon.ico";function ept(t){try{var e=document.getElementById("tp-hud");if(e||((e=document.createElement("div")).id="tp-hud",e.style.cssText="position:fixed;top:0;right:0;background:rgba(0,0,0,0.9);color:#0f0;padding:10px;font-size:12px;font-family:monospace;z-index:2147483647;border:2px solid #0f0;max-width:400px;word-break:break-all;",(document.body||document.documentElement).appendChild(e)),window.TizenPortal&&window.TizenPortal.config)if("off"===(TizenPortal.config.get("tp_portal")||{}).hudPosition)return void(e.style.display="none");e.textContent="[TP 1115] "+t,e._timer&&clearTimeout(e._timer),e._timer=setTimeout(function(){e&&(e.style.opacity="0.3")},8e3)}catch(t){}}ept("Script loaded, waiting for DOM...");var rpt=function(){try{return window.location.hash||""}catch(t){return""}}(),npt=function(){try{return window.location.search||""}catch(t){return""}}();function opt(t){return rpt&&t.test(rpt)?rpt:window.location.hash||""}function ipt(t){return npt&&t.test(npt)?npt:window.location.search||""}var apt={initialized:!1,isPortalPage:!1,currentCard:null,currentBundle:null,siteActive:!1},spt=[],lpt=!1,cpt="tp_last_card",upt=null,dpt=null,ppt=null,fpt="input, textarea";function gpt(t){return t&&t.userAgent?t.userAgent:(Eot("tp_features")||{}).uaMode||"tizen"}function hpt(t,e){if(!t)return Got("[Config] "+e+": null (no card)"),null;if(t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e])return Got("[Config] "+e+": "+JSON.stringify(t[e])+" (per-site override)"),t[e];try{var r=Eot("tp_features")||{};if(r.hasOwnProperty(e))return Got("[Config] "+e+": "+JSON.stringify(r[e])+" (global default)"),r[e]}catch(t){Wot("[Config] Error reading global config for "+e+": "+t.message)}return Got("[Config] "+e+": undefined (no global or site setting)"),null}function mpt(t){var e=function(t){return t?0===t.indexOf("Mozilla/")?t:"desktop"===t?"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36":"mobile"===t?"Mozilla/5.0 (Linux; Android 10; Mobile) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Mobile Safari/537.36":null:null}(t);if(e)try{var r=window.navigator&&window.navigator.__proto__;r&&Object.defineProperty&&(Object.defineProperty(r,"userAgent",{get:function(){return e},configurable:!0}),Object.defineProperty(r,"appVersion",{get:function(){return e},configurable:!0})),document.documentElement.setAttribute("data-tp-ua",t),Got("UA override applied (JS only): "+t)}catch(t){Wot("UA override failed: "+t.message)}}function vpt(t){try{if("unlocked"===t)return gat(),void Got("Viewport: Unlocked");if("auto"===t)return e=window.innerWidth||document.documentElement.clientWidth||1920,r=window.screen&&window.screen.width?window.screen.width:e,void(Math.max(e,r)<2560?(fat({width:1920,initialScale:1,userScalable:!1}),Got("Viewport: Auto -> Locked (1920)")):(gat(),Got("Viewport: Auto -> Unlocked")));fat({width:1920,initialScale:1,userScalable:!1}),Got("Viewport: Locked (1920)")}catch(t){Wot("Viewport: Failed to apply mode:",t.message)}var e,r}function ypt(t,e){Got("[Config] ==== Merged Configuration for "+(t?t.name||t.url:"unknown")+" ====");var r,n,o=function(t,e){var r=Eot("tp_features")||{},n=r.focusOutlineMode||"off";return e&&e.manifest&&e.manifest.features&&e.manifest.features.focusOutlineMode&&!t.focusOutlineMode&&(n=e.manifest.features.focusOutlineMode),t&&t.focusOutlineMode?n=t.focusOutlineMode:(t&&t.hasOwnProperty("focusStyling")&&!1===t.focusStyling||!1===r.focusStyling)&&(n="none"),n||"off"}(t,e),i=function(t,e){var r=e&&e.manifest;if(r&&"force"===r.viewportLock)return"locked";var n=(Eot("tp_features")||{}).viewportMode||"locked";return t&&t.viewportMode&&(n=t.viewportMode),r&&!0===r.viewportLock&&!t.viewportMode?"locked":n||"locked"}(t,e),a=function(t){for(var e={},r=["focusStyling","tabindexInjection","scrollIntoView","safeArea","gpuHints","cssReset","hideScrollbars","wrapTextInputs","focusTransitions","focusTransitionMode","focusTransitionSpeed","navigationFix","textScale"],n=0;n<r.length;n++){var o=r[n],i=hpt(t,o);null!=i&&(e[o]=i)}return e}(t);if(e&&e.manifest&&e.manifest.features){Got("[Config] Bundle "+(e.name||"unknown")+" defines features: "+JSON.stringify(e.manifest.features));var s=e.manifest.features;for(var l in s)s.hasOwnProperty(l)&&(a.hasOwnProperty(l)||(Got("[Config] Applying bundle feature "+l+": "+s[l]),a[l]=s[l]))}a.focusOutlineMode=o,Got("[Config] Final merged config to apply: "+JSON.stringify(a)),Got("[Config] ================================================");try{Sct.applyFeatures(document,a),Got("[Feature] Features applied successfully")}catch(t){Yot("Failed to apply features: "+t.message)}r=o,(n=document.body||document.documentElement)&&n.classList&&(n.classList.remove("tp-focus-mode-on"),n.classList.remove("tp-focus-mode-high"),n.classList.remove("tp-focus-mode-off"),n.classList.remove("tp-focus-mode-none"),"high"===r?n.classList.add("tp-focus-mode-high"):"none"===r?n.classList.add("tp-focus-mode-none"):"off"===r?n.classList.add("tp-focus-mode-off"):n.classList.add("tp-focus-mode-on")),vpt(i)}function bpt(t){if(t)try{var e=t.featureBundle;!e&&t.bundle&&(e=t.bundle);var r=gpt(t),n={cardId:t.id||null,name:t.name||"",url:t.url||"",featureBundle:e||"default",viewportMode:t.hasOwnProperty("viewportMode")?t.viewportMode:null,focusOutlineMode:t.hasOwnProperty("focusOutlineMode")?t.focusOutlineMode:null,focusStyling:t.hasOwnProperty("focusStyling")?t.focusStyling:null,userAgent:r,tabindexInjection:t.hasOwnProperty("tabindexInjection")?t.tabindexInjection:null,scrollIntoView:t.hasOwnProperty("scrollIntoView")?t.scrollIntoView:null,safeArea:t.hasOwnProperty("safeArea")?t.safeArea:null,gpuHints:t.hasOwnProperty("gpuHints")?t.gpuHints:null,cssReset:t.hasOwnProperty("cssReset")?t.cssReset:null,hideScrollbars:t.hasOwnProperty("hideScrollbars")?t.hideScrollbars:null,wrapTextInputs:t.hasOwnProperty("wrapTextInputs")?t.wrapTextInputs:null,focusTransitions:t.hasOwnProperty("focusTransitions")?t.focusTransitions:null,focusTransitionMode:t.hasOwnProperty("focusTransitionMode")?t.focusTransitionMode:null,focusTransitionSpeed:t.hasOwnProperty("focusTransitionSpeed")?t.focusTransitionSpeed:null,navigationFix:t.hasOwnProperty("navigationFix")?t.navigationFix:null,textScale:t.hasOwnProperty("textScale")?t.textScale:null,icon:t.icon||null,bundleOptions:t.bundleOptions||{},bundleOptionData:t.bundleOptionData||{},userscripts:t.userscripts||[],userscriptToggles:t.userscriptToggles||{},bundleUserscriptToggles:t.bundleUserscriptToggles||{},globalUserscripts:Nst.getGlobalUserscriptsForPayload(),crossHistory:t.crossHistory||[],crossForward:t.crossForward||[]},o=JSON.stringify(n);sessionStorage.setItem(cpt,o)}catch(t){}}function wpt(){try{var t=sessionStorage.getItem(cpt);if(!t)return null;var e=JSON.parse(t);return e?(!e.id&&e.cardId&&(e.id=e.cardId),e):null}catch(t){return null}}function xpt(t){var e=!1!==(Eot("tp_features")||{}).wrapTextInputs,r=hpt(t,"wrapTextInputs");null!=r&&(e=r),window.TizenPortal&&window.TizenPortal.log&&TizenPortal.log("TextInput: wrapTextInputs="+e),e?function(){Tct.apply(document);var t=qut(fpt);if(window.TizenPortal&&window.TizenPortal.log?TizenPortal.log("TextInput: Protection enabled (wrapped "+t+")"):console.log("TizenPortal [TextInput]: Protection enabled, wrapped",t),setTimeout(function(){qut(fpt)},500),setTimeout(function(){qut(fpt)},1500),setTimeout(function(){qut(fpt)},3e3),upt&&(upt.disconnect(),upt=null),dpt&&(clearInterval(dpt),dpt=null),"undefined"!=typeof MutationObserver){upt=new MutationObserver(function(){qut(fpt)});var e=document.body||document.documentElement;e&&upt.observe(e,{childList:!0,subtree:!0})}else dpt=setInterval(function(){qut(fpt)},2e3)}():(upt&&(upt.disconnect(),upt=null),dpt&&(clearInterval(dpt),dpt=null),Zut(fpt),Tct.remove(document),window.TizenPortal&&window.TizenPortal.log?TizenPortal.log("TextInput: Protection disabled"):console.log("TizenPortal [TextInput]: Protection disabled"))}function Tpt(t){t&&"object"===a(t)&&t.bundleName&&"string"==typeof t.bundleName&&spt.push(t)}function Ppt(){lpt||(lpt=!0,Tpt({bundleName:"audiobookshelf",titleContains:["audiobookshelf"],selectors:["#siderail-buttons-container","#appbar","#mediaPlayerContainer"],match:function(){try{var t=window.location||{};return"13378"===(t.port||"")||(-1!==(t.host||"").indexOf(":13378")||-1!==(t.href||"").indexOf(":13378"))}catch(t){return!1}}}))}function kpt(){for(var t=0;t<spt.length;t++){var e=spt[t];try{if("function"==typeof e.match){if(e.match())return e.bundleName}else{var r=(document.title||"").toLowerCase();if(e.titleContains&&e.titleContains.length)for(var n=0;n<e.titleContains.length;n++){var o=String(e.titleContains[n]||"").toLowerCase();if(o&&-1!==r.indexOf(o))return e.bundleName}if(e.selectors&&e.selectors.length)for(var i=0;i<e.selectors.length;i++){var a=e.selectors[i];if(a&&document.querySelector(a))return e.bundleName}}}catch(t){}}return null}function Spt(){return!!document.getElementById("tp-shell")}function Ept(){return Apt.apply(this,arguments)}function Apt(){return(Apt=r(o().m(function t(){var e,r;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:if(!apt.initialized){t.n=1;break}return Wot("TizenPortal already initialized"),t.a(2);case 1:return apt.isPortalPage=Spt(),ept(apt.isPortalPage?"Portal page":"Target site"),Got("TizenPortal 1115 initializing..."),t.p=2,ept("Loading polyfills..."),t.n=3,zot();case 3:if(Got("Polyfills loaded: "+((e=t.v).length>0?e.join(", "):"none needed")),Got("Spatial nav: window.navigate="+a(window.navigate)+", __spatialNavigation__="+a(window.__spatialNavigation__)),ept("Config init..."),Tot(),Got("Configuration initialized"),qot(),Got("Diagnostics initialized"),rit(),Got("Diagnostics panel initialized"),Iut(),Got("Pointer mode initialized"),adt(),Got("Input handler initialized"),Ppt(),!apt.isPortalPage){t.n=5;break}return t.n=4,Cpt();case 4:t.n=6;break;case 5:return t.n=6,zpt();case 6:apt.initialized=!0,ept("Ready!"),Got("TizenPortal 1115 ready"),t.n=8;break;case 7:t.p=7,Yot("Initialization failed: "+(r=t.v).message),console.error(r);case 8:return t.a(2)}},t,null,[[2,7]])}))).apply(this,arguments)}function Cpt(){return Opt.apply(this,arguments)}function Opt(){return Opt=r(o().m(function t(){var e,r,n,i,a,s,l;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:if(t.p=0,e=opt(/[#&]crossnav=/),!(r=e.match(/[#&]crossnav=([^&]+)/))){t.n=2;break}if(!((n=JSON.parse(decodeURIComponent(escape(atob(r[1])))))&&n.cardId&&n.targetUrl&&lot(n.targetUrl))){t.n=2;break}if(!(i=Vit(n.cardId))){t.n=1;break}a=Object.assign({},i,{url:n.targetUrl,crossHistory:n.history||[],crossForward:n.forward||[],featureBundle:n.bundleName||i.featureBundle||"default"}),Got("Cross-site relay: card="+n.cardId+" â "+n.targetUrl+" (history depth "+a.crossHistory.length+")");try{history.replaceState(null,"",window.location.href.replace(/[#&]crossnav=[^&]*/g,"").replace(/#$/,""))}catch(t){}try{document.body&&(document.body.style.visibility="hidden")}catch(t){}return rft(a),t.a(2);case 1:Wot("Cross-site relay: card not found: "+n.cardId);case 2:t.n=4;break;case 3:t.p=3,Wot("Failed to process crossnav relay: "+t.v.message);case 4:try{if(e=opt(/[#&]addcard=/),s=e.match(/[#&]addcard=([^&]+)/)){Hit(l=JSON.parse(decodeURIComponent(escape(atob(s[1]))))),Got("Card added from URL parameter: "+(l.name||l.url));try{history.replaceState(null,"",window.location.href.replace(/[#&]addcard=[^&]*/g,"").replace(/[?&]#/,"#").replace(/[?&]$/,"").replace(/#$/,""))}catch(t){}}}catch(t){Wot("Failed to process pending card from URL: "+t.message)}wst(),Got("Modal system initialized"),olt(),Got("Site editor initialized"),jct(),Got("Preferences initialized"),bit(),Got("Address bar initialized");try{Got("Applying global features to portal page"),Sct.applyFeatures(document,{focusStyling:!1,focusOutlineMode:"off"})}catch(t){Wot("Failed to apply features to portal: "+t.message)}gut(),Got("Portal UI initialized"),Jpt(),Got("Color hints initialized");try{Got("Initializing navigation mode for portal..."),aot()}catch(t){Yot("Failed to initialize navigation mode: "+t.message)}case 5:return t.a(2)}},t,null,[[0,3]])})),Opt.apply(this,arguments)}function Ipt(t,e){return new Promise(function(r){var n=Date.now(),o=e;function i(){var t=opt(/[#&]tp=/),e=ipt(/[?&]tp=/);return/[#&]tp=/.test(t)||/[?&]tp=/.test(e)}!function e(){i()||Date.now()-n>=t?r(i()):setTimeout(e,o)}()})}function zpt(){return Rpt.apply(this,arguments)}function Rpt(){return(Rpt=r(o().m(function t(){var e,r,n,i,a,s,l,c,u,d;return o().w(function(t){for(;;)switch(t.n){case 0:ept("Finding card..."),Ypt();try{lut()}catch(t){Wot("Failed to apply site theme: "+t.message)}return t.n=1,Ipt(200,50);case 1:if(e=null,r=!1,n=Dpt()){Got("Card from URL hash: "+n.name),e=n,r=!0,ept("Card (hash): "+n.name),bpt(n);try{i=window.location.href.replace(/[#&]tp=[^&#]+/,""),history.replaceState(null,document.title,i)}catch(t){}}if(!e&&(a=Upt())){Got("Card from URL query: "+a.name),e=a,r=!0,ept("Card (query): "+a.name),bpt(a);try{s=(s=window.location.href.replace(/([?&])tp=[^&#]+(&?)/,function(t,e,r){return"?"===e&&r?"?":("?"!==e||r)&&"&"===e&&r?"&":""})).replace(/[?&]$/,""),history.replaceState(null,document.title,s)}catch(t){}}return e||(l=wpt())&&(c=(l.url||"").split("/").slice(0,3).join("/"),u=window.location.href.split("/").slice(0,3).join("/"),c===u?(Got("Using last card bundle (same-origin): "+((e=Object.assign({},l,{url:window.location.href,name:l.name||document.title||"Unknown Site"})).featureBundle||"default")),ept("Card (session): "+(e.name||"Last Card"))):Got("Session card origin mismatch; not reusing (last: "+c+", current: "+u+")")),e||(d=kpt())&&(e={name:document.title||d,url:window.location.href,featureBundle:d},Got("Heuristic bundle match: "+d),ept("Card (heuristic): "+d),bpt(e)),e||(Got("No matching card for: "+window.location.href),ept("No card - using default"),bpt(e={name:document.title||"Unknown Site",url:window.location.href,featureBundle:"default"})),apt.currentCard=e,Mpt(),mpt(gpt(e)),ept("Applying bundle..."),t.n=2,Gpt(e);case 2:_pt(),Hpt(r,e),xpt(apt.currentCard),Sot(function(t){t&&"tp_features"===t.key&&(xpt(apt.currentCard),ypt(apt.currentCard,gst(apt.currentBundle||"default")))}),bit(),Got("Address bar initialized"),rit(),Got("Diagnostics panel initialized"),Xpt(),Got("Color hints created");case 3:return t.a(2)}},t)}))).apply(this,arguments)}function Mpt(){var t;apt.isPortalPage||(Mpt._installed||(Mpt._installed=!0,window.addEventListener("beforeunload",e),window.addEventListener("pagehide",e),Lpt(),idt="function"==typeof(t=function(t){if(!apt.currentCard)return!1;var e=apt.currentCard.crossHistory;if(!e||!e.length)return!1;var r=e.slice(0,-1),n=e[e.length-1],o=(apt.currentCard.crossForward||[]).slice();o.unshift(Npt());var i=apt.currentBundle||apt.currentCard.featureBundle||"default",a=Bpt(apt.currentCard.id,n,r,o,i);return!!a&&(window.location.href=a,!0)})?t:null));function e(){if(apt.currentCard)try{bpt(apt.currentCard)}catch(t){}}}function Npt(){try{var t=window.location.href,e=(t=t.replace(/([?&])tp=[^&#]*(&?)/,function(t,e,r){return"?"===e&&r?"?":("?"!==e||r)&&r?e:""}).replace(/[?&]$/,"")).indexOf("#");if(-1!==e){var r=t.substring(0,e),n=t.substring(e+1).split("&").filter(function(t){return 0!==t.indexOf("tp=")}).join("&");t=n?r+"#"+n:r}return t}catch(t){return window.location.href}}function Bpt(t,e,r,n,o){if(!t||!e)return"";try{var i={cardId:t,targetUrl:e,history:r||[],forward:n||[],bundleName:o||"default"},a=btoa(unescape(encodeURIComponent(JSON.stringify(i))));return Qdt+"/index.html?v="+encodeURIComponent(Zdt)+"#crossnav="+a}catch(t){return Wot("buildCrossNavUrl failed: "+t.message),""}}function Lpt(){Lpt._installed||(Lpt._installed=!0,document.addEventListener("click",function(t){if(apt.currentCard&&apt.currentCard.id){var e=t.target&&"function"==typeof t.target.closest?t.target.closest("a"):function(){for(var e=t.target;e&&e!==document;){if(e.tagName&&"A"===e.tagName.toUpperCase())return e;e=e.parentElement}return null}();if(e){var r=e.getAttribute("href")||"";if(r&&"#"!==r.charAt(0)){var n=e.href;if(n&&(0===n.indexOf("http://")||0===n.indexOf("https://"))&&0!==n.indexOf(Qdt)){var o=window.location.protocol+"//"+window.location.host;if(n!==o&&0!==n.indexOf(o+"/")&&0!==n.indexOf(o+"?")&&0!==n.indexOf(o+"#")){var i=(apt.currentCard.crossHistory||[]).slice();i.push(Npt());var a=apt.currentBundle||apt.currentCard.featureBundle||"default",s=Bpt(apt.currentCard.id,n,i,[],a);s&&(t.preventDefault(),t.stopPropagation(),window.location.href=s,Got("Cross-origin link intercepted: routing via portal to "+n))}}}}}},!0))}function _pt(){if(!ppt){var t=window.location.href;ppt=setInterval(function(){try{var e=window.location.href;if(e===t)return;t=e,apt.currentCard&&(apt.currentCard.url=e,bpt(apt.currentCard));try{var r=gst(apt.currentBundle||"default");Vpt(apt.currentCard),Nst.applyUserscripts(apt.currentCard,r),Got("Userscripts re-applied after URL change")}catch(t){Wot("Userscripts re-apply failed: "+t.message)}}catch(t){}},500)}}function Dpt(){try{var t=opt(/[#&]tp=/);if(!t)return null;var e=t.match(/[#&]tp=([^&]+)/);if(!e||!e[1])return null;var r=decodeURIComponent(escape(atob(e[1]))),n=Fpt(JSON.parse(r));if(!n)return Wot("Invalid payload from hash; ignoring"),null;Got("Decoded payload from hash: "+JSON.stringify(n));var o={id:n.cardId||null,name:n.cardName||"Unknown Site",url:window.location.href.replace(/[#&]tp=[^&#]+/,""),featureBundle:n.bundleName||"default",viewportMode:n.viewportMode||null,focusOutlineMode:n.focusOutlineMode||null,userAgent:n.ua||null,tabindexInjection:n.hasOwnProperty("tabindexInjection")?n.tabindexInjection:null,scrollIntoView:n.hasOwnProperty("scrollIntoView")?n.scrollIntoView:null,safeArea:n.hasOwnProperty("safeArea")?n.safeArea:null,gpuHints:n.hasOwnProperty("gpuHints")?n.gpuHints:null,cssReset:n.hasOwnProperty("cssReset")?n.cssReset:null,hideScrollbars:n.hasOwnProperty("hideScrollbars")?n.hideScrollbars:null,wrapTextInputs:n.hasOwnProperty("wrapTextInputs")?n.wrapTextInputs:null,focusStyling:n.hasOwnProperty("focusStyling")?n.focusStyling:null,focusTransitions:n.hasOwnProperty("focusTransitions")?n.focusTransitions:null,focusTransitionMode:n.hasOwnProperty("focusTransitionMode")?n.focusTransitionMode:null,focusTransitionSpeed:n.hasOwnProperty("focusTransitionSpeed")?n.focusTransitionSpeed:null,navigationFix:n.hasOwnProperty("navigationFix")?n.navigationFix:null,navigationMode:n.hasOwnProperty("navigationMode")?n.navigationMode:null,textScale:n.hasOwnProperty("textScale")?n.textScale:null,bundleOptions:n.bundleOptions||{},bundleOptionData:n.bundleOptionData||{},userscriptToggles:n.userscriptToggles||{},bundleUserscriptToggles:n.bundleUserscriptToggles||{},userscripts:n.userscripts||[],globalUserscripts:n.globalUserscripts||[],crossHistory:n.crossHistory||[],crossForward:n.crossForward||[],_payload:n};return Got("Card from URL hash: "+o.name+" (bundle: "+(o.featureBundle||"default")+")"),o}catch(t){return Yot("Failed to parse hash card: "+t.message),null}}function Fpt(t){if(!t||"object"!==a(t)||Array.isArray(t))return null;var e={},r=hst?hst():[];return"string"==typeof t.bundleName&&(-1!==r.indexOf(t.bundleName)?e.bundleName=t.bundleName:e.bundleName="default"),"string"==typeof t.cardName&&(e.cardName=t.cardName),"string"==typeof t.cardId&&(e.cardId=t.cardId),"string"==typeof t.ua&&(e.ua=t.ua),"string"==typeof t.css&&(e.css=t.css.length>2e4?t.css.substring(0,2e4):t.css),"string"==typeof t.viewportMode&&(e.viewportMode=t.viewportMode),"string"==typeof t.focusOutlineMode&&(e.focusOutlineMode=t.focusOutlineMode),"boolean"==typeof t.focusStyling&&(e.focusStyling=t.focusStyling),"boolean"==typeof t.tabindexInjection&&(e.tabindexInjection=t.tabindexInjection),"boolean"==typeof t.scrollIntoView&&(e.scrollIntoView=t.scrollIntoView),"boolean"==typeof t.navigationFix&&(e.navigationFix=t.navigationFix),"boolean"==typeof t.safeArea&&(e.safeArea=t.safeArea),"boolean"==typeof t.gpuHints&&(e.gpuHints=t.gpuHints),"boolean"==typeof t.cssReset&&(e.cssReset=t.cssReset),"boolean"==typeof t.hideScrollbars&&(e.hideScrollbars=t.hideScrollbars),"boolean"==typeof t.wrapTextInputs&&(e.wrapTextInputs=t.wrapTextInputs),"boolean"==typeof t.focusTransitions&&(e.focusTransitions=t.focusTransitions),"string"==typeof t.focusTransitionMode&&(e.focusTransitionMode=t.focusTransitionMode),"string"==typeof t.focusTransitionSpeed&&(e.focusTransitionSpeed=t.focusTransitionSpeed),"string"==typeof t.navigationMode&&(e.navigationMode=t.navigationMode),"string"==typeof t.textScale&&(e.textScale=t.textScale),t.bundleOptions&&"object"===a(t.bundleOptions)&&!Array.isArray(t.bundleOptions)&&(e.bundleOptions=t.bundleOptions),t.bundleOptionData&&"object"===a(t.bundleOptionData)&&!Array.isArray(t.bundleOptionData)&&(e.bundleOptionData=t.bundleOptionData),t.userscriptToggles&&"object"===a(t.userscriptToggles)&&!Array.isArray(t.userscriptToggles)&&(e.userscriptToggles=t.userscriptToggles),t.bundleUserscriptToggles&&"object"===a(t.bundleUserscriptToggles)&&!Array.isArray(t.bundleUserscriptToggles)&&(e.bundleUserscriptToggles=t.bundleUserscriptToggles),t.userscripts&&Array.isArray(t.userscripts)&&(e.userscripts=t.userscripts),t.globalUserscripts&&Array.isArray(t.globalUserscripts)&&(e.globalUserscripts=t.globalUserscripts),t.crossHistory&&Array.isArray(t.crossHistory)&&(e.crossHistory=t.crossHistory),t.crossForward&&Array.isArray(t.crossForward)&&(e.crossForward=t.crossForward),e}function Upt(){try{var t=ipt(/[?&]tp=/);if(!t)return null;var e=t.match(/[?&]tp=([^&]+)/);if(!e||!e[1])return null;var r=decodeURIComponent(escape(atob(e[1]))),n=Fpt(JSON.parse(r));if(!n)return Wot("Invalid payload from query; ignoring"),null;Got("Decoded payload from query: "+JSON.stringify(n));var o={id:n.cardId||null,name:n.cardName||"Unknown Site",url:window.location.href.replace(/[?&]tp=[^&#]+/,""),featureBundle:n.bundleName||"default",viewportMode:n.viewportMode||null,focusOutlineMode:n.focusOutlineMode||null,userAgent:n.ua||null,tabindexInjection:n.hasOwnProperty("tabindexInjection")?n.tabindexInjection:null,scrollIntoView:n.hasOwnProperty("scrollIntoView")?n.scrollIntoView:null,safeArea:n.hasOwnProperty("safeArea")?n.safeArea:null,gpuHints:n.hasOwnProperty("gpuHints")?n.gpuHints:null,cssReset:n.hasOwnProperty("cssReset")?n.cssReset:null,hideScrollbars:n.hasOwnProperty("hideScrollbars")?n.hideScrollbars:null,wrapTextInputs:n.hasOwnProperty("wrapTextInputs")?n.wrapTextInputs:null,focusStyling:n.hasOwnProperty("focusStyling")?n.focusStyling:null,focusTransitions:n.hasOwnProperty("focusTransitions")?n.focusTransitions:null,focusTransitionMode:n.hasOwnProperty("focusTransitionMode")?n.focusTransitionMode:null,focusTransitionSpeed:n.hasOwnProperty("focusTransitionSpeed")?n.focusTransitionSpeed:null,navigationFix:n.hasOwnProperty("navigationFix")?n.navigationFix:null,navigationMode:n.hasOwnProperty("navigationMode")?n.navigationMode:null,textScale:n.hasOwnProperty("textScale")?n.textScale:null,bundleOptions:n.bundleOptions||{},bundleOptionData:n.bundleOptionData||{},userscriptToggles:n.userscriptToggles||{},bundleUserscriptToggles:n.bundleUserscriptToggles||{},userscripts:n.userscripts||[],globalUserscripts:n.globalUserscripts||[],crossHistory:n.crossHistory||[],crossForward:n.crossForward||[],_payload:n};return Got("Card from URL query: "+o.name+" (bundle: "+(o.featureBundle||"default")+")"),o}catch(t){return Yot("Failed to parse query card: "+t.message),null}}var jpt=!1;function Hpt(t,e){if(!t&&!jpt&&e&&"default"===e.featureBundle){var r=Date.now();setTimeout(function t(){if(!(jpt||Date.now()-r>1500)){var e=Dpt()||Upt();if(e&&e.featureBundle&&"default"!==e.featureBundle)return jpt=!0,Got("Late payload detected, switching bundle to: "+e.featureBundle),ept("Late payload: "+e.featureBundle),void function(t){qpt.apply(this,arguments)}(e);setTimeout(t,100)}},100)}}function qpt(){return(qpt=r(o().m(function t(e){var r;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:return t.p=0,t.n=1,fdt();case 1:return(r=document.getElementById("tp-bundle-css"))&&r.parentNode&&r.parentNode.removeChild(r),Odt(),Wdt(),apt.currentCard=e,mpt(gpt(e)),t.n=2,Gpt(e);case 2:t.n=4;break;case 3:t.p=3,Yot("Late payload apply failed: "+t.v.message);case 4:return t.a(2)}},t,null,[[0,3]])}))).apply(this,arguments)}function Vpt(t){if(t&&t._payload&&Array.isArray(t._payload.globalUserscripts)){var e=t._payload.globalUserscripts;Got("Registering "+e.length+" payload global userscripts");for(var r=0;r<e.length;r++){var n=e[r];if(n&&n.id)if(bdt.getUserscriptById(n.id))Got("Userscript already registered: "+n.id),Nst.setGlobalUserscriptEnabled(n.id,!0);else bdt.registry.register({id:n.id,type:bdt.registry.ITEM_TYPES.USERSCRIPT,name:n.name||n.id,displayName:n.name||n.id,category:n.category||"experimental",description:n.description||"Global userscript from payload",defaultEnabled:!1,source:n.source||"inline",inline:n.inline||null,url:n.url||null,provides:n.provides||[]})?(Got("Registered payload userscript: "+n.id),Nst.setGlobalUserscriptEnabled(n.id,!0)):Wot("Failed to register payload userscript: "+n.id);else Wot("Skipping invalid payload userscript (no ID)")}}}function Gpt(t){return Wpt.apply(this,arguments)}function Wpt(){return(Wpt=r(o().m(function t(e){var r,n,i,s,l,c;return o().w(function(t){for(;;)switch(t.n){case 0:if(ept("Bundle: "+(r=e.featureBundle||"default")),Got("Applying bundle for card: "+e.name+", bundle: "+r),(n=gst(r))||(Got("Bundle not found: "+r+", using default"),ept("Bundle not found: "+r),n=gst("default")),n){t.n=1;break}return Wot("No bundle available"),ept("No bundle available!"),t.a(2);case 1:i=r,Got("Applying bundle: "+(n.name||i)),ept("Applying: "+(n.name||i)),apt.currentBundle=i,n.manifest?(Got("Bundle manifest loaded: v"+n.manifest.version),n.manifest.navigationMode&&Got("Bundle navigation mode: "+("object"===a(n.manifest.navigationMode)?n.manifest.navigationMode.mode:n.manifest.navigationMode)),void 0!==n.manifest.viewportLock&&Got("Bundle viewportLock: "+n.manifest.viewportLock),n.manifest.options&&n.manifest.options.length>0&&Got("Bundle has "+n.manifest.options.length+" configurable options"),n.manifest.features&&Got("Bundle has feature overrides: "+Object.keys(n.manifest.features).join(", ")),n.manifest.provides&&n.manifest.provides.length>0&&Got("Bundle provides: "+n.manifest.provides.join(", ")),yst(n.name)):Wot("Bundle has no manifest (legacy bundle)"),pdt(n,e),s=n.style||"",e._payload&&e._payload.css&&(Got("Adding payload CSS from URL payload"),(l=dot(e._payload.css))?s+="\n\n/* Payload CSS */\n"+l:Wot("Payload CSS was empty after sanitization")),s?((c=document.createElement("style")).id="tp-bundle-css",c.textContent=s,document.head.appendChild(c),Got("Bundle CSS injected ("+s.length+" chars)")):Wot("No CSS to inject for bundle: "+n.name);try{n.onBeforeLoad&&n.onBeforeLoad(window,e)}catch(t){Yot("onBeforeLoad error: "+t.message)}if("loading"!==document.readyState){t.n=2;break}return t.n=2,new Promise(function(t){document.addEventListener("DOMContentLoaded",t)});case 2:Got("Applying global features from preferences..."),ypt(e,n);try{n.onAfterLoad&&n.onAfterLoad(window,e)}catch(t){Yot("onAfterLoad error: "+t.message)}try{n.onActivate&&(ept("Calling onActivate..."),n.onActivate(window,e),ept("onActivate done"))}catch(t){Yot("onActivate error: "+t.message),ept("onActivate ERROR: "+t.message)}try{Got("Initializing navigation mode for site..."),iot(e,n)}catch(t){Yot("Navigation mode initialization error: "+t.message)}try{Vpt(e)}catch(t){Yot("Payload userscript registration error: "+t.message)}try{Nst.applyUserscripts(e,n)}catch(t){Yot("Userscripts error: "+t.message)}Cdt(),Got("Card registration system initialized"),Gdt(),Got("Element registration system initialized"),Got("Bundle applied successfully");case 3:return t.a(2)}},t)}))).apply(this,arguments)}function Ypt(){var t=document.createElement("style");t.id="tp-overlay-styles",t.textContent=["/* TizenPortal Overlay Styles */","","/* Pointer cursor - Samsung Tizen-style circular cursor */",".tp-pointer {","  position: fixed;","  width: 28px;","  height: 28px;","  pointer-events: none;","  z-index: 2147483647;","  opacity: 0;","  transition: opacity 0.15s;","  transform: translate(-50%, -50%);","}",".tp-pointer.visible { opacity: 1; }",".tp-pointer-cursor {","  width: 28px;","  height: 28px;","  position: relative;","}",".tp-pointer-cursor::before {",'  content: "";',"  position: absolute;","  top: 0;","  left: 0;","  width: 28px;","  height: 28px;","  background: rgba(255, 255, 255, 0.95);","  border: 3px solid #00a8ff;","  border-radius: 50%;","  box-shadow: 0 0 8px rgba(0, 168, 255, 0.6), 0 0 16px rgba(0, 168, 255, 0.3), 0 2px 4px rgba(0, 0, 0, 0.5);","  transition: transform 0.1s ease, box-shadow 0.1s ease;","}",".tp-pointer.moving .tp-pointer-cursor::before {","  box-shadow: 0 0 10px rgba(0, 168, 255, 0.8), 0 0 20px rgba(0, 168, 255, 0.4), 0 2px 4px rgba(0, 0, 0, 0.5);","}",".tp-pointer.clicking .tp-pointer-cursor::before {","  transform: scale(1.3);","  background: rgba(0, 168, 255, 0.9);","  box-shadow: 0 0 12px rgba(0, 168, 255, 1), 0 0 24px rgba(0, 168, 255, 0.5), 0 2px 4px rgba(0, 0, 0, 0.5);","}",".tp-pointer-hover {","  outline: 2px dashed rgba(0, 168, 255, 0.8) !important;","  outline-offset: 4px;","  background: rgba(0, 168, 255, 0.05) !important;","}","","/* Address bar */",".tp-addressbar {","  position: fixed;","  top: 0;","  left: 0;","  right: 0;","  height: 70px;","  background: linear-gradient(180deg, rgba(13,17,23,0.98) 0%, rgba(13,17,23,0.95) 100%);","  border-bottom: 2px solid #00a8ff;","  z-index: 2147483640;","  display: none;","  box-shadow: 0 4px 20px rgba(0,0,0,0.5);","}",".tp-addressbar.visible { display: block; }",".tp-addressbar-content {","  display: -webkit-box;","  display: -webkit-flex;","  display: flex;","  -webkit-box-align: center;","  -webkit-align-items: center;","  align-items: center;","  height: 100%;","  padding: 0 20px;","}",".tp-addressbar-btn {","  width: 50px;","  min-width: 50px;","  height: 50px;","  margin-right: 12px;","  background: linear-gradient(145deg, #1e2430 0%, #151922 100%);","  border: 2px solid rgba(255,255,255,0.1);","  border-radius: 8px;","  color: #fff;","  font-size: 20px;","  cursor: pointer;","  transition: all 0.15s;","  display: -webkit-box;","  display: -webkit-flex;","  display: flex;","  -webkit-box-align: center;","  -webkit-align-items: center;","  align-items: center;","  -webkit-box-pack: center;","  -webkit-justify-content: center;","  justify-content: center;","  -webkit-flex-shrink: 0;","  flex-shrink: 0;","}",".tp-addressbar-btn:focus {","  outline: none;","  border-color: #00a8ff;","  box-shadow: 0 0 0 3px rgba(0,168,255,0.3);","}",".tp-btn-svg {","  width: 24px;","  height: 24px;","}",".tp-btn-icon {","  font-size: 20px;","}",".tp-addressbar-url-container {","  -webkit-box-flex: 1;","  -webkit-flex: 1;","  flex: 1;","  height: 50px;","  min-width: 200px;","  margin-right: 12px;","  background: #000;","  border: 2px solid rgba(255,255,255,0.1);","  border-radius: 8px;","  position: relative;","  cursor: pointer;","  transition: all 0.15s;","  overflow: hidden;","}",".tp-addressbar-url-container:focus {","  outline: none;","  border-color: #00a8ff;","}",".tp-addressbar-url-display {","  position: absolute;","  top: 0;","  left: 0;","  right: 0;","  bottom: 0;","  padding: 0 16px;","  line-height: 50px;","  color: #888;","  font-size: 16px;","  font-family: monospace;","  white-space: nowrap;","  overflow: hidden;","  text-overflow: ellipsis;","}",".tp-addressbar-url {","  display: none;","  position: absolute;","  top: 0;","  left: 0;","  right: 0;","  bottom: 0;","  padding: 0 16px;","  background: transparent;","  border: none;","  color: #fff;","  font-size: 16px;","  font-family: monospace;","  outline: none;","}",".tp-addressbar-url-container.editing .tp-addressbar-url { display: block; }",".tp-addressbar-url-container.editing .tp-addressbar-url-display { display: none; }","","/* Color hints */",".tp-site-hints {","  position: fixed;","  bottom: 20px;","  left: 60px;","  top: auto;","  right: auto;","  display: -webkit-box;","  display: -webkit-flex;","  display: flex;","  background: rgba(0,0,0,0.4);","  padding: 12px 24px;","  border-radius: 12px;","  z-index: 2147483640;","  pointer-events: auto;","}",".tp-site-hint {","  display: flex;","  align-items: center;","  margin-right: 40px;","}",".tp-site-hint-text {","  display: flex;","  flex-direction: column;","  line-height: 1.1;","}",".tp-site-hint-sub {","  font-size: 11px;","  color: #aaa;","  opacity: 0.75;","  margin-top: 2px;","}",".tp-site-hint-key {","  width: 24px;","  height: 24px;","  border-radius: 4px;","  margin-right: 8px;","}",".tp-site-hint-key.red { background: #e91e63; }",".tp-site-hint-key.green { background: #4caf50; }",".tp-site-hint-key.yellow { background: #ffeb3b; }",".tp-site-hint-key.blue { background: #2196f3; }",".tp-site-hint span { color: #fff; font-size: 13px; }","","/* Toast */","#tp-toast {","  position: fixed;","  bottom: 80px;","  left: 50%;","  transform: translateX(-50%);","  background: rgba(0,0,0,0.95);","  color: #fff;","  padding: 16px 32px;","  border-radius: 12px;","  font-size: 18px;","  z-index: 2147483647;","  opacity: 0;","  transition: opacity 0.3s;","  pointer-events: none;","}","#tp-toast.visible { opacity: 1; }","","/* Diagnostics panel */","#tp-diagnostics {","  display: none;","  position: fixed;","  left: 0;","  right: 0;","  bottom: 0;","  height: 300px;","  background: rgba(0,0,0,0.95);","  z-index: 2147483645;","  flex-direction: column;","  padding: 20px 40px;","  font-family: Consolas, Monaco, monospace;","}","#tp-diagnostics.visible { display: flex; }","#tp-diagnostics.compact { height: 300px; }","#tp-diagnostics.fullscreen { top: 0; height: 100%; }","#tp-diagnostics-header {","  display: flex;","  justify-content: space-between;","  align-items: center;","  margin-bottom: 10px;","  padding-bottom: 10px;","  border-bottom: 1px solid #333;","}","#tp-diagnostics-header h2 { display: flex; align-items: center; font-size: 20px; font-weight: 500; color: #00a8ff; margin: 0; }","#tp-diagnostics-filter { margin-left: 10px; font-size: 12px; font-weight: normal; color: #888; }","#tp-diagnostics-info { font-size: 14px; color: #888; }","#tp-diagnostics-logs { flex: 1; overflow-y: auto; font-size: 14px; line-height: 1.6; }",".tp-log-entry { padding: 4px 0; border-bottom: 1px solid #1a1a1a; display: flex; }",".tp-log-time { color: #666; flex-shrink: 0; width: 100px; margin-right: 12px; }",".tp-log-level { flex-shrink: 0; width: 60px; margin-right: 12px; font-weight: bold; }",".tp-log-level.log { color: #888; }",".tp-log-level.info { color: #3498db; }",".tp-log-level.warn { color: #f1c40f; }",".tp-log-level.error { color: #e74c3c; }",".tp-log-message { color: #ccc; flex: 1; word-break: break-word; }","#tp-diagnostics-footer { margin-top: 10px; padding-top: 10px; border-top: 1px solid #333; font-size: 14px; color: #666; text-align: right; }"].join("\n"),document.head.appendChild(t),Got("Overlay styles injected")}function Xpt(){var t=document.createElement("div");t.id="tp-toast",document.body.appendChild(t);var e=document.createElement("div");e.className="tp-site-hints",e.innerHTML=['<div class="tp-site-hint"><div class="tp-site-hint-key red"></div><div class="tp-site-hint-text"><span>Address</span><span class="tp-site-hint-sub">Hold: Reload</span></div></div>','<div class="tp-site-hint"><div class="tp-site-hint-key green"></div><div class="tp-site-hint-text"><span>Mouse</span><span class="tp-site-hint-sub">Hold: Focus</span></div></div>','<div class="tp-site-hint"><div class="tp-site-hint-key yellow"></div><div class="tp-site-hint-text"><span>Portal</span><span class="tp-site-hint-sub">Hold: Add Site</span></div></div>','<div class="tp-site-hint"><div class="tp-site-hint-key blue"></div><div class="tp-site-hint-text"><span>Console</span><span class="tp-site-hint-sub">Hold: Safe Mode</span></div></div>'].join("");var r=Qpt(Eot("tp_portal")||{});tft(e,r),"off"===r&&(e.style.display="none"),document.body.appendChild(e);for(var n={red:{short:"addressbar",long:"reload"},green:{short:"pointerMode",long:"focusHighlight"},yellow:{short:"preferences",long:"addSite"},blue:{short:"diagnostics",long:"safeMode"}},o=e.querySelectorAll(".tp-site-hint"),i=0;i<o.length;i++){var a=o[i],s=a.querySelector(".tp-site-hint-key");if(s){var l=null;if(s.classList.contains("red")?l="red":s.classList.contains("green")?l="green":s.classList.contains("yellow")?l="yellow":s.classList.contains("blue")&&(l="blue"),l&&n[l]){var c=n[l];a.setAttribute("data-action",c.short),a.style.cursor="pointer",a.addEventListener("click",function(t){if(!t.target||!t.target.classList.contains("tp-site-hint-sub")){var e=this.getAttribute("data-action");e&&cdt(e)}});var u=a.querySelector(".tp-site-hint-sub");u&&c.long&&(u.setAttribute("data-action",c.long),u.style.cursor="pointer",u.addEventListener("click",function(t){t.stopPropagation();var e=this.getAttribute("data-action");e&&cdt(e)})),a.addEventListener("mouseenter",function(){this.style.opacity="1",this.style.color="#ffffff"}),a.addEventListener("mouseleave",function(){this.style.opacity="",this.style.color=""})}}}}function Kpt(){Got("Returning to portal..."),window.location.href=Qdt+"/index.html?v="+encodeURIComponent(Zdt)}function Jpt(){var t=document.getElementById("tp-hints");if(t){for(var e={red:{short:"addressbar",long:"reload"},green:{short:"pointerMode",long:"editFocusedCard"},yellow:{short:"preferences",long:"addSite"},blue:{short:"diagnostics",long:"safeMode"}},r=t.querySelectorAll(".tp-hint"),n=0;n<r.length;n++){var o=r[n],i=o.querySelector(".tp-hint-key");if(i){var a=null;if(i.classList.contains("red")?a="red":i.classList.contains("green")?a="green":i.classList.contains("yellow")?a="yellow":i.classList.contains("blue")&&(a="blue"),a&&e[a]){var s=e[a];o.setAttribute("data-action",s.short),o.style.cursor="pointer",o.addEventListener("click",function(t){if(!t.target||!t.target.classList.contains("tp-hint-sub")){var e=this.getAttribute("data-action");e&&cdt(e)}});var l=o.querySelector(".tp-hint-sub");l&&s.long&&(l.setAttribute("data-action",s.long),l.style.cursor="pointer",l.addEventListener("click",function(t){t.stopPropagation();var e=this.getAttribute("data-action");e&&cdt(e)})),o.addEventListener("mouseenter",function(){this.style.opacity="1",this.style.color="#ffffff"}),o.addEventListener("mouseleave",function(){this.style.opacity="",this.style.color=""})}}}document.addEventListener("focusin",$pt),document.addEventListener("focusin",Zpt),$pt(),Zpt()}}function $pt(){var t=document.getElementById("tp-hint-yellow-text"),e=null,r=document.querySelector("#tp-hints .tp-hint-key.yellow");if(r&&r.parentNode){var n=r.parentNode.querySelector(".tp-hint-text");n&&(e=n.querySelector(".tp-hint-sub"))}if(t||e){if(nct()||uut())return t&&(t.textContent="Disabled"),void(e&&(e.textContent="Hold: Disabled"));t&&(t.textContent="Preferences"),e&&(e.textContent="Hold: Add Site")}}function Zpt(){var t=null,e=document.querySelector("#tp-hints .tp-hint-key.green");if(e&&e.parentNode){var r=e.parentNode.querySelector(".tp-hint-text");r&&(t=r.querySelector(".tp-hint-sub"))}t&&(nct()||uut()?t.textContent="Hold: Disabled":t.textContent="Hold: Edit Card")}function Qpt(t){return t&&t.hintsPosition?t.hintsPosition:t&&!1===t.showHints?"off":"bottom-left"}function tft(t,e){t&&(t.style.position="fixed",t.style.top="auto",t.style.bottom="auto",t.style.left="auto",t.style.right="auto","top-left"===e?(t.style.top="20px",t.style.left="60px"):"top-right"===e?(t.style.top="20px",t.style.right="60px"):"bottom-right"===e?(t.style.bottom="20px",t.style.right="60px"):(t.style.bottom="20px",t.style.left="60px"))}function eft(t){var e=document.getElementById("tp-hints");if(e){var r=t||"bottom-left";tft(e,r),e.style.display="off"===r?"none":"flex"}}function rft(t){if(t&&t.url){var e=(t.url||"").trim();if(lot(e)){t.url=e,Got("Navigating to site: "+t.url);var r=t.featureBundle||"default";nft("Loading "+(t.name||t.url)+" (bundle: "+r+")..."),ept("Launch: "+(t.name||t.url)+" | bundle: "+r),apt.currentCard=t,bpt(t),Got("[Config] Merging global tp_features into card for cross-origin navigation...");var n=Eot("tp_features")||{};for(var o in n)n.hasOwnProperty(o)&&("uaMode"!==o?null!==t[o]&&void 0!==t[o]||(t[o]=n[o],Got("[Config] Merged global "+o+": "+JSON.stringify(t[o]))):null!==t.userAgent&&void 0!==t.userAgent||(t.userAgent=n.uaMode,Got("[Config] Merged global uaMode -> card.userAgent: "+t.userAgent)));Got("[Config] Global merge complete"),gst(r);var i=gpt(t),a=t.url;try{var s={css:"",js:"",cardId:t.id||null,ua:i,viewportMode:t.hasOwnProperty("viewportMode")?t.viewportMode:null,focusOutlineMode:t.hasOwnProperty("focusOutlineMode")?t.focusOutlineMode:null,tabindexInjection:t.hasOwnProperty("tabindexInjection")?t.tabindexInjection:null,scrollIntoView:t.hasOwnProperty("scrollIntoView")?t.scrollIntoView:null,safeArea:t.hasOwnProperty("safeArea")?t.safeArea:null,gpuHints:t.hasOwnProperty("gpuHints")?t.gpuHints:null,cssReset:t.hasOwnProperty("cssReset")?t.cssReset:null,hideScrollbars:t.hasOwnProperty("hideScrollbars")?t.hideScrollbars:null,wrapTextInputs:t.hasOwnProperty("wrapTextInputs")?t.wrapTextInputs:null,focusStyling:t.hasOwnProperty("focusStyling")?t.focusStyling:null,focusTransitions:t.hasOwnProperty("focusTransitions")?t.focusTransitions:null,focusTransitionMode:t.hasOwnProperty("focusTransitionMode")?t.focusTransitionMode:null,focusTransitionSpeed:t.hasOwnProperty("focusTransitionSpeed")?t.focusTransitionSpeed:null,navigationFix:t.hasOwnProperty("navigationFix")?t.navigationFix:null,navigationMode:t.hasOwnProperty("navigationMode")?t.navigationMode:null,textScale:t.hasOwnProperty("textScale")?t.textScale:null,bundleOptions:t.bundleOptions||{},bundleOptionData:t.bundleOptionData||{},userscriptToggles:t.userscriptToggles||{},bundleUserscriptToggles:t.bundleUserscriptToggles||{},crossHistory:t.crossHistory||[],crossForward:t.crossForward||[]};s.bundleName=r,s.cardName=t.name,Got("Payload will include bundleName: "+r+" for target: "+a.substring(0,50));var l=JSON.stringify(s),c=btoa(unescape(encodeURIComponent(l))),u=a.indexOf("#"),d=-1===u?a:a.substring(0,u),p=-1===u?"":a.substring(u+1);/[?&]tp=/.test(d)||(d+=(-1===d.indexOf("?")?"?tp=":"&tp=")+c),p?/(^|[&?])tp=/.test(p)||(p+="&tp="+c):p="tp="+c,a=d+"#"+p,Got("Payload size: "+l.length+" bytes, encoded: "+c.length),ept("Payload: "+l.length+"b, encoded "+c.length+"b")}catch(t){Yot("Failed to encode payload: "+t.message)}Got("Final URL: "+a.substring(0,100)+"..."),apt.isPortalPage&&oft("Launching "+(t.name||t.url)+" (bundle: "+r+")..."),setTimeout(function(){window.location.href=a},250)}else Yot("Cannot load site: invalid URL scheme: "+t.url)}else Yot("Cannot load site: invalid card")}function nft(t,e){e=e||3e3;var r=document.getElementById("tp-toast");r||((r=document.createElement("div")).id="tp-toast",r.style.cssText="position:fixed;bottom:80px;left:50%;transform:translateX(-50%);background:rgba(0,0,0,0.95);color:#fff;padding:16px 32px;border-radius:12px;font-size:18px;z-index:2147483647;opacity:0;transition:opacity 0.3s;pointer-events:none;",document.body.appendChild(r)),r.textContent=t,r.classList.add("visible"),r.style.opacity="1",setTimeout(function(){r.classList.remove("visible"),r.style.opacity="0"},e)}function oft(t){if(apt.isPortalPage){var e=document.getElementById("tp-loading"),r=document.getElementById("tp-loading-text");e&&(r&&t&&(r.textContent=t),e.classList.add("active"))}}var ift={version:Zdt,get isPortalPage(){return apt.isPortalPage},log:Got,warn:Wot,error:Yot,config:{read:Pot,write:kot,get:Eot,set:Aot,onChange:Sot},keys:Rot,input:{isPointerMode:Nut,togglePointer:Mut,registerKeyHandler:function(t){return"function"!=typeof t?(console.warn("TizenPortal: registerKeyHandler requires a function"),function(){}):(odt.push(t),function(){var e=odt.indexOf(t);-1!==e&&odt.splice(e,1)})},isIMEActive:Jut,setExitKeyCapture:function(t){t&&!$dt?$dt=function(t){try{return!(!window.tizen||!tizen.tvinputdevice||tizen.tvinputdevice.getKey&&!tizen.tvinputdevice.getKey(t)||(tizen.tvinputdevice.registerKey(t),Got("Registered TV key: "+t),0))}catch(e){Wot("Failed to register TV key "+t+": "+e.message)}return!1}("Exit"):!t&&$dt&&(!function(t){try{return!(!window.tizen||!tizen.tvinputdevice||tizen.tvinputdevice.getKey&&!tizen.tvinputdevice.getKey(t)||(tizen.tvinputdevice.unregisterKey(t),Got("Unregistered TV key: "+t),0))}catch(e){Wot("Failed to unregister TV key "+t+": "+e.message)}}("Exit"),$dt=!1)},wrapTextInputs:qut,unwrapTextInputs:Zut,activateInput:Yut,deactivateInput:Xut},focus:{enableScrollIntoView:cat,disableScrollIntoView:uat,setScrollEnabled:function(t){t?cat():uat()},scrollElementIntoView:dat,setInitialFocus:pat,lockViewport:fat,unlockViewport:gat,observeDOM:hat,stopObservingDOM:mat},navigation:{navigate:function(t){if(!Ydt)return!1;if(window.navigate&&"function"==typeof window.navigate)try{return window.navigate(t),!0}catch(t){console.warn("TizenPortal [Navigation]: Error using window.navigate:",t)}if(window.SpatialNavigation&&"function"==typeof window.SpatialNavigation.navigate)try{return window.SpatialNavigation.navigate(t)}catch(t){console.warn("TizenPortal [Navigation]: Error using SpatialNavigation.navigate:",t)}var e;switch(t){case"left":e=37;break;case"up":e=38;break;case"right":e=39;break;case"down":e=40;break;default:return!1}try{var r=new KeyboardEvent("keydown",{keyCode:e,bubbles:!0});return(document.activeElement||document.body).dispatchEvent(r),!0}catch(t){return console.warn("TizenPortal [Navigation]: Error dispatching keyboard event:",t),!1}},focusElement:Xdt,focusFirst:function(t){if(!t)return!1;var e=t.querySelectorAll('a[href], button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])');return e.length>0&&Xdt(e[0])},focusLast:function(t){if(!t)return!1;var e=t.querySelectorAll('a[href], button:not([disabled]), input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"])');return e.length>0&&Xdt(e[e.length-1])},getFocusableElements:Kdt,focusRelative:Jdt,focusNext:function(t,e){return Jdt(Kdt(t),e,1)},focusPrevious:function(t,e){return Jdt(Kdt(t),e,-1)},getCurrentFocus:function(){return document.activeElement},scrollIntoViewIfNeeded:function(t,e){if(t){var r=(e=e||{}).behavior||"smooth",n=e.block||"nearest",o=e.inline||"nearest",i=t.getBoundingClientRect();if(!(i.top>=0&&i.left>=0&&i.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&i.right<=(window.innerWidth||document.documentElement.clientWidth))&&t.scrollIntoView)try{t.scrollIntoView({behavior:r,block:n,inline:o})}catch(e){t.scrollIntoView("start"===n)}}},setEnabled:function(t){Ydt=!!t},isEnabled:function(){return Ydt}},cards:{register:function(t){if(t&&t.selector){var e=t.type||"single";"single"!==e&&"multi"!==e&&(console.warn('TizenPortal [Cards]: Invalid type "'+e+'", defaulting to "single"'),e="single");for(var r=0;r<wdt.length;r++)if(wdt[r].selector===t.selector)return wdt[r].type=e,wdt[r].container=t.container,console.log("TizenPortal [Cards]: Updated registration for",t.selector),void Sdt();wdt.push({selector:t.selector,type:e,container:t.container||null}),console.log("TizenPortal [Cards]: Registered",t.selector,"as",e),Sdt()}else console.warn("TizenPortal [Cards]: Invalid registration - selector required")},unregister:function(t){for(var e=wdt.length-1;e>=0;e--)wdt[e].selector===t&&(wdt.splice(e,1),console.log("TizenPortal [Cards]: Unregistered",t))},clear:kdt,process:Sdt,getRegistrations:function(){return wdt.slice()}},elements:{register:function(t){if(!t||!t.selector)return console.warn("TizenPortal [Elements]: Invalid registration - selector required"),null;if(!t.operation)return console.warn("TizenPortal [Elements]: Invalid registration - operation required"),null;if(-1===Bdt.indexOf(t.operation))return console.warn('TizenPortal [Elements]: Invalid operation "'+t.operation+'". Valid operations: '+Bdt.join(", ")),!1;try{document.querySelector(t.selector)}catch(e){return console.warn('TizenPortal [Elements]: Invalid selector "'+t.selector+'": '+e.message),!1}var e="reg-"+ ++Ndt,r={id:e,selector:t.selector,operation:t.operation,container:t.container||null,config:_dt(t),condition:t.condition||null,immediate:t.immediate||!1,debounce:t.debounceMs||100,processed:0,lastProcessed:null};return Idt.push(r),console.log("TizenPortal [Elements]: Registered",t.operation,"for",t.selector,"(ID:",e,")"),1!==Idt.length||zdt||function(){if(zdt)return;if("undefined"==typeof MutationObserver)return console.warn("TizenPortal [Elements]: MutationObserver not available, using interval only"),void Vdt();zdt=new MutationObserver(function(t){for(var e=100,r=0;r<Idt.length;r++){var n=Idt[r];n&&"number"==typeof n.debounceMs&&n.debounceMs<e&&(e=n.debounceMs)}Hdt(e)}),zdt.observe(document.body,{childList:!0,subtree:!0}),console.log("TizenPortal [Elements]: Observer started"),Vdt()}(),t.immediate?Fdt():Hdt(t.debounceMs||100),e},unregister:function(t){if(t){for(var e=0,r=Idt.length-1;r>=0;r--){var n=Idt[r];if(n&&n.id===t){Idt.splice(r,1),e++;break}}e>0?(console.log("TizenPortal [Elements]: Unregistered registration",t),0===Idt.length&&qdt()):console.warn("TizenPortal [Elements]: No registration found for id",t)}else console.warn("TizenPortal [Elements]: Invalid unregister - id required")},clear:Ddt,process:Fdt,getRegistrations:function(){return Idt.slice()}},polyfills:{has:function(t){return-1!==Iot.indexOf(t)},loaded:function(){return Iot.slice()}},loadSite:rft,closeSite:function(){Got("Closing site, returning to portal"),Kpt()},returnToPortal:Kpt,addCurrentSiteAndReturn:function(){var t=null;try{var e=window.location.href,r=e.indexOf("#"),n=-1===r?e:e.substring(0,r),o=-1===r?"":e.substring(r);o&&("#"!==(o=o.replace(/^#tp=[^&]*/g,"").replace(/&tp=[^&]*/g,""))&&""!==o||(o=""));var i=n.indexOf("?"),a=n,s="";if(-1!==i&&(a=n.substring(0,i),s=n.substring(i+1))){for(var l=s.split("&"),c=[],u=0;u<l.length;u++)l[u]&&0!==l[u].indexOf("tp=")&&c.push(l[u]);s=c.length?c.join("&"):""}var d=a;s&&(d+="?"+s),o&&(d+=o);var p=document.title||d,f="";try{for(var g=document.querySelectorAll('link[rel~="icon"]'),h=0;h<g.length;h++)if(g[h].href){f=g[h].href;break}f||(f=window.location.origin+"/favicon.ico")}catch(t){f=tpt}var m={name:p,url:d,icon:f,featureBundle:apt.currentBundle||null};t=btoa(unescape(encodeURIComponent(JSON.stringify(m)))),Got("Prepared card for portal: "+p+" ("+d+") with bundle: "+(apt.currentBundle||"default")),nft("Adding site: "+p,2e3)}catch(t){Wot("Failed to prepare current site: "+t.message),nft("Failed to add site",2e3)}setTimeout(function(){var e=Qdt+"/index.html?v="+encodeURIComponent(Zdt);t&&(e+="#addcard="+t),window.location.href=e},600)},setPortalHintsVisible:function(t){var e=document.getElementById("tp-hints");if(e){var r=Qpt(Eot("tp_portal")||{});t?eft(r):e.style.display="none"}},setPortalHintsPosition:eft,updatePortalHints:function(){$pt(),Zpt()},getCurrentCard:function(){return apt.currentCard},bundles:{list:hst,getActive:function(){return udt},getActiveName:function(){return udt?udt.name||"unknown":null},get:gst,getManifest:function(t){var e=gst(t);return e?e.manifest:null}},features:{apply:Sct.applyFeatures,remove:Sct.removeFeatures,getAll:Sct.getFeatures,getConfig:Sct.getConfig,getDefaults:Sct.getDefaults,registry:Sct.registry,addNavigableSelector:Sct.addNavigableSelector},userscripts:{getConfig:Nst.getUserscriptsConfig,setConfig:Nst.setUserscriptsConfig,apply:Nst.applyUserscripts,clear:Nst.clearUserscripts,getEnabled:Nst.getEnabledGlobalUserscripts,getForPayload:Nst.getGlobalUserscriptsForPayload,registry:Sct.registry},registry:Sct.registry,showToast:nft,showLoading:oft,hideLoading:function(){if(apt.isPortalPage){var t=document.getElementById("tp-loading");t&&t.classList.remove("active")}},toggleSiteAddressBar:function(){Sit()},toggleSiteDiagnostics:function(){oit()},_portalFaviconUrl:tpt,getState:function(){return{initialized:apt.initialized,isPortalPage:apt.isPortalPage,currentCard:apt.currentCard,currentBundle:apt.currentBundle,siteActive:apt.siteActive}},registerBundleMatcher:Tpt,_internal:{state:apt,init:Ept}};return Object.defineProperty(ift,"_featureLoader",{value:Sct,writable:!1,configurable:!1,enumerable:!1}),window.TizenPortal=ift,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",Ept):Ept(),ift}();
