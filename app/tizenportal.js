var TizenPortal=function(){"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=Array(e);n<e;n++)o[n]=t[n];return o}function e(t,e,n,o,i,r,a){try{var l=t[r](a),c=l.value}catch(t){return void n(t)}l.done?e(c):Promise.resolve(c).then(o,i)}function n(e,n){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=function(e,n){if(e){if("string"==typeof e)return t(e,n);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?t(e,n):void 0}}(e))||n){o&&(e=o);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,c=!1;return{s:function(){o=o.call(e)},n:function(){var t=o.next();return l=t.done,t},e:function(t){c=!0,a=t},f:function(){try{l||null==o.return||o.return()}finally{if(c)throw a}}}}function o(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */
var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function l(n,o,r,a){var l=o&&o.prototype instanceof u?o:u,d=Object.create(l.prototype);return i(d,"_invoke",function(n,o,i){var r,a,l,u=0,d=i||[],s=!1,f={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return r=e,a=0,l=t,f.n=n,c}};function h(n,o){for(a=n,l=o,e=0;!s&&u&&!i&&e<d.length;e++){var i,r=d[e],h=f.p,m=r[2];n>3?(i=m===o)&&(l=r[(a=r[4])?5:(a=3,3)],r[4]=r[5]=t):r[0]<=h&&((i=n<2&&h<r[1])?(a=0,f.v=o,f.n=r[1]):h<m&&(i=n<3||r[0]>o||o>m)&&(r[4]=n,r[5]=o,f.n=m,a=0))}if(i||n>1)return c;throw s=!0,o}return function(i,d,m){if(u>1)throw TypeError("Generator is already running");for(s&&1===d&&h(d,m),a=d,l=m;(e=a<2?t:l)||!s;){r||(a?a<3?(a>1&&(f.n=-1),h(a,l)):f.n=l:f.v=l);try{if(u=2,r){if(a||(i="next"),e=r[i]){if(!(e=e.call(r,l)))throw TypeError("iterator result is not an object");if(!e.done)return e;l=e.value,a<2&&(a=0)}else 1===a&&(e=r.return)&&e.call(r),a<2&&(l=TypeError("The iterator does not provide a '"+i+"' method"),a=1);r=t}else if((e=(s=f.n<0)?l:n.call(o,f))!==c)break}catch(e){r=t,a=1,l=e}finally{u=1}}return{value:e,done:s}}}(n,r,a),!0),d}var c={};function u(){}function d(){}function s(){}e=Object.getPrototypeOf;var f=[][r]?e(e([][r]())):(i(e={},r,function(){return this}),e),h=s.prototype=u.prototype=Object.create(f);function m(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,s):(t.__proto__=s,i(t,a,"GeneratorFunction")),t.prototype=Object.create(h),t}return d.prototype=s,i(h,"constructor",s),i(s,"constructor",d),d.displayName="GeneratorFunction",i(s,a,"GeneratorFunction"),i(h),i(h,a,"Generator"),i(h,r,function(){return this}),i(h,"toString",function(){return"[object Generator]"}),(o=function(){return{w:l,m:m}})()}function i(t,e,n,o){var r=Object.defineProperty;try{r({},"",{})}catch(t){r=0}i=function(t,e,n,o){function a(e,n){i(t,e,function(t){return this._invoke(e,n,t)})}e?r?r(t,e,{value:n,enumerable:!o,configurable:!o,writable:!o}):t[e]=n:(a("next",0),a("throw",1),a("return",2))},i(t,e,n,o)}function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}!function(){if(!("navigate"in window)){var t={37:"left",38:"up",39:"right",40:"down"},e=null,o=null,i={element:null,rect:null},a=null;window.navigate=c,window.Element.prototype.spatialNavigationSearch=h,window.Element.prototype.focusableAreas=v,window.Element.prototype.getSpatialNavigationContainer=w,window.CSS&&CSS.registerProperty&&(""===window.getComputedStyle(document.documentElement).getPropertyValue("--spatial-navigation-contain")&&CSS.registerProperty({name:"--spatial-navigation-contain",syntax:"auto | contain",inherits:!1,initialValue:"auto"}),""===window.getComputedStyle(document.documentElement).getPropertyValue("--spatial-navigation-action")&&CSS.registerProperty({name:"--spatial-navigation-action",syntax:"auto | focus | scroll",inherits:!1,initialValue:"auto"}),""===window.getComputedStyle(document.documentElement).getPropertyValue("--spatial-navigation-function")&&CSS.registerProperty({name:"--spatial-navigation-function",syntax:"normal | grid",inherits:!1,initialValue:"normal"})),X(!1),window.addEventListener("load",()=>{l()})}function l(){window.addEventListener("keydown",n=>{var i=parent&&parent.__spatialNavigation__.keyMode||window.__spatialNavigation__.keyMode,r=document.activeElement,a=t[n.keyCode];if(9===n.keyCode&&(o=null),!(!i||"NONE"===i||"SHIFTARROW"===i&&!n.shiftKey||"ARROW"===i&&n.shiftKey||n.defaultPrevented)){var l={left:!0,up:!0,right:!0,down:!0};"INPUT"!==r.nodeName&&"TEXTAREA"!==r.nodeName||(l=function(e){var n=["email","date","month","number","time","week"],o=["password","text","search","tel","url",null],i=document.activeElement,r={left:!1,up:!1,right:!1,down:!1},a=t[e.keyCode];if(void 0===a)return r;if(!n.includes(i.getAttribute("type"))||"up"!==a&&"down"!==a)if(o.includes(i.getAttribute("type"))||"TEXTAREA"===i.nodeName){var l=i.selectionStart,c=i.selectionEnd;l===c&&(0===l&&(r.left=!0,r.up=!0),c===i.value.length&&(r.right=!0,r.down=!0))}else r[a]=!0;else r[a]=!0;return r}(n)),l[a]&&(n.preventDefault(),e=new Map,c(a),e=null,o=null)}}),document.addEventListener("mouseup",t=>{o={x:t.clientX,y:t.clientY}}),window.addEventListener("focusin",t=>{t.target!==window&&(i.element=t.target,i.rect=t.target.getBoundingClientRect())})}function c(t){var e=function(){var t=document.activeElement;if(!t||t===document.body&&!document.querySelector(":focus")){if(i.element&&t!==i.element){var e=window.getComputedStyle(i.element,null),n=["hidden","collapse"];if(i.element.disabled||n.includes(e.getPropertyValue("visibility")))return t=i.element}t=document.documentElement}!i.element||0!==J(i.element).height&&0!==J(i.element).width||(a=i.rect);if(!z(t)){var o=y(t);if(o&&(o===window||"auto"===P(o)))return o}return t}(),n=e,r=null;o&&(null===(r=document.elementFromPoint(o.x,o.y))&&(r=document.body),R(r)&&!x(r)?o=null:n=x(r)?r:r.getSpatialNavigationContainer()),n!==document&&n!==document.documentElement||(n=document.body||document.documentElement);var l=null;if((x(n)||"BODY"===n.nodeName)&&"INPUT"!==n.nodeName){"IFRAME"===n.nodeName&&(n=n.contentDocument.documentElement),l=n;if(document.activeElement===e||document.activeElement===document.body&&e===document.documentElement){if("scroll"===P(n)){if(d(n,t))return}else if("focus"===P(n)){if(u(n.spatialNavigationSearch(t,{container:n,candidates:s(n,{mode:"all"})}),t))return}else if("auto"===P(n)&&(u(n.spatialNavigationSearch(t,{container:n}),t)||d(n,t)))return}else l=l.getSpatialNavigationContainer()}var c=(l=n.getSpatialNavigationContainer()).parentElement?l.getSpatialNavigationContainer():null;if(c||window.location===window.parent.location||(c=window.parent.document.documentElement),"scroll"===P(l)){if(d(l,t))return}else"focus"===P(l)?N(n,l,c,t,"all"):"auto"===P(l)&&N(n,l,c,t,"visible")}function u(t,e){if(t){if(!b("beforefocus",t,null,e))return!0;var n=t.getSpatialNavigationContainer();return n!==window&&"focus"===P(n)?t.focus():t.focus({preventScroll:!0}),o=null,!0}return!1}function d(t,e){return O(t,e)&&!k(t,e)?(T(t,e),!0):!t.parentElement&&!A(t,e)&&(T(t.ownerDocument.documentElement,e),!0)}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{mode:"visible"},o=[];if(t.childElementCount>0){t.parentElement||(t=t.getElementsByTagName("body")[0]||document.body);var i,r=n(t.children);try{for(r.s();!(i=r.n()).done;){var a=i.value;S(a)?o.push(a):R(a)?(o.push(a),!x(a)&&a.childElementCount&&(o=o.concat(s(a,{mode:"all"})))):a.childElementCount&&(o=o.concat(s(a,{mode:"all"})))}}catch(t){r.e(t)}finally{r.f()}}return"all"===e.mode?o:o.filter(_)}function f(t,e,n,o){var i=t;return o=o||i.getSpatialNavigationContainer(),m(i,n=!n||n.length<=0?s(o):n,e,o)}function h(t,e){var n,i=this,r=[],l=[],c=function(t){var e=t.getSpatialNavigationContainer(),n=e.focusableAreas(),o=[];return n.forEach(e=>{t!==e&&I(e,t)&&o.push(e)}),o}(i);e||(e={});var u=i.getSpatialNavigationContainer(),d=s(u),h=e.container||u;e.container&&u.contains(e.container)&&(d=d.concat(s(h)));var m=e.candidates&&e.candidates.length>0?e.candidates.filter(t=>h.contains(t)):d.filter(t=>h.contains(t)&&h!==t);if(m&&m.length>0){m.forEach(t=>{t!==i&&(i.contains(t)&&i!==t?r:l).push(t)});var w=c.filter(t=>!r.includes(t)),y=m.filter(t=>x(t)&&I(i,t)).map(t=>t.focusableAreas()).flat().filter(t=>t!==i);if(r=r.concat(w).filter(t=>h.contains(t)),(l=l.concat(y).filter(t=>h.contains(t))).length>0&&(l=f(i,t,l,h)),a&&(n=p(i,f(i,t,r,h),t)),r&&r.length>0&&"INPUT"!==i.nodeName&&(n=function(t,e,n){return g(t,e,n,o?W:H)}(i,r,t)),(n=n||p(i,l,t))&&S(n)){var v=s(n,{mode:"all"}),b=v.length>0?i.spatialNavigationSearch(t,{candidates:v,container:n}):null;b?n=b:R(n)||(m.splice(m.indexOf(n),1),n=m.length?i.spatialNavigationSearch(t,{candidates:m,container:h}):null)}return n}return null}function m(t,e,n,o){var i,r=t.getSpatialNavigationContainer();return void 0===n?e:(i=r.parentElement&&o!==r&&!_(t)?J(r):a||J(t),!x(t)&&"BODY"!==t.nodeName||"INPUT"===t.nodeName?e.filter(e=>{var r=J(e),a="IFRAME"===e.nodeName?e.contentDocument.body:null;return o.contains(e)&&e!==t&&a!==t&&U(r,i,n)&&!L(i,r)}):e.filter(e=>{var r=J(e);return o.contains(e)&&(t.contains(e)&&L(i,r)&&e!==t||U(r,i,n))}))}function p(t,e,n){var o,i,r=t.getSpatialNavigationContainer(),l=getComputedStyle(r).getPropertyValue("--spatial-navigation-function"),c=a||J(t);if("grid"===l)(i=e.filter(t=>j(c,J(t),n))).length>0&&(e=i),o=G;else o=V;return g(t,e,n,o)}function g(t,e,n,o){var i=null;window.location===window.parent.location||"BODY"!==t.nodeName&&"HTML"!==t.nodeName?i=a||t.getBoundingClientRect():((i=window.frameElement.getBoundingClientRect()).x=0,i.y=0);var r=Number.POSITIVE_INFINITY,l=[];if(e)for(var c=0;c<e.length;c++){var u=o(i,J(e[c]),n);u<r?(r=u,l=[e[c]]):u===r&&l.push(e[c])}return 0===l.length?null:l.length>1&&o===G?g(t,l,n,Y):l[0]}function w(){var t=this;do{if(!t.parentElement){t=window.location!==window.parent.location?window.parent.document.documentElement:window.document.documentElement;break}t=t.parentElement}while(!x(t));return t}function y(t){var e=t;do{if(!e.parentElement){e=window.location!==window.parent.location?window.parent.document.documentElement:window.document.documentElement;break}e=e.parentElement}while(!M(e)||!_(e));return e!==document&&e!==document.documentElement||(e=window),e}function v(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{mode:"visible"},e=this.parentElement?this:document.body,n=Array.prototype.filter.call(e.getElementsByTagName("*"),R);return"all"===t.mode?n:n.filter(_)}function b(t,e,n,o){if(["beforefocus","notarget"].includes(t)){var i=new CustomEvent("nav"+t,{bubbles:!0,cancelable:!0,detail:{causedTarget:n,dir:o}});return e.dispatchEvent(i)}}function E(t,e){return(t.style.getPropertyValue(`--${e}`)||"").trim()}function P(t){return E(t,"spatial-navigation-action")||"auto"}function N(t,e,n,o,i){for(var r={candidates:s(e,{mode:i}),container:e};n;){if(u(t.spatialNavigationSearch(o,r),o))return;if("visible"===i&&d(e,o))return;if(!b("notarget",e,t,o))return;e===document||e===document.documentElement?window.location!==window.parent.location&&(e=(t=window.frameElement).ownerDocument.documentElement):e=n,r={candidates:s(e,{mode:i}),container:e};var a=e.getSpatialNavigationContainer();n=a!==e?a:null}r={candidates:s(e,{mode:i}),container:e},!n&&e&&u(t.spatialNavigationSearch(o,r),o)||b("notarget",r.container,t,o)&&("auto"!==P(e)||"visible"!==i||d(e,o))}function T(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(t)switch(e){case"left":t.scrollLeft-=40+n;break;case"right":t.scrollLeft+=40+n;break;case"up":t.scrollTop-=40+n;break;case"down":t.scrollTop+=40+n}}function x(t){return!t.parentElement||"IFRAME"===t.nodeName||M(t)||function(t){return"contain"===E(t,"spatial-navigation-contain")}(t)}function S(t){return"delegable"===E(t,"spatial-navigation-contain")}function M(t){var e=window.getComputedStyle(t,null),n=e.getPropertyValue("overflow-x"),o=e.getPropertyValue("overflow-y");return!!("visible"!==n&&"clip"!==n&&C(t,"left")||"visible"!==o&&"clip"!==o&&C(t,"down"))}function O(t,e){if(t&&"object"===r(t)){if(e&&"string"==typeof e){if(C(t,e)){var n=window.getComputedStyle(t,null),o=n.getPropertyValue("overflow-x"),i=n.getPropertyValue("overflow-y");switch(e){case"left":case"right":return"visible"!==o&&"clip"!==o&&"hidden"!==o;case"up":case"down":return"visible"!==i&&"clip"!==i&&"hidden"!==i}}return!1}return"HTML"===t.nodeName||"BODY"===t.nodeName||M(t)&&C(t)}}function C(t,e){if(t&&"object"===r(t)){if(!e||"string"!=typeof e)return t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight;switch(e){case"left":case"right":return t.scrollWidth>t.clientWidth;case"up":case"down":return t.scrollHeight>t.clientHeight}return!1}}function A(t,e){var n=!1;switch(e){case"left":n=0===t.scrollLeft;break;case"right":n=t.scrollWidth-t.scrollLeft-t.clientWidth===0;break;case"up":n=0===t.scrollTop;break;case"down":n=t.scrollHeight-t.scrollTop-t.clientHeight===0}return n}function k(t,e){if(O(t,e)){var n=t.scrollTop,o=t.scrollLeft,i=t.scrollHeight-t.clientHeight,r=t.scrollWidth-t.clientWidth;switch(e){case"left":return 0===o;case"right":return Math.abs(o-r)<=1;case"up":return 0===n;case"down":return Math.abs(n-i)<=1}}return!1}function z(t){var e=t.getBoundingClientRect(),n=y(t),o=null;return!(!L(o=n!==window?J(n):new DOMRect(0,0,window.innerWidth,window.innerHeight),e)||!L(o,e))}function R(t){return!(t.tabIndex<0||function(t){return"A"===t.tagName&&null===t.getAttribute("href")&&null===t.getAttribute("tabIndex")}(t)||function(t){return!!["BUTTON","INPUT","SELECT","TEXTAREA","OPTGROUP","OPTION","FIELDSET"].includes(t.tagName)&&t.disabled}(t)||function(t){return t.inert&&!t.ownerDocument.documentElement.inert}(t)||!function(t){return!!D(t.parentElement)&&!(!D(t)||"0"===t.style.opacity||"0px"===window.getComputedStyle(t).height||"0px"===window.getComputedStyle(t).width)}(t))&&(!!(!t.parentElement||O(t)&&C(t)||t.tabIndex>=0)||void 0)}function _(t){return!t.parentElement||D(t)&&function(t){var e=J(t);if("IFRAME"!==t.nodeName&&(e.top<0||e.left<0||e.top>t.ownerDocument.documentElement.clientHeight||e.left>t.ownerDocument.documentElement.clientWidth))return!1;var n=parseInt(t.offsetWidth)/10,o=parseInt(t.offsetHeight)/10;n=isNaN(n)?1:n,o=isNaN(o)?1:o;var i={middle:[(e.left+e.right)/2,(e.top+e.bottom)/2],leftTop:[e.left+n,e.top+o],rightBottom:[e.right-n,e.bottom-o]};for(var r in i){var a=t.ownerDocument.elementFromPoint(...i[r]);if(t===a||t.contains(a))return!0}return!1}(t)}function I(t,e){var n=J(t),o=J(e||t.getSpatialNavigationContainer());return!(n.left<o.left||n.right>o.right||n.top<o.top||n.bottom>o.bottom)}function D(t){var e=window.getComputedStyle(t,null),n=e.getPropertyValue("visibility");return"none"!==e.getPropertyValue("display")&&!["hidden","collapse"].includes(n)}function L(t,e){var n=t.left<=e.right&&t.right>=e.right,o=t.left<=e.left&&t.right>=e.left,i=t.top<=e.top&&t.bottom>=e.top,r=t.top<=e.bottom&&t.bottom>=e.bottom;return(n||o)&&(i||r)}function U(t,e,n){switch(n){case"left":return F(e,t);case"right":return F(t,e);case"up":return B(e,t);case"down":return B(t,e);default:return!1}}function F(t,e){return t.left>=e.right||t.left>=e.left&&t.right>e.right&&t.bottom>e.top&&t.top<e.bottom}function B(t,e){return t.top>=e.bottom||t.top>=e.top&&t.bottom>e.bottom&&t.left<e.right&&t.right>e.left}function j(t,e,n){switch(n){case"left":case"right":return t.bottom>e.top&&t.top<e.bottom;case"up":case"down":return t.right>e.left&&t.left<e.right;default:return!1}}function W(t,e,n){var i=q(n,o,e),r=Math.abs(i.entryPoint.x-i.exitPoint.x),a=Math.abs(i.entryPoint.y-i.exitPoint.y);return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}function H(t,e,n){var o={left:"right",right:"left",up:"bottom",down:"top"}[n];return Math.abs(t[o]-e[o])}function V(t,e,n){var o,i,r=0,a=0,l=q(n,t,e),c=Math.abs(l.entryPoint.x-l.exitPoint.x),u=Math.abs(l.entryPoint.y-l.exitPoint.y),d=Math.sqrt(Math.pow(c,2)+Math.pow(u,2)),s=function(t,e){var n={width:0,height:0,area:0},o=[Math.max(t.left,e.left),Math.max(t.top,e.top)],i=[Math.min(t.right,e.right),Math.min(t.bottom,e.bottom)];n.width=Math.abs(o[0]-i[0]),n.height=Math.abs(o[1]-i[1]),o[0]>=i[0]||o[1]>=i[1]||(n.area=Math.sqrt(n.width*n.height));return n}(t,e),f=s.area;switch(n){case"left":case"right":j(t,e,n)?a=Math.min(s.height/t.height,1):r=t.height/2,o=30*(u+r),i=5*a;break;case"up":case"down":j(t,e,n)?a=Math.min(s.width/t.width,1):r=t.width/2,o=2*(c+r),i=5*a;break;default:o=0,i=0}return d+o-i-f}function Y(t,e,n){var o=q(n,t,e),i=Math.abs(o.entryPoint.x-o.exitPoint.x),r=Math.abs(o.entryPoint.y-o.exitPoint.y);return Math.sqrt(Math.pow(i,2)+Math.pow(r,2))}function G(t,e,n){var o=q(n,t,e);return"left"===n||"right"===n?Math.abs(o.entryPoint.x-o.exitPoint.x):Math.abs(o.entryPoint.y-o.exitPoint.y)}function q(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"down",e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i={entryPoint:{x:0,y:0},exitPoint:{x:0,y:0}};if(o){switch(i.exitPoint=e,t){case"left":i.entryPoint.x=n.right;break;case"up":i.entryPoint.y=n.bottom;break;case"right":i.entryPoint.x=n.left;break;case"down":i.entryPoint.y=n.top}switch(t){case"left":case"right":o.y<=n.top?i.entryPoint.y=n.top:o.y<n.bottom?i.entryPoint.y=o.y:i.entryPoint.y=n.bottom;break;case"up":case"down":o.x<=n.left?i.entryPoint.x=n.left:o.x<n.right?i.entryPoint.x=o.x:i.entryPoint.x=n.right}}else{switch(t){case"left":i.exitPoint.x=e.left,i.entryPoint.x=n.right<e.left?n.right:e.left;break;case"up":i.exitPoint.y=e.top,i.entryPoint.y=n.bottom<e.top?n.bottom:e.top;break;case"right":i.exitPoint.x=e.right,i.entryPoint.x=n.left>e.right?n.left:e.right;break;case"down":i.exitPoint.y=e.bottom,i.entryPoint.y=n.top>e.bottom?n.top:e.bottom}switch(t){case"left":case"right":B(e,n)?(i.exitPoint.y=e.top,i.entryPoint.y=n.bottom<e.top?n.bottom:e.top):B(n,e)?(i.exitPoint.y=e.bottom,i.entryPoint.y=n.top>e.bottom?n.top:e.bottom):(i.exitPoint.y=Math.max(e.top,n.top),i.entryPoint.y=i.exitPoint.y);break;case"up":case"down":F(e,n)?(i.exitPoint.x=e.left,i.entryPoint.x=n.right<e.left?n.right:e.left):F(n,e)?(i.exitPoint.x=e.right,i.entryPoint.x=n.left>e.right?n.left:e.right):(i.exitPoint.x=Math.max(e.left,n.left),i.entryPoint.x=i.exitPoint.x)}}return i}function J(t){var n=e&&e.get(t);if(!n){var o=t.getBoundingClientRect();n={top:Number(o.top.toFixed(2)),right:Number(o.right.toFixed(2)),bottom:Number(o.bottom.toFixed(2)),left:Number(o.left.toFixed(2)),width:Number(o.width.toFixed(2)),height:Number(o.height.toFixed(2))},e&&e.set(t,n)}return n}function X(t){var e=window.__spatialNavigation__&&window.__spatialNavigation__.keyMode;window.__spatialNavigation__=!1===t?K():Object.assign(K(),function(){function t(t,e){return O(t,e)&&!k(t,e)||!t.parentElement&&!A(t,e)}function e(e,n,o,i){var r=n,a=null;if(r!==document&&r!==document.documentElement||(r=document.body||document.documentElement),(x(r)||"BODY"===r.nodeName)&&"INPUT"!==r.nodeName){"IFRAME"===r.nodeName&&(r=r.contentDocument.body);var l=s(r,i);if(Array.isArray(l)&&l.length>0)return e?f(r,o,l):r.spatialNavigationSearch(o,{candidates:l});if(t(r,o))return e?[]:r}var c=r.getSpatialNavigationContainer(),u=c.parentElement?c.getSpatialNavigationContainer():null;for(u||window.location===window.parent.location||(u=window.parent.document.documentElement);u;){var d=m(r,s(c,i),o,c);if(Array.isArray(d)&&d.length>0){if(a=r.spatialNavigationSearch(o,{candidates:d,container:c}))return e?d:a}else{if(t(c,o))return e?[]:r;if(c===document||c===document.documentElement){if(c=window.document.documentElement,window.location!==window.parent.location){if(r=window.frameElement,!(c=window.parent.document.documentElement).parentElement){u=null;break}u=c.getSpatialNavigationContainer()}}else{if(R(c)&&(r=c),!(c=u).parentElement){u=null;break}u=c.getSpatialNavigationContainer()}}}if(!u&&c){var h=m(r,s(c,i),o,c);if(Array.isArray(h)&&h.length>0&&(a=r.spatialNavigationSearch(o,{candidates:h,container:c})))return e?h:a}if(t(c,o))return r}return{isContainer:x,isScrollContainer:M,isVisibleInScroller:z,findCandidates:e.bind(null,!0),findNextTarget:e.bind(null,!1),getDistanceFromTarget:(t,e,n)=>(x(t)||"BODY"===t.nodeName)&&"INPUT"!==t.nodeName&&s(t).includes(e)?H(J(t),J(e),n):V(J(t),J(e),n)}}()),window.__spatialNavigation__.keyMode=e,Object.seal(window.__spatialNavigation__)}function K(){return{enableExperimentalAPIs:X,get keyMode(){return this._keymode?this._keymode:"ARROW"},set keyMode(t){this._keymode=["SHIFTARROW","ARROW","NONE"].includes(t)?t:"ARROW"},setStartingPoint:function(t,e){o=t&&e?{x:t,y:e}:null}}}}();var a="tp-configuration",l={pointerMode:!1,focusHighlight:!0,safeMode:!1,lastVisitedUrl:null,diagnosticsEnabled:!1},c=null,u=[];function d(){if(null!==c)return c;try{var t=localStorage.getItem(a);if(t)for(var e in c=JSON.parse(t),l)l.hasOwnProperty(e)&&!c.hasOwnProperty(e)&&(c[e]=l[e]);else c=Object.assign({},l)}catch(t){console.error("TizenPortal: Failed to load config:",t),c=Object.assign({},l)}return c}function s(){d()}function f(t){var e=d();return e.hasOwnProperty(t)?e[t]:void 0}function h(t,e){var n=d(),o=n[t];o!==e&&(n[t]=e,function(){if(null!==c)try{localStorage.setItem(a,JSON.stringify(c))}catch(t){console.error("TizenPortal: Failed to save config:",t),"QuotaExceededError"===t.name&&console.warn("TizenPortal: Storage quota exceeded")}}(),function(t,e,n){for(var o={key:t,value:e,oldValue:n},i=0;i<u.length;i++)try{u[i](o)}catch(t){console.error("TizenPortal: Config change listener error:",t)}}(t,e,o))}var m=[];function p(){return m=[],"function"!=typeof window.DOMRect&&(window.DOMRect=function(t,e,n,o){this.x=t||0,this.y=e||0,this.width=n||0,this.height=o||0,this.top=this.y,this.left=this.x,this.bottom=this.y+this.height,this.right=this.x+this.width},window.DOMRect.prototype.toJSON=function(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.top,left:this.left,bottom:this.bottom,right:this.right}},window.DOMRect.fromRect=function(t){return t=t||{},new window.DOMRect(t.x,t.y,t.width,t.height)},1)&&m.push("DOMRect"),"function"!=typeof window.DOMRectReadOnly&&(window.DOMRectReadOnly=function(t,e,n,o){this.x=t||0,this.y=e||0,this.width=n||0,this.height=o||0,this.top=this.y,this.left=this.x,this.bottom=this.y+this.height,this.right=this.x+this.width},window.DOMRectReadOnly.prototype.toJSON=function(){return{x:this.x,y:this.y,width:this.width,height:this.height,top:this.top,left:this.left,bottom:this.bottom,right:this.right}},window.DOMRectReadOnly.fromRect=function(t){return t=t||{},new window.DOMRectReadOnly(t.x,t.y,t.width,t.height)},1)&&m.push("DOMRectReadOnly"),!Element.prototype.matches&&(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=e.length;--n>=0&&e.item(n)!==this;);return n>-1},1)&&m.push("Element.matches"),!Element.prototype.closest&&(Element.prototype.closest=function(t){for(var e=this;e&&1===e.nodeType;){if(e.matches(t))return e;e=e.parentElement||e.parentNode}return null},1)&&m.push("Element.closest"),!Array.prototype.includes&&(Array.prototype.includes=function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),o=n.length>>>0;if(0===o)return!1;for(var i=0|e,r=Math.max(i>=0?i:o-Math.abs(i),0);r<o;){if(n[r]===t)return!0;r++}return!1},1)&&m.push("Array.includes"),!Object.entries&&(Object.entries=function(t){for(var e=Object.keys(t),n=e.length,o=new Array(n);n--;)o[n]=[e[n],t[e[n]]];return o},1)&&m.push("Object.entries"),!Object.values&&(Object.values=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n]);return e},1)&&m.push("Object.values"),!String.prototype.startsWith&&(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t},1)&&m.push("String.startsWith"),!String.prototype.endsWith&&(String.prototype.endsWith=function(t,e){return(void 0===e||e>this.length)&&(e=this.length),this.substring(e-t.length,e)===t},1)&&m.push("String.endsWith"),m}var g={LEFT:37,UP:38,RIGHT:39,DOWN:40,ENTER:13,EXIT:10182,RED:403,GREEN:404,YELLOW:405,BLUE:406,PLAY:415,PAUSE:19,PLAY_PAUSE:10252,STOP:413,REWIND:412,FAST_FORWARD:417,TRACK_PREVIOUS:10232,TRACK_NEXT:10233,VOLUME_UP:447,VOLUME_DOWN:448,MUTE:449,CHANNEL_UP:427,CHANNEL_DOWN:428,NUM_0:48,NUM_1:49,NUM_2:50,NUM_3:51,NUM_4:52,NUM_5:53,NUM_6:54,NUM_7:55,NUM_8:56,NUM_9:57,IME_DONE:65376,IME_CANCEL:65385,INFO:457,GUIDE:458,SOURCE:10072,MENU:10133,TOOLS:10135},w={short:"addressbar",long:"reload"},y={short:"pointerMode",long:"focusHighlight"},v={short:"bundleMenu",long:"cycleBundle"},b={short:"diagnostics",long:"safeMode"};function E(t){return t===g.RED||t===g.GREEN||t===g.YELLOW||t===g.BLUE}var P={},N=!1,T=[];function x(){document.addEventListener("keydown",S,!0),document.addEventListener("keyup",M,!0),console.log("TizenPortal: Input handler initialized")}function S(t){var e=t.keyCode;t.repeat||(P[e]=Date.now());var n=function(t){for(var e in g)if(g.hasOwnProperty(e)&&g[e]===t)return e;return null}(e);if(n&&console.log("TizenPortal: Key down - "+n+" ("+e+")"),e!==g.IME_DONE&&e!==g.IME_CANCEL){if(!N||E(e)){for(var o=0;o<T.length;o++)try{if(!0===T[o](t))return t.preventDefault(),void t.stopPropagation()}catch(t){console.error("TizenPortal: Custom key handler error:",t)}if(E(e))return t.preventDefault(),void t.stopPropagation();g.ENTER}}else N=!1}function M(t){var e=t.keyCode,n=P[e]||Date.now(),o=Date.now()-n>=500;if(delete P[e],E(e))return t.preventDefault(),t.stopPropagation(),void function(t,e){var n=null;switch(t){case g.RED:n=e?w.long:w.short;break;case g.GREEN:n=e?y.long:y.short;break;case g.YELLOW:n=e?v.long:v.short;break;case g.BLUE:n=e?b.long:b.short}n&&(console.log("TizenPortal: Color button action - "+n),function(t){switch(t){case"addressbar":console.log("TizenPortal: Address bar (not implemented)"),window.TizenPortal&&window.TizenPortal.showToast("Address bar - coming soon");break;case"reload":var e=document.getElementById("tp-iframe");e&&e.contentWindow&&(e.contentWindow.location.reload(),window.TizenPortal&&window.TizenPortal.showToast("Reloading..."));break;case"pointerMode":var n=f("pointerMode")||!1;h("pointerMode",!n),window.TizenPortal&&window.TizenPortal.showToast("Mouse mode: "+(n?"OFF":"ON"));break;case"focusHighlight":var o=f("focusHighlight");void 0===o&&(o=!0),h("focusHighlight",!o),window.TizenPortal&&window.TizenPortal.showToast("Focus highlight: "+(o?"OFF":"ON"));break;case"bundleMenu":console.log("TizenPortal: Bundle menu (not implemented)"),window.TizenPortal&&window.TizenPortal.showToast("Bundle menu - coming soon");break;case"cycleBundle":console.log("TizenPortal: Cycle bundle (not implemented)"),window.TizenPortal&&window.TizenPortal.showToast("Cycle bundle - coming soon");break;case"diagnostics":console.log("TizenPortal: Diagnostics (not implemented)"),window.TizenPortal&&window.TizenPortal.showToast("Diagnostics - coming soon");break;case"safeMode":h("safeMode",!0),window.TizenPortal&&window.TizenPortal.showToast("Entering safe mode..."),setTimeout(function(){window.location.reload()},500);break;default:console.warn("TizenPortal: Unknown color action:",t)}}(n))}(e,o)}var O="tp_apps",C=null;function A(){for(var t="0123456789abcdef",e=[8,4,4,4,12],n=[],o=0;o<e.length;o++){for(var i="",r=0;r<e[o];r++)i+=t.charAt(Math.floor(16*Math.random()));n.push(i)}return n.join("-")}function k(){if(null!==C)return C;try{var t=localStorage.getItem(O);t?(C=JSON.parse(t),Array.isArray(C)||(C=[])):C=[]}catch(t){console.error("TizenPortal: Failed to load cards:",t),C=[]}return C}function z(){return k().slice()}function R(t){var e=k(),n={id:A(),name:t.name||"Untitled",url:t.url||"",bundle:t.bundle||"default",userAgent:t.userAgent||"tizen",icon:null,order:e.length,createdAt:Date.now(),updatedAt:Date.now()};return e.push(n),C=e,function(){if(null!==C)try{localStorage.setItem(O,JSON.stringify(C))}catch(t){console.error("TizenPortal: Failed to save cards:",t),"QuotaExceededError"===t.name&&console.warn("TizenPortal: Storage quota exceeded")}}(),n}var _=null,I=null,D=0;function L(){_=document.getElementById("tp-portal"),I=document.getElementById("tp-grid"),_&&I?(U(),H(0)):console.error("TizenPortal: Portal elements not found")}function U(){if(I){I.innerHTML="";for(var t=z(),e=0;e<t.length;e++){var n=F(t[e],e);I.appendChild(n)}var o=function(t){var e=document.createElement("div");e.className="tp-card tp-card-add",e.setAttribute("tabindex","0"),e.setAttribute("data-index",t);var n=document.createElement("div");n.className="tp-card-icon",n.textContent="+",e.appendChild(n);var o=document.createElement("div");return o.className="tp-card-name",o.textContent="Add Site",e.appendChild(o),e.addEventListener("click",function(){W()}),e.addEventListener("keydown",function(t){13===t.keyCode&&(t.preventDefault(),W())}),e.addEventListener("focus",function(){D=t}),e}(t.length);I.appendChild(o)}}function F(t,e){var n=document.createElement("div");n.className="tp-card",n.setAttribute("tabindex","0"),n.setAttribute("data-card-id",t.id),n.setAttribute("data-index",e);var o=document.createElement("div");if(o.className="tp-card-icon",t.icon){var i=document.createElement("img");i.src=t.icon,i.alt=t.name,i.style.width="100%",i.style.height="100%",i.style.objectFit="cover",i.style.borderRadius="8px",i.onerror=function(){this.style.display="none",o.textContent=B(t.name)},o.appendChild(i)}else o.textContent=B(t.name);n.appendChild(o);var r=document.createElement("div");return r.className="tp-card-name",r.textContent=t.name||"Untitled",n.appendChild(r),n.addEventListener("click",function(){j(t)}),n.addEventListener("keydown",function(e){13===e.keyCode&&(e.preventDefault(),j(t))}),n.addEventListener("focus",function(){D=e}),n}function B(t){return t?t.charAt(0).toUpperCase():"?"}function j(t){console.log("TizenPortal: Launching card:",t.name,t.url),window.TizenPortal&&window.TizenPortal.loadSite&&window.TizenPortal.loadSite(t)}function W(){console.log("TizenPortal: Add card dialog");var t=prompt("Site name:");if(t){var e=prompt("Site URL:");if(e){-1===e.indexOf("://")&&(e="http://"+e);var n=R({name:t,url:e,bundle:"default",userAgent:"tizen"});console.log("TizenPortal: Added card:",n),window.TizenPortal&&window.TizenPortal.showToast("Added: "+t),V()}}}function H(t){var e=I.querySelectorAll(".tp-card");t>=0&&t<e.length&&(e[t].focus(),D=t)}function V(){U(),H(Math.min(D,z().length))}var Y=[],G={log:console.log,warn:console.warn,error:console.error,info:console.info},q=[];function J(){console.log=function(){X("log",arguments),G.log.apply(console,arguments)},console.warn=function(){X("warn",arguments),G.warn.apply(console,arguments)},console.error=function(){X("error",arguments),G.error.apply(console,arguments)},console.info=function(){X("info",arguments),G.info.apply(console,arguments)},window.onerror=function(t,e,n,o,i){X("error",["Uncaught: "+t,"at",e+":"+n+":"+o])},window.onunhandledrejection=function(t){X("error",["Unhandled Promise Rejection:",t.reason])}}function X(t,e){var n=function(t){for(var e=[],n=0;n<t.length;n++){var o=t[n];if(null===o)e.push("null");else if(void 0===o)e.push("undefined");else if("object"===r(o))try{e.push(JSON.stringify(o))}catch(t){e.push("[Object]")}else e.push(String(o))}return e.join(" ")}(e),o={timestamp:Date.now(),level:t,message:n};Y.push(o),Y.length>500&&(Y=Y.slice(-500));for(var i=0;i<q.length;i++)try{q[i](o)}catch(t){G.error("Log listener error:",t)}}function K(){for(var t=["TizenPortal:"],e=0;e<arguments.length;e++)t.push(arguments[e]);console.log.apply(console,t)}function Q(){for(var t=["TizenPortal:"],e=0;e<arguments.length;e++)t.push(arguments[e]);console.warn.apply(console,t)}function $(){for(var t=["TizenPortal:"],e=0;e<arguments.length;e++)t.push(arguments[e]);console.error.apply(console,t)}var Z="0101",tt={initialized:!1,currentCard:null,currentBundle:null,iframeActive:!1};function et(){return nt.apply(this,arguments)}function nt(){var t;return t=o().m(function t(){var e,n;return o().w(function(t){for(;;)switch(t.p=t.n){case 0:if(!tt.initialized){t.n=1;break}return Q("TizenPortal already initialized"),t.a(2);case 1:return K("TizenPortal 0101 initializing..."),t.p=2,t.n=3,p();case 3:K("Polyfills loaded: "+((e=t.v).length>0?e.join(", "):"none needed")),s(),K("Configuration initialized"),J(),K("Diagnostics initialized"),x(),K("Input handler initialized"),L(),K("Portal UI initialized"),tt.initialized=!0,K("TizenPortal 0101 ready"),ot("TizenPortal "+Z),t.n=5;break;case 4:t.p=4,$("Initialization failed: "+(n=t.v).message),console.error(n);case 5:return t.a(2)}},t,null,[[2,4]])}),nt=function(){var n=this,o=arguments;return new Promise(function(i,r){var a=t.apply(n,o);function l(t){e(a,i,r,l,c,"next",t)}function c(t){e(a,i,r,l,c,"throw",t)}l(void 0)})},nt.apply(this,arguments)}function ot(t,e){e=e||3e3;var n=document.getElementById("tp-toast");n&&(n.textContent=t,n.classList.add("visible"),setTimeout(function(){n.classList.remove("visible")},e))}function it(t){var e=document.getElementById("tp-loading"),n=document.getElementById("tp-loading-text");e&&(n&&t&&(n.textContent=t),e.classList.add("active"))}function rt(){var t=document.getElementById("tp-loading");t&&t.classList.remove("active")}var at={version:Z,log:K,warn:Q,error:$,config:{read:f,write:h,onChange:function(t){return"function"!=typeof t?(console.warn("TizenPortal: configOnChange requires a function"),function(){}):(u.push(t),function(){var e=u.indexOf(t);-1!==e&&u.splice(e,1)})}},keys:g,input:{isPointerMode:function(){return f("pointerMode")||!1},isIMEActive:function(){return!1}},polyfills:{has:function(t){return-1!==m.indexOf(t)},loaded:function(){return m.slice()}},loadSite:function(t){if(t&&t.url){K("Loading site: "+t.url),it("Loading "+(t.name||t.url)+"..."),tt.currentCard=t;var e=document.getElementById("tp-iframe-container");if(!e)return $("Iframe container not found"),void rt();e.innerHTML="";var n=document.createElement("iframe");n.id="tp-iframe",n.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms allow-popups"),n.onload=function(){K("Site loaded: "+t.url),rt(),tt.iframeActive=!0},n.onerror=function(e){$("Failed to load site: "+t.url),rt(),ot("Failed to load site")},n.src=t.url,e.appendChild(n),_&&(_.style.display="none"),e.style.display="block"}else $("Cannot load site: invalid card")},closeSite:function(){K("Closing site");var t=document.getElementById("tp-iframe-container");t&&(t.innerHTML="",t.style.display="none"),tt.currentCard=null,tt.currentBundle=null,tt.iframeActive=!1,_&&(_.style.display="flex",H(D)),V()},showToast:ot,showLoading:it,hideLoading:rt,getState:function(){return{initialized:tt.initialized,currentCard:tt.currentCard,currentBundle:tt.currentBundle,iframeActive:tt.iframeActive}},_internal:{state:tt,init:et}};return window.TizenPortal=at,"loading"===document.readyState?document.addEventListener("DOMContentLoaded",et):et(),at}();
